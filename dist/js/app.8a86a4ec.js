(function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3cac":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getId",(function(){return _t})),n.d(r,"max",(function(){return Dt})),n.d(r,"min",(function(){return Ot})),n.d(r,"Observer",(function(){return Wt})),n.d(r,"style",(function(){return Mt})),n.d(r,"requestAnimationFrame",(function(){return Lt})),n.d(r,"frame",(function(){return jt})),n.d(r,"debounce",(function(){return Vt.a})),n.d(r,"preventClick",(function(){return At})),n.d(r,"fetchFile",(function(){return zt})),n.d(r,"clamp",(function(){return Ht})),n.d(r,"distance",(function(){return Bt}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("w-navigation-drawer"),n("w-app-bar"),n("v-main",[n("router-view")],1)],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{attrs:{app:"",dark:"",color:"primary","clipped-left":e.$vuetify.breakpoint.lgAndUp}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[n("span",{staticClass:"hidden-sm-and-down",domProps:{textContent:e._s(e.$store.state.app_name)}})]),n("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$router.push({name:"home"})}}},[n("v-icon",[e._v("mdi-home")])],1),n("v-btn",{attrs:{icon:"",href:e.$store.state.github}},[n("v-icon",[e._v("mdi-github")])],1),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",icon:""}},"v-btn",a,!1),r),[n("v-icon",[e._v("mdi-translate")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){e.$vuetify.lang.current="en"}}},[n("v-list-item-title",[e._v("English")])],1),n("v-list-item",{on:{click:function(t){e.$vuetify.lang.current="ja"}}},[n("v-list-item-title",[e._v("日本語")])],1)],1)],1)],1)},l=[],c=(n("ac1f"),n("841c"),{computed:{drawer:{get:function(){return this.$store.state.app_bar.drawer},set:function(e){this.$store.commit("app_bar/set_drawer",e)}},search:{get:function(){return this.$store.state.app_bar.search},set:function(e){this.$store.commit("app_bar/set_search",e)}}}}),u=c,d=n("2877"),h=n("6544"),p=n.n(h),f=n("40dc"),v=n("5bc1"),m=n("8336"),b=n("132d"),y=n("8860"),w=n("da13"),g=n("5d23"),k=n("e449"),x=n("2fa4"),C=n("8654"),P=n("2a7f"),S=Object(d["a"])(u,s,l,!1,null,"3be7470c",null),T=S.exports;p()(S,{VAppBar:f["a"],VAppBarNavIcon:v["a"],VBtn:m["a"],VIcon:b["a"],VList:y["a"],VListItem:w["a"],VListItemTitle:g["c"],VMenu:k["a"],VSpacer:x["a"],VTextField:C["a"],VToolbarTitle:P["b"]});var E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[t.children?n("v-list-group",{key:t.text,attrs:{"prepend-icon":t.icon},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text.toUpperCase())+" ")])],1)]},proxy:!0}],null,!0)},e._l(t.children,(function(t,r){return n("v-list-item",{key:r,attrs:{link:""},on:{click:function(n){return e.to(t.name)}}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text.toUpperCase())+" ")])],1)],1)})),1):n("v-list-item",{key:t.text,attrs:{link:""},on:{click:function(n){return e.to(t.name)}}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text.toUpperCase())+" ")])],1)],1)]}))],2)],1)},R=[],_=n("b85c"),D=(n("b0c0"),n("466d"),{data:function(){return{items:[{icon:"mdi-home",text:"Home",name:"Home",children:null},{icon:"mdi-code-array",text:"Surfer",name:"Surfer",children:null},{icon:"mdi-file-document",text:"Document",children:[]},{icon:"mdi-xml",text:"Example",children:[]}]}},methods:{to:function(e){e!=this.$route.name&&this.$router.push({name:e})}},computed:{drawer:{get:function(){return this.$store.state.app_bar.drawer},set:function(e){this.$store.commit("app_bar/set_drawer",e)}}},mounted:function(){var e,t=Object(_["a"])(this.$router.options.routes);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.name.match(/docs-/)?this.items[2].children.push(n):n.name.match(/example-/)&&this.items[3].children.push(n)}}catch(r){t.e(r)}finally{t.f()}}}),O=D,W=n("56b0"),M=n("1800"),L=n("f774"),j=Object(d["a"])(O,E,R,!1,null,"40d8d38c",null),F=j.exports;p()(j,{VIcon:b["a"],VList:y["a"],VListGroup:W["a"],VListItem:w["a"],VListItemAction:M["a"],VListItemContent:g["a"],VListItemTitle:g["c"],VNavigationDrawer:L["a"]});var V={name:"App",components:{WNavigationDrawer:F,WAppBar:T},data:function(){return{}}},$=V,A=n("7496"),I=n("f6c4"),z=Object(d["a"])($,i,o,!1,null,null,null),H=z.exports;p()(z,{VApp:A["a"],VMain:I["a"]});var B=n("f309"),q={badge:"バッジ",close:"閉じる",dataIterator:{noResultsText:"検索結果が見つかりません。",loadingText:"項目をロード中です..."},dataTable:{itemsPerPageText:"1ページあたりの行数：",ariaLabel:{sortDescending:"降順の並び替え。",sortAscending:"昇順の並び替え。",sortNone:"ソートされていません。",activateNone:"ソートを削除するには有効にしてください。",activateDescending:"降順の並び替えのためには有効にしてください。",activateAscending:"昇順のソートのためには有効にしてください。"},sortBy:"ソート方式"},dataFooter:{itemsPerPageText:"1ページあたりの件数：",itemsPerPageAll:"すべて",nextPage:"次のページ",prevPage:"前のページ",firstPage:"一ページ目",lastPage:"最後のページ",pageText:"{0}-{1} 件目 / {2}件"},datePicker:{itemsSelected:"{0}日付選択",nextMonthAriaLabel:"来月",nextYearAriaLabel:"来年",prevMonthAriaLabel:"前月",prevYearAriaLabel:"前年"},noDataText:"データはありません。",carousel:{prev:"前のビジュアル",next:"次のビジュアル",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"さらに{0}"},fileInput:{counter:"{0} ファイル",counterSize:"{0} ファイル (合計 {1})"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"ページネーションナビゲーション",next:"次のページ",previous:"前のページ",page:"ページに移動 {0}",currentPage:"現在のページ、ページ {0}"}},wExampleHelpDialog:{headline:"デモの操作方法"},home:{desc:'\n      <b>wavesurfer.vue</b> は <b><a href="https://wavesurfer-js.org/">wavesurfer.js</a></b> を vue で使用するためのラッパーです.\n      </br>\n      <b>Web Audio API</b> および <b>HTML5 Canvas</b> の上に構築されたカスタマイズ可能な音声波形の視覚化を提供します.\n    ',quickStart:{install:"本コンポーネントをインストールするには以下のコマンドを実行してください:",example:"&lt;wave-surfer&gt; コンポーネントは以下のように使用します:",result:"結果は以下のようになります:",next:"&lt;wave-surfer&gt; コンポーネントの詳細な使用方法については以下のドキュメントを参照してください.",warning:'サンプルコード実施時には <code><a href="https://vuetifyjs.com/en/">vuetify</a></code> を導入する必要があることに注意してください.'}},document:{options:{desc:"以下に <wave-suefer /> コンポーネントが受け入れる props の一覧を示します.",headers:{option:"オプション",type:"型",default:"デフォルト",description:"説明"},options:{source:"音声波形に変換されるメディアソース.",showTextGrid:"転記記述層を表示するか否か.",showTimeLine:"タイムラインを表示するか否か.",showPointLine:"ポイントラインを表示するか否か.",showSpectrogram:"スペクトログラムの表示を行うか否か.",showFreqLabel:"スペクトログラム表示時に周波数ラベルを表示するか否か.",rec:"録音モードを実施するか否か.この機能は実験的です.",audioRate:"オーディオを再生する速度. 数値が小さいほど遅くなります.",audioContext:"初期化時に使用した独自の AudioContext または, null のままにします.",audioScriptProcessor:"初期化時に使用した ScriptProcessorNode または null を使用します.",autoCenter:"スクロールバーが表示されている場合, 波形を進行状況の中央に配置します.",backend:"`WebAudio`, `MediaElement` または `MediaElementWebAudio`. `MediaElement` は, サポートされていないブラウザーのフォールバックです.",backgroundColor:"波形コンテナの背景色を変更します.",barGap:"提供されない場合, 波形のバー間のオプションの間隔は, レガシー形式で計算されます",barHeight:"波形バーの高さ. 1 より大きい数は, 波形バーの高さを増やします.",barMinHeight:"波形バーを描画するための最小の高さ. デフォルトの動作では, ミュート時にはバーを描画しません.",barRadius:"バーを丸める半径.",barWidth:"指定すると, このように波形が描画されます: ▁ ▂ ▇ ▃ ▅ ▂",closeAudioContext:"`destroy` メソッドが呼び出されたときに, すべてのオーディオコンテキストを無効にします.",cursorColor:"再生ヘッドの位置を示すカーソルの塗りつぶし色.",cursorWidth:"ピクセル単位で測定されます.",drawingContextAttributes:"キャンバスの 2D 描画コンテキスト属性を指定します.",fillParent:"コンテナ全体を満たすか, minPxPerSec に従ってのみ描画するか.",forceDecode:"ズーム時に Web オーディオを使用してオーディオを強制的にデコードし, より詳細な波形を取得します.",freqRate:'\n            スペクトログラム表示比率.\n            表示される帯域は "freqRate * 12 * チャンネル数" kHz  までになります.\n            この値は, 0.25 から 1  まで 0.25 毎にしか機能しないことに注意してください.\n        ',height:"波形の高さ. ピクセル単位で測定されます.",hideScrollbar:"通常は表示されるときに水平スクロールバーを非表示にするかどうか.",interact:"初期化時にマウス操作を有効にするかどうか. このパラメータは後でいつでも切り替えることができます.",loopSelection:"(regins plugin で使用) 選択したリージョンのループを有効にします.",maxCanvasWidth:"小さなオーバーラップを除いた, ピクセル単位の単一キャンバスの最大幅 (2 * pixelRatio、次の偶数の整数に切り上げ). 波形がこの値よりも長い場合, 追加のキャンバスを使用して波形をレンダリングします.これは, ブラウザが単一のキャンバスに描画するには広すぎる可能性がある非常に大きな波形に役立ちます.このパラメーターは, MultiCanvas レンダラーにのみ適用されます.",mediaControls:"(バックエンドMediaElementで使用) これにより, メディア要素のネイティブコントロールが有効になります.",mediaType:"'audio' または 'video'. バックエンドが `MediaElement` の場合のみ使用されます.",minPxPerSec:"オーディオの 1 秒あたりの最小ピクセル数.",normalize:"true の場合, 1.0ではなく最大ピークで正規化します.",partialRender:"PeakCache を使用して, 波形のレンダリング速度を向上させます.",pixelRatio:"より速くレンダリングするためには 1 に設定してください",progressColor:"カーソルの後ろの波形部分の塗りつぶし色. `progressColor` と `waveColor` が同じ場合, 進行波はレンダリングされません.",removeMediaElementOnDestroy:"プレーヤー破棄時にメディア要素を DOM に保持するには, false に設定します. これは, loadMediaElement メソッドを介して既存のメディア要素を再利用する場合に役立ちます.",responsive:"true に設定すると, ウィンドウのサイズが変更されたときに, 波形のサイズが変更されます. これは、デフォルトで 100ms のタイムアウトでデバウンスされます. このパラメーターが数値の場合, そのタイムアウトを表します.",scrollParent:"長い波形でコンテナをスクロールするかどうか. そうでない場合, 波形はコンテナの幅に縮小されます ( fillParent を参照).",skipLength:"`skipForward()` および skipBackward() メソッドでスキップする秒数.",splitChannels:"オーディオのチャンネルごとに別々の波形でレンダリングします.",targetChannel:"スペクトル表示チャンネル.",waveColor:"カーソルの後の波形の塗りつぶし色.",xhr:"XHR オプション. 例えば以下のような値になります: `{ cache: 'default', mode: 'cors', method: 'GET', credentials: 'same-origin', redirect: 'follow', referrer: 'client', headers: [ { key: 'Authorization', value: 'my-token' } ]}`",freqFontSize:"スペクトログラム表示時の周波数軸フォントサイズ.",unitFontSize:"スペクトログラム表示時の周波数軸単位フォントサイズ.",spectrogramHeight:"スペクトログラム表示時のキャンバスの高さ.",pointWidth:"ポイントライン表示時のポイント幅.",points:"ポイントライン表示時のポイントオブジェクトが格納されたアレイ.",playingOffset:"ポイント層再生時のオフセットタイム.",textgridMaxHeight:"テキストグリッド表示の最大高さ."}},events:{desc:"`<wave-surfer>` コンポーネントから様々なプレーヤーイベントを受け取ることができます. ",descs:{audioprocess:"オーディオの再生中, またはシーク時に継続的に発火します.",dblclick:"インスタンスがダブルクリックされた時に発火します.",destroy:"インスタンスが破棄された際に発火します.",error:"エラー発生時に発火します. コールバックは `error message` (string) を受け取ります.",finish:"音声再生が終了した場合に発火します.",interaction:"`waveform` とのインタラクションが存在する際に発火します.",loading:"フェッチまたはドラッグアンドドロップを使用してロードするときに継続的に発火します. コールバックはロードの進行状況をパーセント[0..100] (integer) で受け取ります.",mute:"ミュート変更時に発火します. コールバックは新しいミュート状態 (boolean) を受け取ります.",pause:"音声再生が停止した際に発火します.",play:"音声再生が開始した際に発火します.",ready:"オーディオが読み込まれ, デコードされて, 波形が描画されます. これは, MediaElement を使用しているときに波形が描画される前に発火します. waveform-ready を参照してください.",scroll:"スクロールバーが移動した際に発火します. コールバックは `ScrollEvent` オブジェクトを受け取ります.",seek:"シーク時に発火します. コールバックは 進行状況 [0..1] (float) を受け取ります.",volume:"ボリューム変更時に発火します. コールバックは新しいボリューム (integer) を受け取ります.","waveform-ready":"`MediaElement` バックエンドを使用している場合, 波形が描画された後に発火します. `WebAudio` バックエンドを使用している場合には, `ready` を使用できます.",zoom:"ズーム時に発火します. コールバックは `minPxPerSec` (integer) を受け取ります."}}},example:{audioElement:{desc:"\n      音声ファイルは Base64 形式に変換し <code>source</code> プロパティに渡してください.\n      <br />\n      <code>source</code> は Base64 形式の他に HTML Audio Element, HTML Video Element\n      そして ファイルへの url をサポートします.\n      <br />\n      <br />\n      例では <code>onFileChange</code> 関数内でユーザから渡された音声ファイルを\n      base64 形式に変換し wave-surfer コンポーネントに渡しています\n      "},videoElement:{desc:'\n      動画ファイルの場合 wave-surfer コンポーネントが提供するコントロールと\n      HTML Video Element が提供するコントロールを単一にする必要があります.\n      <br />\n      そのためには <code>source</code> プロパティには\n      HTML Video Element を渡す必要があることに注意してください.\n      <br />\n      また <code>backend</code> プロパティを <code>"MediaElement"</code> に指定する必要があります.\n      <br /><br />\n      例では <code>onFileChange</code> 関数内でユーザから渡された動画ファイルを base64 化し\n      HTML Video Element に渡しています.\n      <br />\n      また HTML Video Element では <code>loadeddata</code> イベントを監視し\n      動画読み込みが終了したタイミングで\n      wave-surfer コンポーネント の <code>source</code> を設定しています.\n      <br /><br />\n      <b>HTML Video Element の <code>src</code> を変更しても\n      音声波形は再レンダされないことに注意してください.</b>\n      <br />\n      これは <code>source</code> に渡している対象が HTML Video Element であるためです.\n      <br />\n      例では video element に <code>v-if</code> を設定し <code>source</code> が変わるごとに\n      HTML Video Element そのものを再記述させています.\n      '},bars:{desc:"\n      <code>wave-surfer</code> コンポーネントに渡す各種プロパティは動的に反映されます.\n      </br>\n      例では波形の棒およびカーソルの色や太さを変更しています.\n      また波形表示領域の高さを変更できます.\n      </br>\n      </br>\n      ただし完全な再描画が必要になる props があることに注意してください.\n      </br>\n      例えば <code>barWidth</code> は音声を再生しながらでも値の変更が可能ですが\n      <code>barRadius</code> や <code>height</code> はそうではありません.\n      "},splitChannels:{desc:"<code>splitChannels</code> プロパティを有効にするとステレオ音源を分割して表示します"},timeline:{desc:"<code>showTimeLine</code>  プロパティを設定すると音声波形に時刻情報が付与されます."},pointline:{desc:'\n      Point line プラグインはこのライブラリ独自の wavesurfer.js 用プラグインです.\n      </br>\n      このプラグインを有効にするには "showPointLine" プロパティを true にします.\n      </br>\n      "points" プロパティは "time" および "value" 属性を持つ単なる配列です.\n      </br>\n      "points" プロパティの意味は定義しません.\n      例えば F0 や パワー あるいは何かのセンサーを値を waveform と共に表示をしたい際に利用できます.  '},textgrid:{headline:"\n      TextGrid 形式は praat で使用されるアノテーションファイル形式です.\n      </br>\n      <code>wave-surfer</code>コンポーネントでは praat と同様に視覚的に\n      多層化された転記機能を提供します.\n      </br>\n      また TextGrid 形式ファイルのインポートおよびエクスポートを支援します.\n      ",help:"\n      まずは音声ファイルを選択します.\n      </br>\n      サンプルの音声ファイルは /src/assets/media/demo.wav に置いてあります.\n      あるいは任意の wav ファイルまたは mp3 ファイルを使用できます.\n      </br></br>\n      音声ファイルの読み込みに成功すると音声波形とアノテーション管理用コンポーネントが表示されます.\n      </br></br>\n      アノテーション管理用コンポーネントのプラスボタンを押すと新規 TIER 作成ダイアログが表示されます. フォームに従い情報を入力した後で SAVE ボタンを押してください.\n      </br></br>\n      TIER の作成に成功するとアノテーションコンポーネントが音声波形の下に表示されます.\n      またアノテーション管理用コンポーネントには新規追加された TIER がテーブルとして表示されます.\n      </br></br>\n      アノテーションコンポーネントの任意の箇所をダブルクリックすることでアノテーションを行うことができます.\n      またアノテーションコンポーネントの上にあるテキスト入力欄に文字を入力し ENTER を押すと文字情報を記録することができます.\n      </br></br>\n      これらの操作はアノテーション管理用コンポーネントに表示されたテーブルからでも実行可能です.\n      </br></br>\n      既存の textgrid と書かれたインプットフォームをクリックすることで TextGrid ファイルを読み込むことも可能です.\n      </br></br>\n      最後に DOWNLOAD TEXTGRID と書かれたボタンをクリックすることでアノテーション結果を TextGrid 形式でダウンロードすることが可能です.\n      ",desc:"\n      基本的にこのコンポーネントとのデータのやり取りはリアクティブではないことに注意してください.\n      </br></br>\n      アノテーション領域の変更はこのコンポーネントが提供するいくつかのメソッドを使用して行います.\n      また, アノテーション領域のステータスはこのコンポーネントが発火させるイベントを通して\n      取得します.\n      </br></br>\n      showTextGrid を使用時には以下のメソッドを使用可能です.\n      <ul>\n        <li>\n        addTier(key, type): アノテーション領域に新規TIER を作成.\n        </li>\n        <li>\n        deleteTier(key): 指定の TIER を削除\n        </li>\n        <li>\n        addTierValue(key, obj): 指定 TIER にアノテーションオブジェクトを追加\n        </li>\n        <li>\n        setTierValueText(key, index, obj): 指定 TIER のアノテーションオブジェクトを変更\n        </li>\n        <li>\n        deleteTierValue(key, index): 指定 TIER のアノテーションオブジェクトを削除\n        </li>\n        <li>\n        downloadTextGrid(filename): 現在のアノテーション結果を TextGrid ファイルとして保存\n        </li>\n        <li>\n        loadTextGrid(file): TextGrid ファイルをアノテーション領域に表示\n        </li>\n      </ul>\n      </br></br>\n      showTextGrid を使用時には以下のイベントが発生します.\n      <ul>\n      <li>textgrid-dblclick: アノテーション領域がダブルクリックされた際に発火.発火時にはダブルクリックされた地点の時刻情報および空のテキスト情報が渡される.</li>\n      <li>textgrid-click:アノテーション領域がクリックされた際に発火.発火時にはクリック地点に最も近いアノテーションオブジェクトが渡される</li>\n      <li>textgrid-update: textgrid が変更された場合に発火.変更後の全ての textgrid 情\n      報が渡される</li>\n      <li>textgrid-current-update:\n      選択されたアノテーションオブジェクトが変更された場合に発火.現在選択されている TIER の Key および選択されているアノテーションオブジェクトが渡される\n      </li>\n      </ul>\n      "},recording:{desc:'\n      <code>rec</code> プロパティを有効にすると ブラウザを経由しての音声録音が可能です.\n      録音されている音声波形はリアルタイムに音声波形に反映をされ,\n      収録停止後に録音された音声が出力されます.\n      </br></br>\n      この機能は現状実験的なものであることに注意をしてください.\n      </br></br>\n      他機能(例えばスペクトログラムの表示)との連携が一切考慮されていません.\n      </br>\n      また,出力される音声ファイルは ".wav" となっていますが wav 形式ではありません.\n      </br>\n      筆者の余裕と興味が出たタイミングで種々調整を行います.'},spectrogram:{desc:"\n      <code>showSpectrogram</code> props を有効にすることで,\n      音声スペクトログラムの表示が成されます.\n      </br></br>\n      この機能は本コンポーネントに最適化する形で改変されています.\n      </br>\n      オリジナルとは異なり FFT の処理の非同期化を行っており,\n      <code>zoom</code> 時にはスペクトログラムの再レンダを行うようになっています.\n      </br>\n      </br>\n      FFT の処理および, 結果の表示には多少の時間が掛かるため\n      ステレオ音源の場合, 1 ch 分の表示しか行わないことに注意をしてください.\n      </br>\n      計算および表示を行うチャンネルの指定は <code>targetChannel</code> props から行います.\n      </br>\n      </br>\n      <h3>EVENTS</h3>\n      スペクトログラムの表示は音声波形の表示よりも時間がかかります.\n      </br>\n      スペクトログラムの表示状態を把握するために以下のイベントが設定されていることに注意してください:\n      <ul>\n      <li>spectrogram-render-start: スペクトログラムのレンダ開始時に発火</li>\n      <li>spectrogram-render-end: スペクトログラムのレンが終了時に発火</li>\n      </ul>\n      </br>\n      上記サンプルコードでは <code>spectrogram-render-end</code> を監視し\n      スペクトログラムのレンダが終了した際にのみビデオを表示するようにしています.\n      "}}},N={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},wExampleHelpDialog:{headline:"How to use this demo"},home:{desc:'\n      <b>wavesurfer.vue</b> is a wrapper for <b><a href="https://wavesurfer-js.org/">wavesurfer.js</a></b> to use <b>vue.js</b>.\n      </br>\n      It provides a customizable audio waveform visualization built on <b>Web Audio API</b> and <b>HTML5 Canvas</b>.\n    ',quickStart:{install:"To install this components, you can do so by typing:",example:"Use the &lt;wave-surfer&gt; components in your components as follows:",result:"The result is as follows:",next:"For more information on how to use the &lt;wave-surfer&gt; component, see the following documents.",warning:'Please note that <code><a href="https://vuetifyjs.com">vuetify</a></code> is required to run the sample code.'}},document:{options:{desc:"This is the list of props you can pass to <wave-suefer /> to create an instance of the player.",headers:{option:"props",type:"type",default:"default",description:"description"},options:{source:"Media source converted to audio waveform.",showTextGrid:"Whether to display the transcription tiers.",showTimeLine:"Whether to display the timeline.",showPointLine:"Whether to display the pointline.",showSpectrogram:"Whether to display the spectrogram.",showFreqLabel:"Whether to display the frequency label when using showSpectrogram option.",rec:"Whether to execute the recording mode.This feature is experimental.",audioRate:"Speed at which to play audio. Lower number is slower.",audioContext:"Use your own previously initialized AudioContext or leave blank.",audioScriptProcessor:"Use your own previously initialized ScriptProcessorNode or leave blank.",autoCenter:"If a scrollbar is present, center the waveform around the progress.",backend:"WebAudio, MediaElement or MediaElementWebAudio. MediaElement is a fallback for unsupported browsers.",backgroundColor:"Change background color of the waveform container.",barGap:"The optional spacing between bars of the wave, if not provided will be calculated in legacy format.",barHeight:"Height of the waveform bars. Higher number than 1 will increase the waveform bar heights.",barMinHeight:"Minimum height to draw a waveform bar. Default behavior is to not draw a bar during silence.",barRadius:"The radius that makes bars rounded.",barWidth:"If specified, the waveform will be drawn like this: ▁ ▂ ▇ ▃ ▅ ▂",closeAudioContext:"Close and nullify all audio contexts when the destroy method is called.",cursorColor:"The fill color of the cursor indicating the playhead position.",cursorWidth:"Measured in pixels.",drawingContextAttributes:"Specify canvas 2d drawing context attributes.",fillParent:"Whether to fill the entire container or draw only according to minPxPerSec.",forceDecode:"Force decoding of audio using web audio when zooming to get a more detailed waveform.",freqRate:'\n            Spectrogram display bandwidth ratio.\n            For monaural sound sources, "freqRate * 12" kHz is displayed.\n            For stereo sound sources, "freqRate * 24" kHz is displayed.\n            Note that this value works from 0.25 to 1 in steps of 0.25.\n        ',height:"The height of the waveform. Measured in pixels.",hideScrollbar:"Whether to hide the horizontal scrollbar when one would normally be shown.",interact:"Whether the mouse interaction will be enabled at initialization. You can switch this parameter at any time later on.",loopSelection:"(Use with regions plugin) Enable looping of selected regions.",maxCanvasWidth:"Maximum width of a single canvas in pixels, excluding a small overlap (2 * pixelRatio, rounded up to the next even integer). If the waveform is longer than this value, additional canvases will be used to render the waveform, which is useful for very large waveforms that may be too wide for browsers to draw on a single canvas. This parameter is only applicable to the MultiCanvas renderer.",mediaControls:"(Use with backend MediaElement) this enables the native controls for the media element.",mediaType:"'audio' or 'video'. Only used with backend MediaElement.",minPxPerSec:"Minimum number of pixels per second of audio.",normalize:"If true, normalize by the maximum peak instead of 1.0.",partialRender:"Use the PeakCache to improve rendering speed of large waveforms.",pixelRatio:"Can be set to 1 for faster rendering.",progressColor:"The fill color of the part of the waveform behind the cursor. When progressColor and waveColor are the same the progress wave is not rendered at all.",removeMediaElementOnDestroy:"Set to false to keep the media element in the DOM when the player is destroyed. This is useful when reusing an existing media element via the loadMediaElement method.",responsive:"If set to true resize the waveform, when the window is resized. This is debounced with a 100ms timeout by default. If this parameter is a number it represents that timeout.",scrollParent:"Whether to scroll the container with a lengthy waveform. Otherwise the waveform is shrunk to the container width (see fillParent).",skipLength:"Number of seconds to skip with the skipForward() and skipBackward() methods.",splitChannels:"Render with seperate waveforms for the channels of the audio.",targetChannel:"Channel for spectrum display",waveColor:"The fill color of the waveform after the cursor.",xhr:"XHR options. For example: let xhr = { cache: 'default', mode: 'cors', method: 'GET', credentials: 'same-origin', redirect: 'follow', referrer: 'client', headers: [ { key: 'Authorization', value: 'my-token' } ]};",freqFontSize:"The font size of the frequency label when displaying the audio spectrogram.",unitFontSize:"Font size for frequency label unit when displaying audio spectrogram.",spectrogramHeight:"Canvas height when displaying audio spectrogram.",pointWidth:"The width of the point when the point line is displayed.",points:"The point object array displayed on the point line.",playingOffset:"The offset time when playing point tier object.",textgridMaxHeight:"Maximum height of textgrid display."}},events:{desc:"You can receive various player events from the `<wave-surfer>` component.",descs:{audioprocess:"Fires continuously as the audio plays. Also fires on seeking.",dblclick:"When instance is double-clicked.",destroy:"When instance is destroyed.",error:"Occurs on error. Callback will receive (string) error message.",finish:"When it finishes playing.",interaction:"When there's interaction with the waveform.",loading:"Fires continuously when loading using fetch or drag'n'drop. Callback will receive (integer) loading progress in percents [0..100].",mute:"On mute change. Callback will receive (boolean) new mute status.",pause:"When audio is paused.",play:"When playback starts.",ready:"When audio is loaded, decoded and the waveform drawn. This fires before the waveform is drawn when using MediaElement, see waveform-ready.",scroll:"When the scrollbar is moved. Callback will receive a ScrollEvent object.",seek:"On seeking. Callback will receive (float) progress [0..1].",volume:"On volume change. Callback will receive (integer) new volume.","waveform-ready":"Fires after the waveform is drawn when using the MediaElement backend. If you're using the WebAudio backend, you can use ready.",zoom:"On zooming. Callback will receive (integer) minPxPerSec."}}},example:{audioElement:{desc:"\n      Convert the audio file to Base64 format and pass it in the source props at the wave-surfer component.\n      <br />\n      The source props also supports HTML Audio Element, HTML Video Element and url to file.\n      <br />\n      <br />\n      In the example below, the audio file passed from the user is converted to base64 format in the onFileChange function.\n      "},videoElement:{desc:'\n      For video files, the controls provided by the wave-surfer component and the controls provided by the HTML Video Element must be single.\n      <br />\n      To do this, you need to pass the HTML Video Element itself in the "source" props.\n      <br />\n      You also need to specify the "backend" props to "MediaElement".\n      <br />\n      <br />\n      In the example, the video file passed by the user is converted to base64 and passed to HTML Video Element in the onFileChange function.\n      <br />\n      The "loadeddata" event of the HTML Video Element is watched, and sets the source props of the wave-surfer component when the video load finishes.\n      <br />\n      <br />\n      <b>Note that changing the src attribute of the HTML Video Element does not re-render the audio waveform.</b>\n      <br />\n      This is because what you are passing to the "source" props is a same HTML Video Element.\n      <br />\n      In the example, v-if is set for the video element, and the HTML Video Element itself is rewritten each time the source changes.\n      '},bars:{desc:'\n      The props of the "wave-surfer" component are dynamically reflected.\n      </br>\n      In the example, the color and thickness of the waveform bar and cursor are changed.\n      You can also change the height of the waveform display area.\n      </br>\n      </br>\n      But note that some props require a complete redraw.\n      </br>\n      For example, "barWidth" can change the value while playing audio, but "barRadius" and "height" do not.\n      '},spectrogram:{desc:"\n      If the <code>showSpectrogram</code> props is enabled, Audio Spectrogram was shown.\n      </br>\n      This feature is customized for this component.\n      Unlike the original, the FFT calculation is processed asynchronously.\n      In addition, the spectrogram is re-rendered when <code>zoom</code> processing is performed.\n      </br>\n      Note that the FFT calculation takes some time,\n      so the spectrogram to be displayed is only one channel.\n      This is specified by the <code>targetChannel</code> props.\n      </br>\n      </br>\n      <h3>EVENTS</h3>\n      The spectrogram rendering takes longer than the audio waveform rendering.\n      Note that the following events have been set to keep track of\n      which was rendered the spectrogram or not:\n      <ul>\n      <li>spectrogram-render-start: Fire when the spectrogram rendering was started.\n      <li>spectrogram-render-end: Fire when the spectrogram rendering was ended.\n      </ul>\n      </br>\n      In the sample code, <code>spectrogram-render-end</code> event was used\n      to display the video only when the spectrogram rendering has finished.\n      "},splitChannels:{desc:'If the "splitChannels" props is enabled, stereo sound sources will be split and displayed.'},timeline:{desc:'Set the "showTimeLine" props to add a timeline for the audio waveform.'},pointline:{desc:'\n      Point line is an original plugin for wavesurfer.js.\n      </br>\n      </br>\n      "points" props is an array of just some object that has "time" and "value" attr.\n      </br>\n      I don\'t define the meaning of "points".\n      So, You can use "points" props to display any f0s or amplitudes or senser values.\n      '},textgrid:{headline:"\n        TextGrid format is a transcription file format used by praat.\n        </br>\n        <code>wave-surfer</code> component provides visually layered transcription functionality similar to praat.\n        </br>\n        And this component also supports the import and export of TextGrid format files.\n        ",desc:"\n      Please note that data exchange with this component is not reactive.\n      </br>\n      You can change the annotation area using several methods and get the annotation area status from some events.\n      </br></br>\n      You can use the following methods when using showTextGrid.\n      <ul>\n        <li>addTier(key, type): Create a new TIER in the annotation area.</li>\n        <li>deleteTier(key): Delete specified TIER</li>\n        <li>addTierValue(key, obj): Add annotation object to specified TIER</li>\n        <li>setTierValueText(key, index, obj): Change annotation object of specified TIER</li>\n        <li>deleteTierValue(key, index): Delete the annotation object of the specified TIER</li>\n        <li>downloadTextGrid(filename): Save current annotation as a TextGrid file</li>\n        <li>loadTextGrid(file): Display TextGrid file in annotation area</li>\n      </ul>\n      </br>\n      The following events occur when using showTextGrid.\n      <ul>\n      <li>textgrid-dblclick: Fired when the annotation area is double-clicked. When fired, the time information of the double-clicked point and empty text information are passed.</li>\n      <li>textgrid-click: When fired, the annotation object closest to the click point is passed</li>\n      <li>textgrid-update: Fired when the textgrid has changed. All changed textgrid information is passed</li>\n      <li>textgrid-current-update: Fired when the selected annotation object has changed, passing the Key of the currently selected TIER and the selected annotation object.</li>\n      </ul>\n      ",help:"\n      First, select same audio file.\n      </br>\n      A sample audio file is located at /src/assets/media/demo.wav.\n      </br>\n      Alternatively you can use any wav or mp3 file.\n      </br>\n      </br>\n      When your audio file is successfully read, the audio waveform and the annotation management component are displayed.\n      </br>\n      </br>\n      Click the plus button on the annotation management component to display the new TIER creation dialog.\n      </br>\n      After filling in the information according to the form, press the SAVE button.\n      </br>\n      If the TIER is created successfully, the annotation component will be displayed below the audio waveform.\n      </br>\n      The added TIER is displayed as a table in the annotation management component.\n      </br>\n      </br>\n      You can annotate by double-clicking anywhere on the annotation component.\n      </br>\n      You can also record characters by entering characters in the text input field above the annotation component and pressing ENTER.\n      </br>\n      </br>\n      These operations can also be executed from the table displayed in the annotation management component.\n      </br>\n      </br>\n      You can also load a TextGrid file by clicking on the existing input form labeled textgrid.\n      </br>\n      </br>\n      Finally, click the button labeled DOWNLOAD TEXTGRID to download the annotation results in TextGrid format.\n      "},recording:{desc:'\n      Enable the <code>rec</code> property to enable voice recording via the browser.\n      The recorded sound waveform is reflected on the voice waveform in real time,\n      The recorded sound is output after recording is stopped.\n      </br></br>\n      Please note that this feature is currently experimental.\n      </br></br>\n      Coordination with other functions (e.g. spectrogram display) is not considered at all.\n      </br>\n      Also, the output audio file is ".wav", but it is not in wav format.\n      </br>\n      I will make various adjustments depending on my margin and timing when I am interested.\n      '}}};a["a"].use(B["a"]);var G={lang:{locales:{ja:q,en:N},current:"ja"}},U=new B["a"](G),Z=n("2f62"),X={namespaced:!0,state:function(){return{drawer:!1,search:""}},mutations:{set_drawer:function(e,t){e.drawer=t},set_search:function(e,t){e.search=t}},actions:{}};a["a"].use(Z["a"]);var K=new Z["a"].Store({state:{app_name:"wavesurfer.vue",github:"https://github.com/qh73xe/wavesurfer.vue"},mutations:{},actions:{},modules:{app_bar:X}}),Y=(n("99af"),n("8c4f")),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-documentation-layout",{attrs:{heading:e.heading,desc:e.$vuetify.lang.t(e.desc)}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers.map((function(t){return{text:e.$vuetify.lang.t(t.text),sortable:t.sortable,value:t.value}})),items:e.options,"items-per-page":-1,search:e.search}})],1)},Q=[],ee=(n("d81d"),n("a4d3"),n("e01a"),n("4e827"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey lighten-2 fill-height",attrs:{fluid:""}},[n("v-row",[n("v-col",[n("w-jumbotron",{attrs:{heading:e.heading,desc:e.desc}})],1)],1),n("v-row",[n("v-col",[e._t("default")],2)],1)],1)}),te=[],ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"text-center"},[n("h1",{staticClass:"font-weight-light headline",domProps:{textContent:e._s(""+e.heading)}}),e.desc?n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.desc)}}):e._e()])},re=[],ae={name:"WJumbotron.vue",props:{heading:{type:String,default:""},desc:{type:String,default:""}}},ie=ae,oe=Object(d["a"])(ie,ne,re,!1,null,"31c3f018",null),se=oe.exports,le={name:"WDocumentationLayout.vue",components:{WJumbotron:se},props:{heading:{type:String},desc:{type:String}}},ce=le,ue=n("62ad"),de=n("a523"),he=n("0fd9"),pe=Object(d["a"])(ce,ee,te,!1,null,"40aa6cee",null),fe=pe.exports;p()(pe,{VCol:ue["a"],VContainer:de["a"],VRow:he["a"]});var ve="$vuetify.document.options",me={name:"Options.vue",components:{WDocumentationLayout:fe},data:function(){return{locale:ve,heading:"wavesurfer.vue/documentation/options",desc:"".concat(ve,".desc"),headers:[{text:"".concat(ve,".headers.option"),value:"option",sortable:!0},{text:"".concat(ve,".headers.type"),value:"type",sortable:!0},{text:"".concat(ve,".headers.default"),value:"default",sortable:!1},{text:"".concat(ve,".headers.description"),value:"description",sortable:!1}],options:[]}},computed:{search:{get:function(){return this.$store.state.app_bar.search},set:function(e){this.$store.commit("app_bar/set_search",e)}}},mounted:function(){var e=this,t=[{option:"source",type:"string or HTML Video Element or HTML Audio Element",default:"''"},{option:"showTextGrid",type:"boolean",default:"false"},{option:"showTimeLine",type:"boolean",default:"false"},{option:"showPointLine",type:"boolean",default:"false"},{option:"showSpectrogram",type:"boolean",default:"false"},{option:"showFreqLabel",type:"boolean",default:"false"},{option:"rec",type:"boolean",default:"false"},{option:"audioRate",type:"float",default:"1"},{option:"audioContext",type:"object",default:"{}"},{option:"audioScriptProcessor",type:"object",default:"{}"},{option:"autoCenter",type:"boolean",default:"true"},{option:"backend",type:"string",default:"WebAudio"},{option:"backgroundColor",type:"string",default:"none"},{option:"barGap",type:"number",default:"none"},{option:"barHeight",type:"number",default:"1"},{option:"barMinHeight",type:"number",default:"null"},{option:"barRadius",type:"number",default:"0"},{option:"barWidth",type:"number",default:"none"},{option:"closeAudioContext",type:"boolean",default:"false"},{option:"cursorColor",type:"string",default:"#333"},{option:"cursorWidth",type:"integer",default:"1"},{option:"drawingContextAttributes",type:"object",default:"{desynchronized: true}"},{option:"fillParent",type:"boolean",default:"true"},{option:"forceDecode",type:"boolean",default:"false"},{option:"height",type:"integer",default:"128"},{option:"hideScrollbar",type:"boolean",default:"false"},{option:"interact",type:"boolean",default:"true"},{option:"loopSelection",type:"boolean",default:"true"},{option:"maxCanvasWidth",type:"integer",default:"4000"},{option:"mediaControls",type:"boolean",default:"false"},{option:"mediaType",type:"string",default:"audio"},{option:"minPxPerSec",type:"integer",default:"50"},{option:"normalize",type:"boolean",default:"false"},{option:"partialRender",type:"boolean",default:"false"},{option:"pixelRatio",type:"integer",default:"window.devicePixelRatio"},{option:"progressColor",type:"string",default:"#555"},{option:"removeMediaElementOnDestroy",type:"boolean",default:"true"},{option:"responsive",type:"boolean or float",default:"false"},{option:"scrollParent",type:"boolean",default:"false"},{option:"skipLength",type:"float",default:"2"},{option:"splitChannels",type:"boolean",default:"false"},{option:"targetChannel",type:"number",default:"0"},{option:"waveColor",type:"string",default:"#999"},{option:"xhr",type:"Object",default:"{}"},{option:"freqRate",type:"Number",default:1},{option:"freqFontSize",type:"Number",default:12},{option:"unitFontSize",type:"Number",default:10},{option:"spectrogramHeight",type:"Number",default:256},{option:"pointWidth",type:"Number",default:1},{option:"points",type:"Array",default:"[]"},{option:"playingOffset",type:"number",default:"1"},{option:"textgridMaxHeight",type:"string or null",default:"null"}];this.options=t.map((function(t){return t.description=e.$vuetify.lang.t("".concat(e.locale,".options.").concat(t.option)),t})),this.options.sort((function(e,t){return e.option>t.option?1:-1}))}},be=me,ye=n("8fea"),we=Object(d["a"])(be,J,Q,!1,null,"7859bc6e",null),ge=we.exports;p()(we,{VDataTable:ye["a"]});var ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-documentation-layout",{attrs:{heading:e.heading,desc:e.desc}},[e.search.length>0?n("v-list",{attrs:{"two-line":""}},e._l(e.items.filter((function(t){return~t[0].indexOf(e.search)})),(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t[0]))]),n("v-list-item-subtitle",[e._v(e._s(t[1]))])],1)],1)})),1):n("v-list",{attrs:{"two-line":""}},e._l(e.items,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t[0]))]),n("v-list-item-subtitle",[e._v(e._s(t[1]))])],1)],1)})),1)],1)},xe=[],Ce={name:"Methods.vue",components:{WDocumentationLayout:fe},data:function(){return{heading:"wavesurfer.vue/documentation/methods",desc:'After creating an instance of the component (with ref="wavesurfer"), you can call the following methods on it:',items:[["cancelAjax()","Cancel the audio file loading process."],["destroy()","Removes events, elements and disconnects Web Audio nodes."],["empty()","Clears the waveform as if a zero-length audio is loaded."],["getActivePlugins()","Returns a map of plugin names that are currently initialised."],["getBackgroundColor()","Returns the background color of the waveform container."],["getCurrentTime()","Returns current progress in seconds."],["getCursorColor()","Returns the fill color of the cursor indicating the playhead position."],["getDuration()","Returns the duration of an audio clip in seconds."],["getPlaybackRate()","Returns the playback speed of an audio clip."],["getProgressColor()","Returns the fill color of the waveform behind the cursor."],["getVolume()","Returns the volume of the current audio clip."],["getMute()","Returns the current mute status."],["getFilters()","Returns an array of the current set filters."],["getWaveColor()","Returns the fill color of the waveform after the cursor."],["exportPCM(length, accuracy, noWindow, start)","Exports PCM data into a JSON array. Optional parameters length [number] - default: 1024, accuracy [number] - default: 10000, noWindow [true|false] - default: false, start [number] - default: 0exportImage(format, quality, type)","Return waveform image as data URI or Blob."],["isPlaying()","Returns true if currently playing, false otherwise."],["load(url, peaks, preload)","Loads audio from URL via XHR. Optional array of peaks. Optional preload parameter [none|metadata|auto], passed to the Audio element if using backend MediaElement."],["loadBlob(url)","Loads audio from a Blob or File object."],["on(eventName, callback)","Subscribes to an event. See WaveSurfer Events for the list of all events."],["un(eventName, callback)","Unsubscribes from an event."],["unAll()","Unsubscribes from all events."],["pause()","Stops playback."],["play([start[, end]])","Starts playback from the current position. Optional start and end measured in seconds can be used to set the range of audio to play."],["playPause()","Plays if paused, pauses if playing."],["seekAndCenter(progress)","Seeks to a progress and centers view [0..1] (0 = beginning, 1 = end)."],["seekTo(progress)","Seeks to a progress [0..1] (0 = beginning, 1 = end)."],["setBackgroundColor(color)","Sets the background color of the waveform container."],["setCursorColor(color)","Sets the fill color of the cursor indicating the playhead position."],["setHeight(height)","Sets the height of the waveform."],["setFilter(filters)","For inserting your own WebAudio nodes into the graph. See Connecting Filters below."],["setPlaybackRate(rate)","Sets the speed of playback (0.5 is half speed, 1 is normal speed, 2 is double speed and so on)."],["setPlayEnd(position)","Sets set a point in seconds for playback to stop at."],["setVolume(newVolume)","Sets the playback volume to a new value [0..1] (0 = silent, 1 = maximum)."],["setMute(mute)","Mute the current sound. Can be a boolean value of true to mute sound or false to unmute"],["setProgressColor(color)","Sets the fill color of the waveform behind the cursor."],["setWaveColor(color)","Sets the fill color of the waveform after the cursor."],["skip(offset)","Skip a number of seconds from the current position (use a negative value to go backwards)."],["skipBackward()","Rewind skipLength seconds."],["skipForward()","Skip ahead skipLength seconds."],["setSinkId(deviceId)","Set the sink id to change audio output device."],["stop()","Stops and goes to the beginning."],["toggleMute()","Toggles the volume on and off."],["toggleInteraction()","Toggle mouse interaction."],["toggleScroll()","Toggles scrollParent."],["zoom(pxPerSec)","Horizontally zooms the waveform in and out. The parameter is a number of horizontal pixels per second of audio. It also changes the parameter minPxPerSec and enables the scrollParent option."]]}},computed:{search:{get:function(){return this.$store.state.app_bar.search},set:function(e){this.$store.commit("app_bar/set_search",e)}}}},Pe=Ce,Se=Object(d["a"])(Pe,ke,xe,!1,null,"63cde656",null),Te=Se.exports;p()(Se,{VList:y["a"],VListItem:w["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"]});var Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-documentation-layout",{attrs:{heading:e.heading,desc:e.$vuetify.lang.t(e.desc)}},[e.search.length>0?n("v-list",{attrs:{"two-line":""}},e._l(e.items.filter((function(t){return~t[0].indexOf(e.search)})),(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t))]),n("v-list-item-subtitle",[e._v(" "+e._s(e.$vuetify.lang.t(e.locale+".descs."+t))+" ")])],1)],1)})),1):n("v-list",{attrs:{"two-line":""}},e._l(e.items,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t))]),n("v-list-item-subtitle",[e._v(" "+e._s(e.$vuetify.lang.t(e.locale+".descs."+t))+" ")])],1)],1)})),1)],1)},Re=[],_e="$vuetify.document.events",De={name:"Events.vue",components:{WDocumentationLayout:fe},data:function(){return{heading:"wavesurfer.vue/documentation/events",locale:_e,desc:"".concat(_e,".desc"),items:["audioprocess","dblclick","destroy","error","finish","interaction","loading","mute","pause","play","ready","scroll","seek","volume","waveform-ready","zoom"]}},computed:{search:{get:function(){return this.$store.state.app_bar.search},set:function(e){this.$store.commit("app_bar/set_search",e)}}}},Oe=De,We=Object(d["a"])(Oe,Ee,Re,!1,null,"3a3e842a",null),Me=We.exports;p()(We,{VList:y["a"],VListItem:w["a"],VListItemContent:g["a"],VListItemSubtitle:g["b"],VListItemTitle:g["c"]});var Le="docs",je=[{path:"/".concat(Le,"/options"),name:"".concat(Le,"-option"),text:"Options",component:ge},{path:"/".concat(Le,"/methods"),name:"".concat(Le,"-methods"),text:"Methods",component:Te},{path:"/".concat(Le,"/events"),name:"".concat(Le,"-events"),text:"Events",component:Me}],Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}})]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{source:e.source,responsive:""},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady}}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},Ve=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey lighten-2 fill-height",attrs:{fluid:""}},[n("v-row",[n("v-col",[n("w-jumbotron",{attrs:{heading:e.heading,desc:e.desc}})],1)],1),n("v-row",[n("v-col",[e._t("default")],2)],1),n("v-row",[n("v-col",[n("v-tabs",{attrs:{dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return n("v-tab",{key:t.tab},[e._v(" "+e._s(t.tab)+" ")])})),1),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return n("v-tab-item",{key:t.tab,staticClass:"overflow-y-auto",staticStyle:{"max-height":"400px"}},["Template"==t.tab?n("w-code-heighlight",[e._v(" "+e._s(e.template_string)+" ")]):e._e(),"Script"==t.tab?n("w-code-heighlight",[e._v(" "+e._s(e.script_string)+" ")]):e._e(),"Style"==t.tab?n("w-code-heighlight",[e._v(" "+e._s(e.style_string)+" ")]):e._e()],1)})),1)],1)],1),n("v-row",[n("v-col",[n("v-alert",{staticClass:"mb-0",attrs:{border:"left"}},[e._t("desc")],2)],1)],1)],1)},Ae=[],Ie=(n("a15b"),n("4de4"),n("d3b7"),n("1276"),n("498a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("code-highlight",[e._t("default")],2)}),ze=[],He=n("8695"),Be=(n("00e9"),{name:"WCode.vue",props:{},directives:{escapeContent:{bind:function(e){var t=e.innerHTML;e.textContent=t}}},components:{CodeHighlight:He["a"]}}),qe=Be,Ne=(n("d4c37"),Object(d["a"])(qe,Ie,ze,!1,null,"658f5ee9",null)),Ge=Ne.exports,Ue={name:"WExampleLayout.vue",components:{WJumbotron:se,WCodeHeighlight:Ge},data:function(){return{tab:null,items:[{tab:"Template",content:"template"},{tab:"Script",content:"script"},{tab:"Style",content:"style"}]}},props:{heading:{type:String},desc:{type:String},template_code:{type:String,default:""},script_code:{type:String,default:""},style_code:{type:String,default:""}},computed:{template_string:function(){if(0==this.template_code.length)return"<template></template>";var e,t=[],n=Object(_["a"])(this.template_code.split("\n").filter((function(e){return e.trim().length>0})));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(a){n.e(a)}finally{n.f()}return"<template>\n".concat(t.join("\n"),"\n</template>")},script_string:function(){if(0==this.script_code.length)return"<script><\/script>";var e,t=[],n=Object(_["a"])(this.script_code.split("\n").filter((function(e){return e.trim().length>0})));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(a){n.e(a)}finally{n.f()}return"<script>\n".concat(t.join("\n"),"\n<\/script>")},style_string:function(){if(0==this.style_code.length)return"<style scoped></style>";var e,t=[],n=Object(_["a"])(this.style_code.split("\n").filter((function(e){return e.trim().length>0})));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(a){n.e(a)}finally{n.f()}return"<style scoped>\n".concat(t.join("\n"),"\n</style>")}}},Ze=Ue,Xe=n("0798"),Ke=n("71a3"),Ye=n("c671"),Je=n("fe57"),Qe=n("aac8"),et=Object(d["a"])(Ze,$e,Ae,!1,null,"756bcb44",null),tt=et.exports;p()(et,{VAlert:Xe["a"],VCol:ue["a"],VContainer:de["a"],VRow:he["a"],VTab:Ke["a"],VTabItem:Ye["a"],VTabs:Je["a"],VTabsItems:Qe["a"]});var nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mx-auto"},[n("v-system-bar",{attrs:{color:"primary darken-2",dark:""}},[n("v-spacer"),n("v-icon",[e._v("mdi-window-minimize")]),n("v-icon",[e._v("mdi-window-maximize")]),n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar",{attrs:{color:"primary",dark:""}},[n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),e._t("toolbar")],2),n("v-card-text",[e._t("input-form")],2),e._t("default")],2)},rt=[],at={name:"WExampleDemoCard.vue",props:{title:{type:String,default:"wave-surfer-demo"}}},it=at,ot=n("b0af"),st=n("99d9"),lt=n("afd9"),ct=n("71d9"),ut=Object(d["a"])(it,nt,rt,!1,null,"25fe2e64",null),dt=ut.exports;p()(ut,{VCard:ot["a"],VCardText:st["b"],VIcon:b["a"],VSpacer:x["a"],VSystemBar:lt["a"],VToolbar:ct["a"],VToolbarTitle:P["b"]});var ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-actions",[n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.skipBackward}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-skip-backward")])],1),n("v-spacer"),n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.playPause}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-play-pause")])],1),n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.play}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-play")])],1),n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.pause}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-pause")])],1),n("v-spacer"),n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.skipForward}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-skip-forward")])],1)],1)},pt=[],ft={name:"w-example-demo-card-actions",props:{ws:{type:Object}},methods:{play:function(){this.ws&&this.ws.play()},pause:function(){this.ws&&this.ws.pause()},playPause:function(){this.ws&&this.ws.playPause()},skipBackward:function(){this.ws&&this.ws.skipBackward()},skipForward:function(){this.ws&&this.ws.skipForward()}}},vt=ft,mt=Object(d["a"])(vt,ht,pt,!1,null,"5305e847",null),bt=mt.exports;p()(mt,{VBtn:m["a"],VCardActions:st["a"],VIcon:b["a"],VSpacer:x["a"]});var yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ws"},[e.showSpectrogram?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSpectrogramRendering,expression:"!isSpectrogramRendering"}],ref:"spectrogram",staticClass:"overflow-y-auto",style:"max-height: "+e.spectrogramMaxHeight,attrs:{tabindex:"1"},on:{keyup:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("spectrogram-keyup",t)},keydown:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("spectrogram-keydown",t)}}}):e._e(),e._t("default"),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSpectrogramRendering,expression:"!isSpectrogramRendering"}],ref:"waveform",attrs:{tabindex:"2"},on:{keyup:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("waveform-keyup",t)},keydown:function(t){return t.stopPropagation(),t.preventDefault(),e.$emit("waveform-keydown",t)}}}),e.showTimeLine?n("div",{ref:"timeline"}):e._e(),e.showPointLine?n("div",{ref:"pointline"}):e._e(),e._t("textform"),e.showTextGrid?n("div",{ref:"textgrid",staticClass:"overflow-y-auto",style:"max-height: "+e.textgridMaxHeight}):e._e()],2)},wt=[],gt=n("2909"),kt=n("53ca"),xt=(n("a9e3"),n("00b4"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("99de")),Ct=n("257e"),Pt=n("262e"),St=n("2caf"),Tt=n("ade3"),Et=n("d4ec"),Rt=n("bee2");n("159b"),n("b64b"),n("7039"),n("e9c4"),n("25f0");function _t(e){return void 0===e&&(e="wavesurfer_"),e+Math.random().toString(32).substring(2)}function Dt(e){var t=-1/0;return Object.keys(e).forEach((function(n){e[n]>t&&(t=e[n])})),t}function Ot(e){var t=Number(1/0);return Object.keys(e).forEach((function(n){e[n]<t&&(t=e[n])})),t}n("a434"),n("caad"),n("2532");var Wt=function(){function e(){Object(Et["a"])(this,e),this._disabledEventEmissions=[],this.handlers=null}return Object(Rt["a"])(e,[{key:"on",value:function(e,t){var n=this;this.handlers||(this.handlers={});var r=this.handlers[e];return r||(r=this.handlers[e]=[]),r.push(t),{name:e,callback:t,un:function(e,t){return n.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var n,r=this.handlers[e];if(r)if(t)for(n=r.length-1;n>=0;n--)r[n]==t&&r.splice(n,1);else r.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(e,t){var n=this,r=function r(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];t.apply(n,i),setTimeout((function(){n.un(e,r)}),0)};return this.on(e,r)}},{key:"setDisabledEventEmissions",value:function(e){this._disabledEventEmissions=e}},{key:"_isDisabledEventEmission",value:function(e){return this._disabledEventEmissions&&this._disabledEventEmissions.includes(e)}},{key:"fireEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.handlers&&!this._isDisabledEventEmission(e)){var a=this.handlers[e];a&&a.forEach((function(e){e.apply(void 0,n)}))}}}]),e}();function Mt(e,t){return Object.keys(t).forEach((function(n){e.style[n]!==t[n]&&(e.style[n]=t[n])})),e}var Lt=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(window);function jt(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lt((function(){return e.apply(void 0,n)}))}}var Ft=n("b012"),Vt=n.n(Ft);function $t(e){e.stopPropagation(),document.body.removeEventListener("click",$t,!0)}function At(e){document.body.addEventListener("click",$t,!0)}var It=function(){function e(t,n,r){Object(Et["a"])(this,e),this.instance=t,this.instance._reader=r.body.getReader(),this.total=parseInt(n,10),this.loaded=0}return Object(Rt["a"])(e,[{key:"start",value:function(e){var t=this,n=function n(){t.instance._reader.read().then((function(r){var a=r.done,i=r.value;if(a)return 0===t.total&&t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!1}),void e.close();t.loaded+=i.byteLength,t.instance.onProgress.call(t.instance,{loaded:t.loaded,total:t.total,lengthComputable:!(0===t.total)}),e.enqueue(i),n()})).catch((function(t){e.error(t)}))};n()}}]),e}();function zt(e){if(!e)throw new Error("fetch options missing");if(!e.url)throw new Error("fetch url missing");var t=new Wt,n=new Headers,r=new Request(e.url);t.controller=new AbortController,e&&e.requestHeaders&&e.requestHeaders.forEach((function(e){n.append(e.key,e.value)}));var a=e.responseType||"json",i={method:e.method||"GET",headers:n,mode:e.mode||"cors",credentials:e.credentials||"same-origin",cache:e.cache||"default",redirect:e.redirect||"follow",referrer:e.referrer||"client",signal:t.controller.signal};return fetch(r,i).then((function(e){t.response=e;var n=!0;e.body||(n=!1);var r=e.headers.get("content-length");return null===r&&(n=!1),n?(t.onProgress=function(e){t.fireEvent("progress",e)},new Response(new ReadableStream(new It(t,r,e)),i)):e})).then((function(e){var t;if(e.ok)switch(a){case"arraybuffer":return e.arrayBuffer();case"json":return e.json();case"blob":return e.blob();case"text":return e.text();default:t="Unknown responseType: "+a;break}throw t||(t="HTTP error status: "+e.status),new Error(t)})).then((function(e){t.fireEvent("success",e)})).catch((function(e){t.fireEvent("error",e)})),t.fetchRequest=r,t}function Ht(e,t,n){return Math.min(Math.max(t,e),n)}function Bt(e,t){return Math.abs(e-t)}var qt=function(e){Object(Pt["a"])(n,e);var t=Object(St["a"])(n);function n(e,r){var a;return Object(Et["a"])(this,n),a=t.call(this),a.container=e,a.params=r,a.width=0,a.height=r.height*a.params.pixelRatio,a.lastPos=0,a.wrapper=null,a}return Object(Rt["a"])(n,[{key:"style",value:function(e,t){return Mt(e,t)}},{key:"createWrapper",value:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,t){!t&&e.preventDefault();var n,r=e.targetTouches?e.targetTouches[0].clientX:e.clientX,a=this.wrapper.getBoundingClientRect(),i=this.width,o=this.getWidth();return n=!this.params.fillParent&&i<o?(this.params.rtl?a.right-r:r-a.left)*(this.params.pixelRatio/i)||0:((this.params.rtl?a.right-r:r-a.left)+this.wrapper.scrollLeft)/this.wrapper.scrollWidth||0,Ht(n,0,1)}},{key:"setupWrapperEvents",value:function(){var e=this;this.wrapper.addEventListener("click",(function(t){var n=e.wrapper.offsetHeight-e.wrapper.clientHeight;if(0!==n){var r=e.wrapper.getBoundingClientRect();if(t.clientY>=r.bottom-n)return}e.params.interact&&e.fireEvent("click",t,e.handleEvent(t))})),this.wrapper.addEventListener("dblclick",(function(t){e.params.interact&&e.fireEvent("dblclick",t,e.handleEvent(t))})),this.wrapper.addEventListener("scroll",(function(t){return e.fireEvent("scroll",t)}))}},{key:"drawPeaks",value:function(e,t,n,r){this.setWidth(t)||this.clearWave(),this.params.barWidth?this.drawBars(e,0,n,r):this.drawWave(e,0,n,r)}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)}},{key:"recenterOnPosition",value:function(e,t){var n=this.wrapper.scrollLeft,r=~~(this.wrapper.clientWidth/2),a=this.wrapper.scrollWidth-this.wrapper.clientWidth,i=e-r,o=i-n;if(0!=a){if(!t&&-r<=o&&o<r){var s=this.params.autoCenterRate;s/=r,s*=a,o=Math.max(-s,Math.min(s,o)),i=n+o}i=Math.max(0,Math.min(a,i)),i!=n&&(this.wrapper.scrollLeft=i)}}},{key:"getScrollX",value:function(){var e=0;if(this.wrapper){var t=this.params.pixelRatio;if(e=Math.round(this.wrapper.scrollLeft*t),this.params.scrollParent){var n=~~(this.wrapper.scrollWidth*t-this.getWidth());e=Math.min(n,Math.max(0,e))}}return e}},{key:"getWidth",value:function(){return Math.round(this.container.clientWidth*this.params.pixelRatio)}},{key:"setWidth",value:function(e){return this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"setHeight",value:function(e){return e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(e){var t=1/this.params.pixelRatio,n=Math.round(e*this.width)*t;if(n<this.lastPos||n-this.lastPos>=t){if(this.lastPos=n,this.params.scrollParent&&this.params.autoCenter){var r=~~(this.wrapper.scrollWidth*e);this.recenterOnPosition(r,this.params.autoCenterImmediately)}this.updateProgress(n)}}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container&&this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,n,r){}},{key:"drawWave",value:function(e,t,n,r){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}]),n}(Wt),Nt=(n("cb29"),function(){function e(){Object(Et["a"])(this,e),this.wave=null,this.waveCtx=null,this.progress=null,this.progressCtx=null,this.start=0,this.end=1,this.id=_t("undefined"!==typeof this.constructor.name?this.constructor.name.toLowerCase()+"_":"canvasentry_"),this.canvasContextAttributes={}}return Object(Rt["a"])(e,[{key:"initWave",value:function(e){this.wave=e,this.waveCtx=this.wave.getContext("2d",this.canvasContextAttributes)}},{key:"initProgress",value:function(e){this.progress=e,this.progressCtx=this.progress.getContext("2d",this.canvasContextAttributes)}},{key:"updateDimensions",value:function(e,t,n,r){this.start=this.wave.offsetLeft/t||0,this.end=this.start+e/t,this.wave.width=n,this.wave.height=r;var a={width:e+"px"};Mt(this.wave,a),this.hasProgressCanvas&&(this.progress.width=n,this.progress.height=r,Mt(this.progress,a))}},{key:"clearWave",value:function(){this.waveCtx.clearRect(0,0,this.waveCtx.canvas.width,this.waveCtx.canvas.height),this.hasProgressCanvas&&this.progressCtx.clearRect(0,0,this.progressCtx.canvas.width,this.progressCtx.canvas.height)}},{key:"setFillStyles",value:function(e,t){this.waveCtx.fillStyle=e,this.hasProgressCanvas&&(this.progressCtx.fillStyle=t)}},{key:"fillRects",value:function(e,t,n,r,a){this.fillRectToContext(this.waveCtx,e,t,n,r,a),this.hasProgressCanvas&&this.fillRectToContext(this.progressCtx,e,t,n,r,a)}},{key:"fillRectToContext",value:function(e,t,n,r,a,i){e&&(i?this.drawRoundedRect(e,t,n,r,a,i):e.fillRect(t,n,r,a))}},{key:"drawRoundedRect",value:function(e,t,n,r,a,i){0!==a&&(a<0&&(a*=-1,n-=a),e.beginPath(),e.moveTo(t+i,n),e.lineTo(t+r-i,n),e.quadraticCurveTo(t+r,n,t+r,n+i),e.lineTo(t+r,n+a-i),e.quadraticCurveTo(t+r,n+a,t+r-i,n+a),e.lineTo(t+i,n+a),e.quadraticCurveTo(t,n+a,t,n+a-i),e.lineTo(t,n+i),e.quadraticCurveTo(t,n,t+i,n),e.closePath(),e.fill())}},{key:"drawLines",value:function(e,t,n,r,a,i){this.drawLineToContext(this.waveCtx,e,t,n,r,a,i),this.hasProgressCanvas&&this.drawLineToContext(this.progressCtx,e,t,n,r,a,i)}},{key:"drawLineToContext",value:function(e,t,n,r,a,i,o){if(e){var s,l,c,u=t.length/2,d=Math.round(u*this.start),h=Math.round(u*this.end)+1,p=d,f=h,v=this.wave.width/(f-p-1),m=r+a,b=n/r;for(e.beginPath(),e.moveTo((p-d)*v,m),e.lineTo((p-d)*v,m-Math.round((t[2*p]||0)/b)),s=p;s<f;s++)l=t[2*s]||0,c=Math.round(l/b),e.lineTo((s-d)*v+this.halfPixel,m-c);var y=f-1;for(y;y>=p;y--)l=t[2*y+1]||0,c=Math.round(l/b),e.lineTo((y-d)*v+this.halfPixel,m-c);e.lineTo((p-d)*v,m-Math.round((t[2*p+1]||0)/b)),e.closePath(),e.fill()}}},{key:"destroy",value:function(){this.waveCtx=null,this.wave=null,this.progressCtx=null,this.progress=null}},{key:"getImage",value:function(e,t,n){var r=this;return"blob"===n?new Promise((function(n){r.wave.toBlob(n,e,t)})):"dataURL"===n?this.wave.toDataURL(e,t):void 0}}]),e}()),Gt=function(e){Object(Pt["a"])(n,e);var t=Object(St["a"])(n);function n(e,r){var a;return Object(Et["a"])(this,n),a=t.call(this,e,r),a.maxCanvasWidth=r.maxCanvasWidth,a.maxCanvasElementWidth=Math.round(r.maxCanvasWidth/r.pixelRatio),a.hasProgressCanvas=r.waveColor!=r.progressColor,a.halfPixel=.5/r.pixelRatio,a.canvases=[],a.progressWave=null,a.EntryClass=Nt,a.canvasContextAttributes=r.drawingContextAttributes,a.overlap=2*Math.ceil(r.pixelRatio/2),a.barRadius=r.barRadius||0,a}return Object(Rt["a"])(n,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{position:"absolute",zIndex:3,left:0,top:0,bottom:0,overflow:"hidden",width:"0",display:"none",boxSizing:"border-box",borderRightStyle:"solid",pointerEvents:"none"})),this.addCanvas(),this.updateCursor()}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){var e=this,t=Math.round(this.width/this.params.pixelRatio),n=Math.ceil(t/(this.maxCanvasElementWidth+this.overlap));while(this.canvases.length<n)this.addCanvas();while(this.canvases.length>n)this.removeCanvas();var r=this.maxCanvasWidth+this.overlap,a=this.canvases.length-1;this.canvases.forEach((function(t,n){n==a&&(r=e.width-e.maxCanvasWidth*a),e.updateDimensions(t,r,e.height),t.clearWave()}))}},{key:"addCanvas",value:function(){var e=new this.EntryClass;e.canvasContextAttributes=this.canvasContextAttributes,e.hasProgressCanvas=this.hasProgressCanvas,e.halfPixel=this.halfPixel;var t=this.maxCanvasElementWidth*this.canvases.length;e.initWave(this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:2,left:t+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"}))),this.hasProgressCanvas&&e.initProgress(this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0,height:"100%"}))),this.canvases.push(e)}},{key:"removeCanvas",value:function(){var e=this.canvases[this.canvases.length-1];e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress),e&&(e.destroy(),e=null),this.canvases.pop()}},{key:"updateDimensions",value:function(e,t,n){var r=Math.round(t/this.params.pixelRatio),a=Math.round(this.width/this.params.pixelRatio);e.updateDimensions(r,a,t,n),this.style(this.progressWave,{display:"block"})}},{key:"clearWave",value:function(){var e=this;jt((function(){e.canvases.forEach((function(e){return e.clearWave()}))}))()}},{key:"drawBars",value:function(e,t,n,r){var a=this;return this.prepareDraw(e,t,n,r,(function(e){var t=e.absmax,i=e.hasMinVals,o=(e.height,e.offsetY),s=e.halfH,l=e.peaks;if(void 0!==n){var c=i?2:1,u=l.length/c,d=a.params.barWidth*a.params.pixelRatio,h=null===a.params.barGap?Math.max(a.params.pixelRatio,~~(d/2)):Math.max(a.params.pixelRatio,a.params.barGap*a.params.pixelRatio),p=d+h,f=u/a.width,v=n,m=r,b=v;for(b;b<m;b+=p){var y=l[Math.floor(b*f*c)]||0,w=Math.round(y/t*s);0==w&&a.params.barMinHeight&&(w=a.params.barMinHeight),a.fillRect(b+a.halfPixel,s-w+o,d+a.halfPixel,2*w,a.barRadius)}}}))}},{key:"drawWave",value:function(e,t,n,r){var a=this;return this.prepareDraw(e,t,n,r,(function(e){var t=e.absmax,i=e.hasMinVals,o=(e.height,e.offsetY),s=e.halfH,l=e.peaks,c=e.channelIndex;if(!i){var u=[],d=l.length,h=0;for(h;h<d;h++)u[2*h]=l[h],u[2*h+1]=-l[h];l=u}void 0!==n&&a.drawLine(l,t,s,o,n,r,c),a.fillRect(0,s+o-a.halfPixel,a.width,a.halfPixel,a.barRadius)}))}},{key:"drawLine",value:function(e,t,n,r,a,i,o){var s=this,l=this.params.splitChannelsOptions.channelColors[o]||{},c=l.waveColor,u=l.progressColor;this.canvases.forEach((function(o,l){s.setFillStyles(o,c,u),o.drawLines(e,t,n,r,a,i)}))}},{key:"fillRect",value:function(e,t,n,r,a){var i=Math.floor(e/this.maxCanvasWidth),o=Math.min(Math.ceil((e+n)/this.maxCanvasWidth)+1,this.canvases.length),s=i;for(s;s<o;s++){var l=this.canvases[s],c=s*this.maxCanvasWidth,u={x1:Math.max(e,s*this.maxCanvasWidth),y1:t,x2:Math.min(e+n,s*this.maxCanvasWidth+l.wave.width),y2:t+r};u.x1<u.x2&&(this.setFillStyles(l),l.fillRects(u.x1-c,u.y1,u.x2-u.x1,u.y2-u.y1,a))}}},{key:"hideChannel",value:function(e){return this.params.splitChannels&&this.params.splitChannelsOptions.filterChannels.includes(e)}},{key:"prepareDraw",value:function(e,t,n,r,a,i){var o=this;return jt((function(){if(e[0]instanceof Array){var s=e;if(o.params.splitChannels){var l=s.filter((function(e,t){return!o.hideChannel(t)}));return o.params.splitChannelsOptions.overlay||o.setHeight(Math.max(l.length,1)*o.params.height*o.params.pixelRatio),s.forEach((function(e,t){return o.prepareDraw(e,t,n,r,a,l.indexOf(e))}))}e=s[0]}if(!o.hideChannel(t)){var c=1/o.params.barHeight;if(o.params.normalize){var u=Dt(e),d=Ot(e);c=-d>u?-d:u}var h=[].some.call(e,(function(e){return e<0})),p=o.params.height*o.params.pixelRatio,f=p*i||0,v=p/2;return a({absmax:c,hasMinVals:h,height:p,offsetY:f,halfH:v,peaks:e,channelIndex:t})}}))()}},{key:"setFillStyles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.waveColor,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.params.progressColor;e.setFillStyles(t,n)}},{key:"getImage",value:function(e,t,n){if("blob"===n)return Promise.all(this.canvases.map((function(r){return r.getImage(e,t,n)})));if("dataURL"===n){var r=this.canvases.map((function(r){return r.getImage(e,t,n)}));return r.length>1?r:r[0]}}},{key:"updateProgress",value:function(e){this.style(this.progressWave,{width:e+"px"})}}]),n}(qt),Ut="playing",Zt="paused",Xt="finished",Kt=function(e){Object(Pt["a"])(n,e);var t=Object(St["a"])(n);function n(e){var r,a,i;return Object(Et["a"])(this,n),i=t.call(this),Object(Tt["a"])(Object(Ct["a"])(i),"audioContext",null),Object(Tt["a"])(Object(Ct["a"])(i),"offlineAudioContext",null),Object(Tt["a"])(Object(Ct["a"])(i),"stateBehaviors",(r={},Object(Tt["a"])(r,Ut,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),Object(Tt["a"])(r,Zt,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),Object(Tt["a"])(r,Xt,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),r)),i.params=e,i.ac=e.audioContext||(i.supportsWebAudio()?i.getAudioContext():{}),i.lastPlay=i.ac.currentTime,i.startPosition=0,i.scheduledPause=null,i.states=(a={},Object(Tt["a"])(a,Ut,Object.create(i.stateBehaviors[Ut])),Object(Tt["a"])(a,Zt,Object.create(i.stateBehaviors[Zt])),Object(Tt["a"])(a,Xt,Object.create(i.stateBehaviors[Xt])),a),i.buffer=null,i.filters=[],i.gainNode=null,i.mergedPeaks=null,i.offlineAc=null,i.peaks=null,i.playbackRate=1,i.analyser=null,i.scriptNode=null,i.source=null,i.splitPeaks=[],i.state=null,i.explicitDuration=e.duration,i.destroyed=!1,i}return Object(Rt["a"])(n,[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}},{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(Zt),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach((function(e){e&&e.disconnect()})),this.filters=null,this.analyser.connect(this.gainNode))}},{key:"setState",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setFilters(t)}},{key:"setFilters",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce((function(e,t){return e.connect(t),t}),this.analyser).connect(this.gainNode))}},{key:"createScriptNode",value:function(){this.params.audioScriptProcessor?this.scriptNode=this.params.audioScriptProcessor:this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(n.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(n.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var e=this;this.scriptNode.onaudioprocess=function(){var t=e.getCurrentTime();t>=e.getDuration()?(e.setState(Xt),e.fireEvent("pause")):t>=e.scheduledPause?e.pause():e.state===e.states[Ut]&&e.fireEvent("audioprocess",t)}}},{key:"removeOnAudioProcess",value:function(){this.scriptNode.onaudioprocess=function(){}}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.connect(this.gainNode)}},{key:"createVolumeNode",value:function(){this.ac.createGain?this.gainNode=this.ac.createGain():this.gainNode=this.ac.createGainNode(),this.gainNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(e){if(e){var t=new window.Audio;if(!t.setSinkId)return Promise.reject(new Error("setSinkId is not supported in your browser"));t.autoplay=!0;var n=this.ac.createMediaStreamDestination();return this.gainNode.disconnect(),this.gainNode.connect(n),t.srcObject=n.stream,t.setSinkId(e)}return Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",value:function(e){this.gainNode.gain.setValueAtTime(e,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode.gain.value}},{key:"decodeArrayBuffer",value:function(e,t,n){this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(this.ac&&this.ac.sampleRate?this.ac.sampleRate:44100)),"AudioContext"in window?this.offlineAc.decodeAudioData(e).then((function(e){return t(e)})).catch((function(e){return n(e)})):this.offlineAc.decodeAudioData(e,(function(e){return t(e)}),n)}},{key:"setPeaks",value:function(e,t){null!=t&&(this.explicitDuration=t),this.peaks=e}},{key:"setLength",value:function(e){if(!this.mergedPeaks||e!=2*this.mergedPeaks.length-1+2){this.splitPeaks=[],this.mergedPeaks=[];var t,n=this.buffer?this.buffer.numberOfChannels:1;for(t=0;t<n;t++)this.splitPeaks[t]=[],this.splitPeaks[t][2*(e-1)]=0,this.splitPeaks[t][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:"getPeaks",value:function(e,t,n){if(this.peaks)return this.peaks;if(!this.buffer)return[];if(t=t||0,n=n||e-1,this.setLength(e),!this.buffer)return this.params.splitChannels?this.splitPeaks:this.mergedPeaks;if(!this.buffer.length){var r=this.createBuffer(1,4096,this.sampleRate);this.buffer=r.buffer}var a,i=this.buffer.length/e,o=~~(i/10)||1,s=this.buffer.numberOfChannels;for(a=0;a<s;a++){var l=this.splitPeaks[a],c=this.buffer.getChannelData(a),u=void 0;for(u=t;u<=n;u++){var d=~~(u*i),h=~~(d+i),p=c[d],f=p,v=void 0;for(v=d;v<h;v+=o){var m=c[v];m>f&&(f=m),m<p&&(p=m)}l[2*u]=f,l[2*u+1]=p,(0==a||f>this.mergedPeaks[2*u])&&(this.mergedPeaks[2*u]=f),(0==a||p<this.mergedPeaks[2*u+1])&&(this.mergedPeaks[2*u+1]=p)}}return this.params.splitChannels?this.splitPeaks:this.mergedPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroyWebAudio",value:function(){this.disconnectFilters(),this.disconnectSource(),this.gainNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"===typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.destroyed=!0,this.destroyWebAudio()}},{key:"load",value:function(e){this.startPosition=0,this.lastPlay=this.ac.currentTime,this.buffer=e,this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"resumeAudioContext",value:function(){"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume()}},{key:"isPaused",value:function(){return this.state!==this.states[Ut]}},{key:"getDuration",value:function(){return this.explicitDuration?this.explicitDuration:this.buffer?this.buffer.duration:0}},{key:"seekTo",value:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime(),e>=this.getDuration()&&(e=0)),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states[Xt]&&this.setState(Zt),{start:e,end:t}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(e,t){if(this.buffer){this.createSource();var n=this.seekTo(e,t);e=n.start,t=n.end,this.scheduledPause=t,this.source.start(0,e),this.resumeAudioContext(),this.setState(Ut),this.fireEvent("play")}}},{key:"pause",value:function(){this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(Zt),this.fireEvent("pause")}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}},{key:"setPlayEnd",value:function(e){this.scheduledPause=e}}]),n}(Wt);Object(Tt["a"])(Kt,"scriptBufferSize",256);var Yt=n("45eb"),Jt=n("7e84"),Qt=function(e){Object(Pt["a"])(n,e);var t=Object(St["a"])(n);function n(e){var r;return Object(Et["a"])(this,n),r=t.call(this,e),r.params=e,r.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},r.mediaType=e.mediaType.toLowerCase(),r.elementPosition=e.elementPosition,r.peaks=null,r.playbackRate=1,r.volume=1,r.isMuted=!1,r.buffer=null,r.onPlayEnd=null,r.mediaListeners={},r}return Object(Rt["a"])(n,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"_setupMediaListeners",value:function(){var e=this;this.mediaListeners.error=function(){e.fireEvent("error","Error loading media element")},this.mediaListeners.canplay=function(){e.fireEvent("canplay")},this.mediaListeners.ended=function(){e.fireEvent("finish")},this.mediaListeners.play=function(){e.fireEvent("play")},this.mediaListeners.pause=function(){e.fireEvent("pause")},this.mediaListeners.seeked=function(t){e.fireEvent("seek")},this.mediaListeners.volumechange=function(t){e.isMuted=e.media.muted,e.isMuted?e.volume=0:e.volume=e.media.volume,e.fireEvent("volume")},Object.keys(this.mediaListeners).forEach((function(t){e.media.removeEventListener(t,e.mediaListeners[t]),e.media.addEventListener(t,e.mediaListeners[t])}))}},{key:"createTimer",value:function(){var e=this,t=function t(){e.isPaused()||(e.fireEvent("audioprocess",e.getCurrentTime()),jt(t)())};this.on("play",t),this.on("pause",(function(){e.fireEvent("audioprocess",e.getCurrentTime())}))}},{key:"load",value:function(e,t,n,r){var a=document.createElement(this.mediaType);a.controls=this.params.mediaControls,a.autoplay=this.params.autoplay||!1,a.preload=null==r?"auto":r,a.src=e,a.style.width="100%";var i=t.querySelector(this.mediaType);i&&t.removeChild(i),t.appendChild(a),this._load(a,n,r)}},{key:"loadElt",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t,e.preload)}},{key:"_load",value:function(e,t,n){if(!(e instanceof HTMLMediaElement)||"undefined"===typeof e.addEventListener)throw new Error("media parameter is not a valid media element");"function"!=typeof e.load||t&&"none"==n||e.load(),this.media=e,this._setupMediaListeners(),this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.isMuted=e.muted,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var e=(this.media||this.buffer).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()}},{key:"play",value:function(e,t){if(void 0==t&&(t=this.getDuration()),void 0==e){var n=Math.round(1e3*this.getDuration())/1e3,r=Math.round(1e3*t)/1e3;n>=r&&this.seekTo(0)}else this.seekTo(e);var a=this.media.play();return this.setPlayEnd(t),a}},{key:"pause",value:function(){var e;return this.media&&(e=this.media.pause()),this.clearPlayEnd(),e}},{key:"setPlayEnd",value:function(e){var t=this;this.clearPlayEnd(),this._onPlayEnd=function(n){n>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(e,t,r){return this.buffer?Object(Yt["a"])(Object(Jt["a"])(n.prototype),"getPeaks",this).call(this,e,t,r):this.peaks||[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(e){this.volume=e,this.media.volume!==this.volume&&(this.media.volume=this.volume)}},{key:"setMute",value:function(e){this.isMuted=this.media.muted=e}},{key:"destroy",value:function(){var e=this;this.pause(),this.unAll(),this.destroyed=!0,Object.keys(this.mediaListeners).forEach((function(t){e.media&&e.media.removeEventListener(t,e.mediaListeners[t])})),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),n}(Kt),en=function(){function e(){Object(Et["a"])(this,e),this.clearPeakCache()}return Object(Rt["a"])(e,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(e,t,n){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);var r=[],a=0;while(a<this.peakCacheRanges.length&&this.peakCacheRanges[a]<t)a++;a%2==0&&r.push(t);while(a<this.peakCacheRanges.length&&this.peakCacheRanges[a]<=n)r.push(this.peakCacheRanges[a]),a++;a%2==0&&r.push(n),r=r.filter((function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]})),this.peakCacheRanges=this.peakCacheRanges.concat(r),this.peakCacheRanges=this.peakCacheRanges.sort((function(e,t){return e-t})).filter((function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]}));var i=[];for(a=0;a<r.length;a+=2)i.push([r[a],r[a+1]]);return i}},{key:"getCacheRanges",value:function(){var e,t=[];for(e=0;e<this.peakCacheRanges.length;e+=2)t.push([this.peakCacheRanges[e],this.peakCacheRanges[e+1]]);return t}}]),e}(),tn=function(e){Object(Pt["a"])(n,e);var t=Object(St["a"])(n);function n(e){var r;return Object(Et["a"])(this,n),r=t.call(this,e),r.params=e,r.sourceMediaElement=null,r}return Object(Rt["a"])(n,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer(),this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode()}},{key:"_load",value:function(e,t,r){Object(Yt["a"])(Object(Jt["a"])(n.prototype),"_load",this).call(this,e,t,r),this.createMediaElementSource(e)}},{key:"createMediaElementSource",value:function(e){this.sourceMediaElement=this.ac.createMediaElementSource(e),this.sourceMediaElement.connect(this.analyser)}},{key:"play",value:function(e,t){return this.resumeAudioContext(),Object(Yt["a"])(Object(Jt["a"])(n.prototype),"play",this).call(this,e,t)}},{key:"destroy",value:function(){Object(Yt["a"])(Object(Jt["a"])(n.prototype),"destroy",this).call(this),this.destroyWebAudio()}}]),n}(Qt),nn=function(e){Object(Pt["a"])(n,e);var t=Object(St["a"])(n);function n(e){var a;if(Object(Et["a"])(this,n),a=t.call(this),Object(Tt["a"])(Object(Ct["a"])(a),"defaultParams",{audioContext:null,audioScriptProcessor:null,audioRate:1,autoCenter:!0,autoCenterRate:5,autoCenterImmediately:!1,backend:"WebAudio",backgroundColor:null,barHeight:1,barRadius:0,barGap:null,barMinHeight:null,container:null,cursorColor:"#333",cursorWidth:1,dragSelection:!0,drawingContextAttributes:{desynchronized:!1},duration:null,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"#555",removeMediaElementOnDestroy:!0,renderer:Gt,responsive:!1,rtl:!1,scrollParent:!1,skipLength:2,splitChannels:!1,splitChannelsOptions:{overlay:!1,channelColors:{},filterChannels:[]},waveColor:"#999",xhr:{}}),Object(Tt["a"])(Object(Ct["a"])(a),"backends",{MediaElement:Qt,WebAudio:Kt,MediaElementWebAudio:tn}),Object(Tt["a"])(Object(Ct["a"])(a),"util",r),a.params=Object.assign({},a.defaultParams,e),a.container="string"==typeof e.container?document.querySelector(a.params.container):a.params.container,!a.container)throw new Error("Container element not found");if(null==a.params.mediaContainer?a.mediaContainer=a.container:"string"==typeof a.params.mediaContainer?a.mediaContainer=document.querySelector(a.params.mediaContainer):a.mediaContainer=a.params.mediaContainer,!a.mediaContainer)throw new Error("Media Container element not found");if(a.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(a.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(!0===a.params.rtl&&Mt(a.container,{transform:"rotateY(180deg)"}),a.params.backgroundColor&&a.setBackgroundColor(a.params.backgroundColor),a.savedVolume=0,a.isMuted=!1,a.tmpEvents=[],a.currentRequest=null,a.arraybuffer=null,a.drawer=null,a.backend=null,a.peakCache=null,"function"!==typeof a.params.renderer)throw new Error("Renderer parameter is invalid");a.Drawer=a.params.renderer,"AudioElement"==a.params.backend&&(a.params.backend="MediaElement"),"WebAudio"!=a.params.backend&&"MediaElementWebAudio"!==a.params.backend||Kt.prototype.supportsWebAudio.call(null)||(a.params.backend="MediaElement"),a.Backend=a.backends[a.params.backend],a.initialisedPluginList={},a.isDestroyed=!1,a.isReady=!1;var i=0;return a._onResize=Vt.a((function(){i==a.drawer.wrapper.clientWidth||a.params.scrollParent||(i=a.drawer.wrapper.clientWidth,a.drawer.fireEvent("redraw"))}),"number"===typeof a.params.responsive?a.params.responsive:100),Object(xt["a"])(a,Object(Ct["a"])(a))}return Object(Rt["a"])(n,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(e){var t=this;return e.forEach((function(e){return t.addPlugin(e)})),e.forEach((function(e){e.deferInit||t.initPlugin(e.name)})),this.fireEvent("plugins-registered",e),this}},{key:"getActivePlugins",value:function(){return this.initialisedPluginList}},{key:"addPlugin",value:function(e){var t=this;if(!e.name)throw new Error("Plugin does not have a name!");if(!e.instance)throw new Error("Plugin ".concat(e.name," does not have an instance property!"));e.staticProps&&Object.keys(e.staticProps).forEach((function(n){t[n]=e.staticProps[n]}));var n=e.instance,r=Object.getOwnPropertyNames(Wt.prototype);return r.forEach((function(e){n.prototype[e]=Wt.prototype[e]})),this[e.name]=new n(e.params||{},this),this.fireEvent("plugin-added",e.name),this}},{key:"initPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet!"));return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent("plugin-initialised",e),this}},{key:"destroyPlugin",value:function(e){if(!this[e])throw new Error("Plugin ".concat(e," has not been added yet and cannot be destroyed!"));if(!this.initialisedPluginList[e])throw new Error("Plugin ".concat(e," is not active and cannot be destroyed!"));if("function"!==typeof this[e].destroy)throw new Error("Plugin ".concat(e," does not have a destroy function!"));return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent("plugin-destroyed",e),this}},{key:"destroyAllPlugins",value:function(){var e=this;Object.keys(this.initialisedPluginList).forEach((function(t){return e.destroyPlugin(t)}))}},{key:"createDrawer",value:function(){var e=this;this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",(function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents())})),this.drawer.on("click",(function(t,n){setTimeout((function(){return e.seekTo(n)}),0)})),this.drawer.on("scroll",(function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent("scroll",t)}))}},{key:"createBackend",value:function(){var e=this;this.backend&&this.backend.destroy(),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",(function(){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("finish")})),this.backend.on("play",(function(){return e.fireEvent("play")})),this.backend.on("pause",(function(){return e.fireEvent("pause")})),this.backend.on("audioprocess",(function(t){e.drawer.progress(e.backend.getPlayedPercents()),e.fireEvent("audioprocess",t)})),"MediaElement"!==this.params.backend&&"MediaElementWebAudio"!==this.params.backend||(this.backend.on("seek",(function(){e.drawer.progress(e.backend.getPlayedPercents())})),this.backend.on("volume",(function(){var t=e.getVolume();e.fireEvent("volume",t),e.backend.isMuted!==e.isMuted&&(e.isMuted=e.backend.isMuted,e.fireEvent("mute",e.isMuted))})))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new en)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(e){e>=this.getDuration()?this.seekTo(1):this.seekTo(e/this.getDuration())}},{key:"play",value:function(e,t){var n=this;return this.fireEvent("interaction",(function(){return n.play(e,t)})),this.backend.play(e,t)}},{key:"setPlayEnd",value:function(e){this.backend.setPlayEnd(e)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(e,t){var n=this.getCurrentTime(),r=e||(n||0);return this.backend.isPaused()?this.play(r,t):this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:"skipForward",value:function(e){this.skip(e||this.params.skipLength)}},{key:"skip",value:function(e){var t=this.getDuration()||1,n=this.getCurrentTime()||0;n=Math.max(0,Math.min(t,n+(e||0))),this.seekAndCenter(n/t)}},{key:"seekAndCenter",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:"seekTo",value:function(e){var t=this;if("number"!==typeof e||!isFinite(e)||e<0||e>1)throw new Error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.fireEvent("interaction",(function(){return t.seekTo(e)}));var n=this.params.scrollParent;this.params.scrollParent=!1,this.backend.seekTo(e*this.getDuration()),this.drawer.progress(e),this.params.scrollParent=n,this.fireEvent("seek",e)}},{key:"stop",value:function(){this.pause(),this.seekTo(0),this.drawer.progress(0)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",value:function(e){this.backend.setVolume(e),this.fireEvent("volume",e)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"setPlaybackRate",value:function(e){this.backend.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(e){e!==this.isMuted?(this.backend.setMute?(this.backend.setMute(e),this.isMuted=e):e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)):this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){return this.params.waveColor}},{key:"setWaveColor",value:function(e){this.params.waveColor=e,this.drawBuffer()}},{key:"getProgressColor",value:function(){return this.params.progressColor}},{key:"setProgressColor",value:function(e){this.params.progressColor=e,this.drawBuffer()}},{key:"getBackgroundColor",value:function(){return this.params.backgroundColor}},{key:"setBackgroundColor",value:function(e){this.params.backgroundColor=e,Mt(this.container,{background:this.params.backgroundColor})}},{key:"getCursorColor",value:function(){return this.params.cursorColor}},{key:"setCursorColor",value:function(e){this.params.cursorColor=e,this.drawer.updateCursor()}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(e){this.params.height=e,this.drawer.setHeight(e*this.params.pixelRatio),this.drawBuffer()}},{key:"setFilteredChannels",value:function(e){this.params.splitChannelsOptions.filterChannels=e,this.drawBuffer()}},{key:"drawBuffer",value:function(){var e,t=Math.round(this.getDuration()*this.params.minPxPerSec*this.params.pixelRatio),n=this.drawer.getWidth(),r=t,a=0,i=Math.max(a+n,r);if(this.params.fillParent&&(!this.params.scrollParent||t<n)&&(r=n,a=0,i=r),this.params.partialRender){var o,s=this.peakCache.addRangeToPeakCache(r,a,i);for(o=0;o<s.length;o++)e=this.backend.getPeaks(r,s[o][0],s[o][1]),this.drawer.drawPeaks(e,r,s[o][0],s[o][1])}else e=this.backend.getPeaks(r,a,i),this.drawer.drawPeaks(e,r,a,i);this.fireEvent("redraw",e,r)}},{key:"zoom",value:function(e){e?(this.params.minPxPerSec=e,this.params.scrollParent=!0):(this.params.minPxPerSec=this.defaultParams.minPxPerSec,this.params.scrollParent=!1),this.drawBuffer(),this.drawer.progress(this.backend.getPlayedPercents()),this.drawer.recenter(this.getCurrentTime()/this.getDuration()),this.fireEvent("zoom",e)}},{key:"loadArrayBuffer",value:function(e){var t=this;this.decodeArrayBuffer(e,(function(e){t.isDestroyed||t.loadDecodedBuffer(e)}))}},{key:"loadDecodedBuffer",value:function(e){this.backend.load(e),this.drawBuffer(),this.isReady=!0,this.fireEvent("ready")}},{key:"loadBlob",value:function(e){var t=this,n=new FileReader;n.addEventListener("progress",(function(e){return t.onProgress(e)})),n.addEventListener("load",(function(e){return t.loadArrayBuffer(e.target.result)})),n.addEventListener("error",(function(){return t.fireEvent("error","Error reading file")})),n.readAsArrayBuffer(e),this.empty()}},{key:"load",value:function(e,t,n,r){if(!e)throw new Error("url parameter cannot be empty");if(this.empty(),n){var a={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(n),"Peaks are not provided":!t,"Backend is not of type 'MediaElement' or 'MediaElementWebAudio'":-1===["MediaElement","MediaElementWebAudio"].indexOf(this.params.backend),"Url is not of type string":"string"!==typeof e},i=Object.keys(a).filter((function(e){return a[e]}));i.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+i.join("\n\t- ")),n=null)}switch(this.params.backend){case"WebAudio":return this.loadBuffer(e,t,r);case"MediaElement":case"MediaElementWebAudio":return this.loadMediaElement(e,t,n,r)}}},{key:"loadBuffer",value:function(e,t,n){var r=this,a=function(t){return t&&r.tmpEvents.push(r.once("ready",t)),r.getArrayBuffer(e,(function(e){return r.loadArrayBuffer(e)}))};if(!t)return a();this.backend.setPeaks(t,n),this.drawBuffer(),this.tmpEvents.push(this.once("interaction",a))}},{key:"loadMediaElement",value:function(e,t,n,r){var a=this,i=e;if("string"===typeof e)this.backend.load(i,this.mediaContainer,t,n);else{var o=e;this.backend.loadElt(o,t),i=o.src}this.tmpEvents.push(this.backend.once("canplay",(function(){a.backend.destroyed||(a.drawBuffer(),a.isReady=!0,a.fireEvent("ready"))})),this.backend.once("error",(function(e){return a.fireEvent("error",e)}))),t&&(this.backend.setPeaks(t,r),this.drawBuffer()),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(i,(function(e){a.decodeArrayBuffer(e,(function(e){a.backend.buffer=e,a.backend.setPeaks(null),a.drawBuffer(),a.fireEvent("waveform-ready")}))}))}},{key:"decodeArrayBuffer",value:function(e,t){var n=this;this.arraybuffer=e,this.backend.decodeArrayBuffer(e,(function(r){n.isDestroyed||n.arraybuffer!=e||(t(r),n.arraybuffer=null)}),(function(){return n.fireEvent("error","Error decoding audiobuffer")}))}},{key:"getArrayBuffer",value:function(e,t){var n=this,r=Object.assign({url:e,responseType:"arraybuffer"},this.params.xhr),a=zt(r);return this.currentRequest=a,this.tmpEvents.push(a.on("progress",(function(e){n.onProgress(e)})),a.on("success",(function(e){t(e),n.currentRequest=null})),a.on("error",(function(e){n.fireEvent("error",e),n.currentRequest=null}))),a}},{key:"onProgress",value:function(e){var t;t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6),this.fireEvent("loading",Math.round(100*t),e.target)}},{key:"exportPCM",value:function(e,t,n,r,a){e=e||1024,r=r||0,t=t||1e4,n=n||!1;var i=this.backend.getPeaks(e,r,a),o=[].map.call(i,(function(e){return Math.round(e*t)/t}));return new Promise((function(e,t){var r=JSON.stringify(o);n||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(r)),e(r)}))}},{key:"exportImage",value:function(e,t,n){return e||(e="image/png"),t||(t=1),n||(n="dataURL"),this.drawer.getImage(e,t,n)}},{key:"cancelAjax",value:function(){this.currentRequest&&this.currentRequest.controller&&(this.currentRequest._reader&&this.currentRequest._reader.cancel().catch((function(e){console.error(e)})),this.currentRequest.controller.abort(),this.currentRequest=null)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach((function(e){return e.un()}))}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.isReady=!1,this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend&&this.backend.destroy(),this.drawer&&this.drawer.destroy(),this.isDestroyed=!0,this.isReady=!1,this.arraybuffer=null}}],[{key:"create",value:function(e){var t=new n(e);return t.init()}}]),n}(Wt);Object(Tt["a"])(nn,"VERSION",null),Object(Tt["a"])(nn,"util",r);var rn,an,on,sn,ln,cn,un,dn,hn,pn,fn,vn,mn,bn,yn,wn,gn,kn,xn,Cn,Pn=function(){function e(t,n){var r=this;if(Object(Et["a"])(this,e),Object(Tt["a"])(this,"_onScroll",(function(){r.wrapper&&r.drawer.wrapper&&(r.wrapper.scrollLeft=r.drawer.wrapper.scrollLeft)})),Object(Tt["a"])(this,"_onRedraw",(function(){return r.render()})),Object(Tt["a"])(this,"_onReady",(function(){var e=r.wavesurfer;r.drawer=e.drawer,r.pixelRatio=e.drawer.params.pixelRatio,r.maxCanvasWidth=e.drawer.maxCanvasWidth||e.drawer.width,r.maxCanvasElementWidth=e.drawer.maxCanvasElementWidth||Math.round(r.maxCanvasWidth/r.pixelRatio),e.drawer.wrapper.addEventListener("scroll",r._onScroll),e.on("redraw",r._onRedraw),e.on("zoom",r._onZoom),r.render()})),Object(Tt["a"])(this,"_onWrapperClick",(function(e){e.preventDefault();var t="offsetX"in e?e.offsetX:e.layerX;r.fireEvent("click",t/r.wrapper.scrollWidth||0)})),this.container="string"==typeof t.container?document.querySelector(t.container):t.container,!this.container)throw new Error("No container for wavesurfer timeline");this.wavesurfer=n,this.util=n.util,this.params=Object.assign({},{height:20,notchPercentHeight:90,labelPadding:5,unlabeledNotchColor:"#c0c0c0",primaryColor:"#000",secondaryColor:"#c0c0c0",primaryFontColor:"#000",secondaryFontColor:"#000",fontFamily:"Arial",fontSize:10,duration:null,zoomDebounce:!1,formatTimeCallback:this.defaultFormatTimeCallback,timeInterval:this.defaultTimeInterval,primaryLabelInterval:this.defaultPrimaryLabelInterval,secondaryLabelInterval:this.defaultSecondaryLabelInterval,offset:0},t),this.canvases=[],this.wrapper=null,this.drawer=null,this.pixelRatio=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce((function(){return r.render()}),this.params.zoomDebounce):function(){return r.render()}}return Object(Rt["a"])(e,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var e=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("timeline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(this.params.height,"px")}),(e.fillParent||e.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"addCanvas",value:function(){var e=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(e),this.util.style(e,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var e=this.canvases.pop();e.parentElement.removeChild(e)}},{key:"updateCanvases",value:function(){var e=Math.round(this.drawer.wrapper.scrollWidth),t=Math.ceil(e/this.maxCanvasElementWidth);while(this.canvases.length<t)this.addCanvas();while(this.canvases.length>t)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var e=this,t=this.canvases.length;this.canvases.forEach((function(n,r){var a=r===t-1?e.drawer.wrapper.scrollWidth-e.maxCanvasElementWidth*(t-1):e.maxCanvasElementWidth;n.width=a*e.pixelRatio,n.height=(e.params.height+1)*e.pixelRatio,e.util.style(n,{width:"".concat(a,"px"),height:"".concat(e.params.height,"px"),left:"".concat(r*e.maxCanvasElementWidth,"px")})}))}},{key:"renderCanvases",value:function(){var e=this,t=this.params.duration||this.wavesurfer.backend.getDuration();if(!(t<=0)){var n,r=this.wavesurfer.params,a=this.params.fontSize*r.pixelRatio,i=parseInt(t,10)+1,o=r.fillParent&&!r.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*r.pixelRatio,s=this.params.height*this.pixelRatio,l=this.params.height*(this.params.notchPercentHeight/100)*this.pixelRatio,c=o/t,u=this.params.formatTimeCallback,d=function(e){return"function"===typeof e?e(c):e},h=d(this.params.timeInterval),p=d(this.params.primaryLabelInterval),f=d(this.params.secondaryLabelInterval),v=c*this.params.offset,m=0,b=[];for(n=0;n<i/h;n++)b.push([n,m,v]),m+=h,v+=c*h;var y=function(e){b.forEach((function(t){e(t[0],t[1],t[2])}))};this.setFillStyles(this.params.primaryColor),this.setFonts("".concat(a,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.primaryFontColor),y((function(t,n,r){t%p===0&&(e.fillRect(r,0,1,s),e.fillText(u(n,c),r+e.params.labelPadding*e.pixelRatio,s))})),this.setFillStyles(this.params.secondaryColor),this.setFonts("".concat(a,"px ").concat(this.params.fontFamily)),this.setFillStyles(this.params.secondaryFontColor),y((function(t,n,r){t%f===0&&(e.fillRect(r,0,1,s),e.fillText(u(n,c),r+e.params.labelPadding*e.pixelRatio,s))})),this.setFillStyles(this.params.unlabeledNotchColor),y((function(t,n,r){t%f!==0&&t%p!==0&&e.fillRect(r,0,1,l)}))}}},{key:"setFillStyles",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").fillStyle=e}))}},{key:"setFonts",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").font=e}))}},{key:"fillRect",value:function(e,t,n,r){var a=this;this.canvases.forEach((function(i,o){var s=o*a.maxCanvasWidth,l={x1:Math.max(e,o*a.maxCanvasWidth),y1:t,x2:Math.min(e+n,o*a.maxCanvasWidth+i.width),y2:t+r};l.x1<l.x2&&i.getContext("2d").fillRect(l.x1-s,l.y1,l.x2-l.x1,l.y2-l.y1)}))}},{key:"fillText",value:function(e,t,n){var r,a=0;this.canvases.forEach((function(i){var o=i.getContext("2d"),s=o.canvas.width;a>t+r||(a+s>t&&(r=o.measureText(e).width,o.fillText(e,t-a,n)),a+=s)}))}},{key:"defaultFormatTimeCallback",value:function(e,t){if(e/60>1){var n=parseInt(e/60,10);return e=parseInt(e%60,10),e=e<10?"0"+e:e,"".concat(n,":").concat(e)}return Math.round(1e3*e)/1e3}},{key:"defaultTimeInterval",value:function(e){return e>=25?1:5*e>=25?5:15*e>=25?15:60*Math.ceil(.5/e)}},{key:"defaultPrimaryLabelInterval",value:function(e){return e>=25?10:5*e>=25?6:4}},{key:"defaultSecondaryLabelInterval",value:function(e){return e>=25?5:2}}],[{key:"create",value:function(t){return{name:"timeline",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),e}(),Sn=n("63ae"),Tn=(n("c740"),n("e439"),n("b680"),!1);function En(e,t){var n=performance.now(),r=t(),a=(performance.now()-n)/1e3;return Tn&&console.log(e,"run: ".concat(a.toFixed(3)," sec")),r}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r,a){var i=a.value;return"function"===typeof i&&(a.value=function(){try{for(var n=performance.now(),r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var s=i.apply(this,a),l=(performance.now()-n)/1e3;return t&&console.log(e,"run: ".concat(l.toFixed(3)," sec")),s}catch(c){throw Tn&&console.log("Error from ".concat(e,": ").concat(c)),c}}),a}}var _n,Dn,On,Wn,Mn,Ln,jn,Fn,Vn,$n,An,In,zn,Hn,Bn,qn,Nn,Gn,Un,Zn,Xn,Kn,Yn,Jn,Qn,er,tr,nr,rr=!1,ar=(rn=Rn("pointline.create",rr),an=Rn("pointline.init",rr),on=Rn("pointline.destroy",rr),sn=Rn("pointline.createWrapper",rr),ln=Rn("pointline.render",rr),cn=Rn("pointline.genUuid",rr),un=Rn("pointline.addPoint",rr),dn=Rn("pointline.updatePoint",rr),hn=Rn("pointline.deletePoint",rr),pn=Rn("pointline.addCanvas",rr),fn=Rn("pointline.removeCanvas",rr),vn=Rn("pointline.updateCanvases",rr),mn=Rn("pointline.updateCanvasesPositioning",rr),bn=Rn("pointline.renderCanvases",rr),yn=Rn("pointline.setFillStyles",rr),wn=Rn("pointline.fillRect",rr),gn=Rn("pointline.defaultFormatTimeCallback",rr),kn=Rn("pointline.defaultTimeInterval",rr),xn=Rn("pointline.defaultPrimaryLabelInterval",rr),Cn=function(){function e(t,n){var r=this;Object(Et["a"])(this,e),Object(Tt["a"])(this,"_onScroll",(function(){r.wrapper&&r.drawer.wrapper&&(r.wrapper.scrollLeft=r.drawer.wrapper.scrollLeft)})),Object(Tt["a"])(this,"_onRedraw",(function(){return r.render()})),Object(Tt["a"])(this,"_onReady",(function(){var e=r.wavesurfer;r.drawer=e.drawer,r.pixelRatio=e.drawer.params.pixelRatio,r.maxCanvasWidth=e.drawer.maxCanvasWidth||e.drawer.width,r.maxCanvasElementWidth=e.drawer.maxCanvasElementWidth||Math.round(r.maxCanvasWidth/r.pixelRatio),e.drawer.wrapper.addEventListener("scroll",r._onScroll),e.on("redraw",r._onRedraw),e.on("zoom",r._onZoom),r.render()})),Object(Tt["a"])(this,"_onWrapperClick",(function(e){e.preventDefault();var t="offsetX"in e?e.offsetX:e.layerX;r.fireEvent("click",t/r.wrapper.scrollWidth||0)})),En("pointline.constructor",(function(){if(r.container="string"==typeof t.container?document.querySelector(t.container):t.container,!r.container)throw new Error("No container for wavesurfer pointline");r.wavesurfer=n,r.util=n.util,r.params=Object.assign({},{height:100,pointWidth:3,duration:null,zoomDebounce:!1},t),r.params.points.length>0&&(r.params.points=r.params.points.map((function(e){return void 0===e.id&&(e.id=r.genUuid()),e}))),r.canvases=[],r.wrapper=null,r.drawer=null,r.pixelRatio=null,r.maxCanvasWidth=null,r.maxCanvasElementWidth=null,r._onZoom=r.params.zoomDebounce?r.wavesurfer.util.debounce((function(){return r.render()}),r.params.zoomDebounce):function(){return r.render()}}))}return Object(Rt["a"])(e,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var e=this.wavesurfer.params;this.container.innerHTML="",this.wrapper=this.container.appendChild(document.createElement("pointline")),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(this.params.height,"px")}),(e.fillParent||e.scrollParent)&&this.util.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"render",value:function(){this.wrapper||this.createWrapper(),this.updateCanvases(),this.updateCanvasesPositioning(),this.renderCanvases()}},{key:"genUuid",value:function(){for(var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".split(""),t=0,n=e.length;t<n;t++)switch(e[t]){case"x":e[t]=Math.floor(16*Math.random()).toString(16);break;case"y":e[t]=(Math.floor(4*Math.random())+8).toString(16);break}return e.join("")}},{key:"addPoint",value:function(e){var t={id:this.genUuid(),time:e.time,value:e.value,color:e.color,size:e.size};this.params.points.push(t),this.render(),this.fireEvent("addPoint",t)}},{key:"updatePoint",value:function(e,t){var n=this.params.points.findIndex((function(t){return t.id==e}));n>-1&&(t.id=this.params.points[n].id,this.params.points[n]=t,this.render(),this.fireEvent("updatePoint",t))}},{key:"deletePoint",value:function(e){var t=this.params.points.findIndex((function(t){return t.id==e}));if(t>-1){var n=this.params.points[t];this.params.points.splice(t,1),this.render(),this.fireEvent("deletePoint",n)}}},{key:"addCanvas",value:function(){var e=this.wrapper.appendChild(document.createElement("canvas"));this.canvases.push(e),this.util.style(e,{position:"absolute",zIndex:4})}},{key:"removeCanvas",value:function(){var e=this.canvases.pop();e.parentElement.removeChild(e)}},{key:"updateCanvases",value:function(){var e=Math.round(this.drawer.wrapper.scrollWidth),t=Math.ceil(e/this.maxCanvasElementWidth);while(this.canvases.length<t)this.addCanvas();while(this.canvases.length>t)this.removeCanvas()}},{key:"updateCanvasesPositioning",value:function(){var e=this,t=this.canvases.length;this.canvases.forEach((function(n,r){var a=r===t-1?e.drawer.wrapper.scrollWidth-e.maxCanvasElementWidth*(t-1):e.maxCanvasElementWidth;n.width=a*e.pixelRatio,n.height=(e.params.height+1)*e.pixelRatio,e.util.style(n,{width:"".concat(a,"px"),height:"".concat(e.params.height,"px"),left:"".concat(r*e.maxCanvasElementWidth,"px")})}))}},{key:"renderCanvases",value:function(){var e=this,t=this.wavesurfer.pointline.params.duration||this.wavesurfer.backend.getDuration();if(!(t<=0)){var n,r=this.wavesurfer.params,a=r.fillParent&&!r.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*r.pixelRatio,i=a/t,o=this,s=[],l=Math.min.apply(null,o.params.points.map((function(e){return e.value}))),c=this.params.points.map((function(e){var t="color"in e?e.color:"#000",n="size"in e?Number(e.size):o.params.pointWidth;return{time:e.time,value:e.value-l,color:t,size:n}})),u=Math.max.apply(null,c.map((function(e){return e.value}))),d=c.map((function(e){var t=0==e.value?e.value:e.value/u;return{time:e.time,value:t,color:e.color,size:e.size}})),h=Object(_["a"])(d);try{for(h.s();!(n=h.n()).done;){var p=n.value,f=p.time,v=i*p.time;s.push([f,v,p.value,p.color,p.size])}}catch(b){h.e(b)}finally{h.f()}var m=function(e){s.forEach((function(t){e(t[0],t[1],t[2],t[3],t[4])}))};m((function(t,n,r,a,i){e.setFillStyles(a),e.fillRect(n,r,i)}))}}},{key:"setFillStyles",value:function(e){this.canvases.forEach((function(t){t.getContext("2d").fillStyle=e}))}},{key:"fillRect",value:function(e,t,n){var r=this;this.canvases.forEach((function(a,i){var o=i*r.maxCanvasWidth,s={x1:Math.max(e,i*r.maxCanvasWidth),x2:Math.min(e+n,i*r.maxCanvasWidth+a.width)};if(s.x1<s.x2){var l=t*a.height,c=a.getContext("2d");c.beginPath(),c.arc(s.x1-o,a.height-l,n,0*Math.PI/180,360*Math.PI/180,!1),c.fill()}}))}},{key:"defaultFormatTimeCallback",value:function(e){if(e/60>1){var t=parseInt(e/60,10);return e=parseInt(e%60,10),e=e<10?"0"+e:e,"".concat(t,":").concat(e)}return Math.round(1e3*e)/1e3}},{key:"defaultTimeInterval",value:function(e){return e>=25?1:5*e>=25?5:15*e>=25?15:60*Math.ceil(.5/e)}},{key:"defaultPrimaryLabelInterval",value:function(e){return e>=25?10:5*e>=25?6:4}}],[{key:"create",value:function(t){return{name:"pointline",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),e}(),Object(Sn["a"])(Cn,"create",[rn],Object.getOwnPropertyDescriptor(Cn,"create"),Cn),Object(Sn["a"])(Cn.prototype,"init",[an],Object.getOwnPropertyDescriptor(Cn.prototype,"init"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"destroy",[on],Object.getOwnPropertyDescriptor(Cn.prototype,"destroy"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"createWrapper",[sn],Object.getOwnPropertyDescriptor(Cn.prototype,"createWrapper"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"render",[ln],Object.getOwnPropertyDescriptor(Cn.prototype,"render"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"genUuid",[cn],Object.getOwnPropertyDescriptor(Cn.prototype,"genUuid"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"addPoint",[un],Object.getOwnPropertyDescriptor(Cn.prototype,"addPoint"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"updatePoint",[dn],Object.getOwnPropertyDescriptor(Cn.prototype,"updatePoint"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"deletePoint",[hn],Object.getOwnPropertyDescriptor(Cn.prototype,"deletePoint"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"addCanvas",[pn],Object.getOwnPropertyDescriptor(Cn.prototype,"addCanvas"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"removeCanvas",[fn],Object.getOwnPropertyDescriptor(Cn.prototype,"removeCanvas"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"updateCanvases",[vn],Object.getOwnPropertyDescriptor(Cn.prototype,"updateCanvases"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"updateCanvasesPositioning",[mn],Object.getOwnPropertyDescriptor(Cn.prototype,"updateCanvasesPositioning"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"renderCanvases",[bn],Object.getOwnPropertyDescriptor(Cn.prototype,"renderCanvases"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"setFillStyles",[yn],Object.getOwnPropertyDescriptor(Cn.prototype,"setFillStyles"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"fillRect",[wn],Object.getOwnPropertyDescriptor(Cn.prototype,"fillRect"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"defaultFormatTimeCallback",[gn],Object.getOwnPropertyDescriptor(Cn.prototype,"defaultFormatTimeCallback"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"defaultTimeInterval",[kn],Object.getOwnPropertyDescriptor(Cn.prototype,"defaultTimeInterval"),Cn.prototype),Object(Sn["a"])(Cn.prototype,"defaultPrimaryLabelInterval",[xn],Object.getOwnPropertyDescriptor(Cn.prototype,"defaultPrimaryLabelInterval"),Cn.prototype),Cn),ir=(n("f00c"),n("fb6a"),function(e){var t=[];for(var n in e)t.push("        points [".concat(Number(n)+1,"]:")),t.push("            number = ".concat(e[n].time," ")),t.push('            mark = "'.concat(e[n].text,'" '));return t}),or=function(e,t){var n=[];for(var r in e)n.push("        intervals [".concat(Number(r)+1,"]:")),0==r?n.push("            xmin = 0 "):n.push("            xmin = ".concat(e[Number(r)-1].time," ")),r==e.length-1?n.push("            xmax = ".concat(t," ")):n.push("            xmax = ".concat(e[r].time," ")),n.push('            text = "'.concat(e[r].text,'" '));return n},sr=function(e){var t=[],n=0;for(var r in e)e[r].match(/^\s{4}item.+/)&&(t.push({start:Number(r)+1,end:null}),n>0&&(t[n-1].end=Number(r)),n++);return t[n-1].end=e.length,t},lr=function(e){var t=e[1].split("=")[1].trim().slice(1).slice(0,-1),n=[];for(var r in e)if(~e[r].indexOf("number")){var a=parseFloat(e[r].split("=")[1].trim()),i=e[Number(r)+1].split("=")[1].trim().slice(1).slice(0,-1);n.push({time:a,text:i})}return{name:t,values:n,type:"point"}},cr=function(e){var t=e[1].split("=")[1].trim().slice(1).slice(0,-1),n=[];for(var r in e)if(~e[r].indexOf("text")){var a=e[Number(r)].split("=")[1].trim().slice(1).slice(0,-1),i=parseFloat(e[Number(r)-1].split("=")[1].trim());n.push({time:i,text:a})}return{name:t,values:n,type:"interval"}},ur={load:function(e){var t,n=e.split("\n"),r=sr(n).map((function(e){return n.slice(e.start,e.end)})),a=r.map((function(e){return~e[0].indexOf("TextTier")?lr(e):~e[0].indexOf("IntervalTier")?cr(e):void 0})),i={},o=Object(_["a"])(a);try{for(o.s();!(t=o.n()).done;){var s=t.value;i[s.name]={type:s.type,values:s.values}}}catch(l){o.e(l)}finally{o.f()}return i},dump:function(e,t){var n=['File type = "ooTextFile"','Object class = "TextGrid"',"","xmin = 0 ","xmax = ".concat(e," "),"tiers? <exists> ","size = ".concat(Object.keys(t).length," "),"item []: "],r=1;for(var a in t){if(n.push("    item [".concat(r,"]:")),"interval"==t[a].type?n.push('        class = "IntervalTier"'):n.push('        class = "TextTier"'),n.push('        name = "'.concat(a,'" ')),n.push("        xmin = 0 "),n.push("        xmax = ".concat(e," ")),"point"==t[a].type)n.push("        points: size = ".concat(t[a].values.length," ")),n=n.concat(ir(t[a].values));else if("interval"==t[a].type){var i=t[a].values;i[i.length-1].time<e&&i.push({text:"",time:e}),n.push("        intervals: size = ".concat(i.length," ")),n=n.concat(or(i,e))}r++}return n.join("\n")}},dr={textgrid:ur},hr=!1,pr=(_n=Rn("textgrid.create",hr),Dn=Rn("textgrid.setCursorTime",hr),On=Rn("textgrid.render",hr),Wn=Rn("textgrid.play",hr),Mn=Rn("textgrid.addTier",hr),Ln=Rn("textgrid.deleteTier",hr),jn=Rn("textgrid.updateTier",hr),Fn=Rn("textgrid.copyTier",hr),Vn=Rn("textgrid.addTierValue",hr),$n=Rn("textgrid.setTierValue",hr),An=Rn("textgrid.deleteTierValue",hr),In=Rn("textgrid.spliceTierValue",hr),zn=function(){function e(t,n){var r=this;if(Object(Et["a"])(this,e),Object(Tt["a"])(this,"_onScroll",(function(){r.wrapper&&r.drawer.wrapper&&(r.wrapper.scrollLeft=r.drawer.wrapper.scrollLeft)})),Object(Tt["a"])(this,"_onSeek",(function(e){var t=e*r.wavesurfer.getDuration();r.currentTime=t,r.setCursorTime()})),Object(Tt["a"])(this,"_onAudioProcess",(function(e){r.currentTime=e,r.setCursorTime()})),Object(Tt["a"])(this,"_onRedraw",(function(){return r.render()})),Object(Tt["a"])(this,"_onReady",(function(){var e=r.wavesurfer;r.drawer=e.drawer,r.pixelRatio=e.drawer.params.pixelRatio,r.maxCanvasWidth=e.drawer.maxCanvasWidth||e.drawer.width,r.maxCanvasElementWidth=e.drawer.maxCanvasElementWidth||Math.round(r.maxCanvasWidth/r.pixelRatio),e.drawer.wrapper.addEventListener("scroll",r._onScroll),e.on("redraw",r._onRedraw),e.on("zoom",r._onZoom),e.on("seek",r._onSeek),e.backend.on("audioprocess",r._onAudioProcess),r.render()})),this.container="string"==typeof t.container?document.querySelector(t.container):t.container,!this.container)throw new Error("No container for wavesurfer textgrid");this.wavesurfer=n,this.util=n.util,this.params=Object.assign({},{activeColor:"#FF6D00",matchedColor:"#0277BD",color:"#000",fontColor:"#000",fontFamily:"Arial",fontSize:15,height:50,maxHeight:null,playingOffset:1,matchedSize:3,tiers:{},zoomDebounce:!1},t),this.drawer=n.drawer,this.matchedSize=this.params.matchedSize,this.pixelRatio=this.params.pixelRatio,this.isMatched=!1,this.wrapper=null,this.maxCanvasWidth=null,this.maxCanvasElementWidth=null,this.tiers=this.params.tiers,this.current={key:null,item:null,index:null},this._onZoom=this.params.zoomDebounce?this.wavesurfer.util.debounce((function(){return r.render()}),this.params.zoomDebounce):function(){return r.render()}}return Object(Rt["a"])(e,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){if(this.unAll(),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.un("zoom",this._onZoom),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("seek",this._onSeek),this.wavesurfer.drawer.un("audioprocess",this._onAudioProcess),this.wavesurfer.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wrapper&&this.wrapper.parentNode){for(var e in this.tiers)this.removeCanvas(e);this.cursorEl.parentElement.removeChild(this.cursorEl),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null}}},{key:"createWrapper",value:function(){this.container.innerHTML="",this.currentTime=this.wavesurfer.getCurrentTime()||0,null===this.wrapper&&(this.wrapper=this.container.appendChild(document.createElement("textgrid")));var e=this.cursorEl=document.createElement("div");e.classList.add("textgrid-cursor");var t=this.wavesurfer.params.cursorWidth||1,n=this.wavesurfer.params.cursorColor,r="dashed";this.drawer.style(e,{left:0,position:"absolute",zIndex:3,width:"".concat(t,"px"),borderLeft:"".concat(t,"px ").concat(r," ").concat(n)}),this.wrapper.appendChild(e)}},{key:"setCursorTime",value:function(){if(this.cursorEl){var e=this.wavesurfer.drawer.width,t=this.wavesurfer.getDuration(),n=this.currentTime*e/t,r=n?"".concat(n,"px"):this.cursorEl.style.left;this.cursorEl.style.height=this.wrapper.style.height,this.cursorEl.style.left=r}}},{key:"render",value:function(){this.wsParams=this.wavesurfer.params,this.wrapper||this.createWrapper(),this.util.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(this.params.height*Object.keys(this.tiers).length,"px")}),(this.wsParams.fillParent||this.wsParams.scrollParent)&&(this.util.style(this.wrapper,{width:"100%"}),null!==this.params.maxHeight?this.setMaxHeight(this.params.maxHeight):this.wrapper.style.overflow="hidden"),null!==this.params.maxHeight&&this.setMaxHeight(this.params.maxHeight);var e=0;for(var t in this.tiers)this.updateCanvas(t,e),this.updateCanvasPositioning(t,e),this.renderCanvas(t),this.renderLabel(t),e++;this.currentTime=this.wavesurfer.getCurrentTime(),this.setCursorTime()}},{key:"updateCursor",value:function(e,t,n){this.cursorEl.style.borderLeft="".concat(e,"px ").concat(t," ").concat(n)}},{key:"addCanvas",value:function(e,t){if(void 0==this.tiers[e].canvas){var n=this.wrapper.appendChild(document.createElement("canvas"));this.util.style(n,{position:"absolute",zIndex:3,top:"".concat(t*this.params.height,"px"),left:"".concat(0*this.maxCanvasElementWidth,"px"),"border-top":"solid 1px ".concat(this.params.color),"border-bottom":"solid 1px ".concat(this.params.color)});var r,a=this;this.tiers[e].onClick=function(t){t.preventDefault();var n=a.event2progress(t);a.wavesurfer.seekTo(n);var r=a.event2time(t),i={key:e,time:r,detail:t.detail,shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey,meta:t.metaKey};if(a.wavesurfer.fireEvent("textgrid-click",i),1===t.detail){var o=a.tiers[e].values.filter((function(e){return e.time>=r}));o.sort((function(e,t){return e.time-t.time}));var s=o[0];s&&a.setCurrent(e,s)}},this.tiers[e].onDblClick=function(t){t.preventDefault();var n=a.event2time(t),r={key:e,time:n};a.wavesurfer.fireEvent("textgrid-dblclick",r)},this.tiers[e].isDraging=!1,this.tiers[e].dragingItemIdx=null;var i=function(t){n.style.cursor="grabbing",clearTimeout(r),r=setTimeout((function(){var r=a.event2time(t),i=a.tiers[e],o=i.dragingItemIdx,s=a.wavesurfer.backend.getDuration(),l=n.width/s,c=Object.keys(a.tiers).filter((function(t){return t!=e})),u=c.filter((function(e){return a.tiers[e].values.filter((function(e){return Bt(l*e.time,l*r)<a.matchedSize})).length>0}));if(u.length){a.isMatched=!0;var d=a.wavesurfer.params.cursorWidth||1,h=a.params.matchedColor;a.updateCursor(3*d,"solid",h),r=a.tiers[u[u.length-1]].values.filter((function(e){return Bt(l*e.time,l*r)<a.matchedSize})).map((function(e){return e.time}))[0]||r}else{var p=a.wavesurfer.params.cursorWidth||1,f=a.wavesurfer.params.cursorColor;a.updateCursor(p,"dashed",f),a.isMatched=!1}if(i.values[o]){var v=i.values[o].text||"";a.setTierValue(e,o,{time:r,text:v},!1),setTimeout((function(){a.wavesurfer.seekTo(r/s)}))}}),50)},o=function(){a.tiers[e].isDraging=!0,n.style.cursor="grabbing",n.addEventListener("mousemove",i)},s=function t(){n.style.cursor="grab",a.tiers[e].isDraging=!1,a.tiers[e].dragingItemIdx=null,n.removeEventListener("mousedown",o),n.removeEventListener("mousemove",i),n.removeEventListener("mouseup",t),a.wavesurfer.fireEvent("textgrid-update",a.tiers);var r=a.wavesurfer.params.cursorWidth||1,s=a.wavesurfer.params.cursorColor;a.updateCursor(r,"dashed",s),n.style.cursor="default"};this.tiers[e].onMouseMove=function(t){t.preventDefault();var r=a.wavesurfer.backend.getDuration(),i=n.width/r,l="offsetX"in t?t.offsetX:t.layerX;a.tiers[e].isDraging||(a.tiers[e].dragingItemIdx=a.tiers[e].values.findIndex((function(e){return Bt(l,e.time*i)<1}))),-1!=a.tiers[e].dragingItemIdx?(n.style.cursor="pointer",n.addEventListener("mousedown",o,!1),n.addEventListener("mouseup",s,!1)):a.tiers[e].isDraging||(n.style.cursor="default",a.tiers[e].dragingItemIdx=null)},this.tiers[e].onKeydown=function(e){e.preventDefault();var t={keycode:e.which,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey,current:a.current};a.wavesurfer.fireEvent("textgrid-keydown",t)},this.tiers[e].onKeyup=function(e){e.preventDefault();var t={keycode:e.which,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey,current:a.current};a.wavesurfer.fireEvent("textgrid-keyup",t)},n.setAttribute("tabindex",0),n.addEventListener("click",this.tiers[e].onClick,!1),n.addEventListener("dblclick",this.tiers[e].onDblClick,!1),n.addEventListener("mousemove",this.tiers[e].onMouseMove,!1),n.addEventListener("keyup",this.tiers[e].onKeyup,!1),n.addEventListener("keydown",this.tiers[e].onKeydown,!1),this.tiers[e].canvas=n;var l=this.wrapper.appendChild(document.createElement("canvas"));l.classList.add("tier-labels"),this.drawer.style(l,{position:"absolute",zIndex:4,top:"".concat(t*this.params.height,"px"),width:"${this.params.fontSize + 4}px"}),this.tiers[e].label=l}else{var c=this.tiers[e].label;this.drawer.style(c,{position:"absolute",zIndex:4,top:"".concat(t*this.params.height,"px"),width:"${this.params.fontSize + 4}px"})}}},{key:"removeCanvas",value:function(e){var t=this.tiers[e].canvas;t.removeEventListener("click",t.onClick),t.removeEventListener("dblclick",t.onDblClick),t.removeEventListener("mousemove",t.onMouseMove),t.removeEventListener("keyup",t.onKeyup),t.removeEventListener("keydown",t.onKeydown);var n=this.tiers[e].label;n.parentElement.removeChild(n),t.parentElement.removeChild(t)}},{key:"updateCanvas",value:function(e,t){this.addCanvas(e,t)}},{key:"updateCanvasPositioning",value:function(e,t){var n=this.tiers[e].canvas;n.width=this.wavesurfer.drawer.width,n.height=(this.params.height+1)*this.pixelRatio,this.util.style(n,{top:"".concat(t*this.params.height,"px"),left:"".concat(0*this.maxCanvasElementWidth,"px"),width:"".concat(this.wavesurfer.drawer.width,"px"),height:"".concat(this.params.height,"px")})}},{key:"renderCanvas",value:function(e){var t=this.wavesurfer.backend.getDuration();if(!(t<=0)){var n=this.wsParams.fillParent&&!this.wsParams.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*this.wsParams.pixelRatio,r=n/t,a=this.tiers[e].values;a.sort((function(e,t){return e.time-t.time}));var i,o=[],s=0,l=Object(_["a"])(a);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=r*c.time,d=0==s?0:a[s-1].time,h=0==s?0:r*d;o.push([c.time,u,h,c.text]),s++}}catch(p){l.e(p)}finally{l.f()}"interval"==this.tiers[e].type?this.renderIntervalTier(e,o):"point"==this.tiers[e].type?this.renderPointTier(e,o):this.wavesurfer.fireEvent("error",new Error("tier.type is 'interval' or 'point'"))}}},{key:"renderIntervalTier",value:function(e,t){var n=this,r=this.params.height*this.pixelRatio;this.fillRect(e,0,0,1,r);var a=function(e){t.forEach((function(t){e(t[0],t[1],t[2],t[3])}))};a((function(t,a,i,o){if(n.current.key==e&&null!==n.current.index){var s=n.tiers[e].values[n.current.index];if(s){if(s.time==t){n.setFillStyles(e,n.params.activeColor);var l=n.tiers[e].canvas;l.getContext("2d").fillRect(i,0,a-i,l.height)}n.setFillStyles(e,n.params.color),n.setFillStyles(e,n.params.fontColor)}}if(n.fillRect(e,a,0,1,r),o){var c=n.params.fontSize*n.wsParams.pixelRatio,u=n.getStrLength(o),d=a-i,h=c*u;d<h&&(c=Math.round(d/u),n.setFonts(e,"".concat(c,"px ").concat(n.params.fontFamily))),n.setFonts(e,"".concat(c,"px ").concat(n.params.fontFamily)),n.fillText(e,o,Math.round((i+a)/2)-c*u*.25,r+c/2)}}))}},{key:"renderPointTier",value:function(e,t){var n=this,r=this.params.height*this.pixelRatio,a=function(e){t.forEach((function(t){e(t[0],t[1],t[2],t[3])}))};a((function(t,a,i,o){if(n.current.key==e&&null!==n.current.index){var s=n.tiers[e].values[n.current.index];s&&(s.time==t?(n.setFillStyles(e,n.params.activeColor),n.fillRect(e,a,0,3,Math.round(r/2))):(n.setFillStyles(e,n.params.color),n.fillRect(e,a,0,1,Math.round(r/2))))}else n.setFillStyles(e,n.params.color),n.fillRect(e,a,0,1,Math.round(r/2));if(o){var l=n.getStrLength(o),c=n.params.fontSize*n.wsParams.pixelRatio;n.setFonts(e,"".concat(c,"px ").concat(n.params.fontFamily)),n.fillText(e,o,Math.round(a-c*l/4),Math.round(2*r-c))}}))}},{key:"renderLabel",value:function(e){var t=this.params.fontSize,n="rgba(".concat([0,0,0,.5],")"),r=this.tiers[e].label,a=r.getContext("2d");r.height=this.tiers[e].canvas.height,r.width=t,a.fillStyle=n,a.fillRect(0,0,r.width,r.height),a.fill();var i="#fff",o=15,s="Helvetica";for(var l in a.textAlign="center",a.textBaseline="middle",a.font="".concat(o,"px ").concat(s),a.fillStyle=i,e){var c=e[l];a.fillText(c,o/2,l*o+10)}}},{key:"setFillStyles",value:function(e,t){var n=this.tiers[e].canvas;n.getContext("2d").fillStyle=t}},{key:"setFonts",value:function(e,t){var n=this.tiers[e].canvas;n.getContext("2d").font=t}},{key:"fillRect",value:function(e,t,n,r,a){var i=this.tiers[e].canvas,o=0,s={x1:Math.max(t,0),y1:n,x2:Math.min(t+r,i.width),y2:n+a};s.x1<s.x2&&i.getContext("2d").fillRect(s.x1-o,s.y1,s.x2-s.x1,s.y2-s.y1)}},{key:"fillText",value:function(e,t,n,r){var a,i=0,o=this.tiers[e].canvas,s=o.getContext("2d"),l=s.canvas.width;i>n+a||(i+l>n&&(a=s.measureText(t).width,s.fillText(t,n,r/2)),i+=l)}},{key:"setCurrent",value:function(e,t){var n=this;this.current.key=e,this.current.item=t,this.current.index=this.tiers[e].values.findIndex((function(e){return e.time==n.current.item.time})),this.render(),this.wavesurfer.fireEvent("textgrid-current-update",this.current)}},{key:"getStrLength",value:function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);t+=r>=0&&r<129||63728===r||r>=65377&&r<65440||r>=63729&&r<63732?1:2}return t}},{key:"event2progress",value:function(e){var t="offsetX"in e?e.offsetX:e.layerX,n=this.wsParams.fillParent&&!this.wsParams.scrollParent?this.drawer.getWidth():this.drawer.wrapper.scrollWidth*this.wsParams.pixelRatio;return t/n}},{key:"event2time",value:function(e){var t=this.wavesurfer.backend.getDuration(),n=this.event2progress(e);return n*t}},{key:"setMaxHeight",value:function(e){this.wrapper.style.overflow="hidden",this.wrapper.style.overflowY="scroll",this.wrapper.style.maxHeight=e}},{key:"saveKeyInTier",value:function(e,t){e in this.tiers?t():this.wavesurfer.fireEvent("error",new Error("${key} is not in tiers"))}},{key:"saveKeyIdxInTier",value:function(e,t,n){if(e in this.tiers){var r=null;try{r=this.tiers[e].values[t]}catch(a){this.wavesurfer.fireEvent("error",a)}finally{null!=r&&n()}}else this.wavesurfer.fireEvent("error",new Error("${idx} is not in ${key}"))}},{key:"play",value:function(e,t){var n=this;this.saveKeyIdxInTier(e,t,(function(){var r=n.wavesurfer.getDuration(),a=null,i=null,o=n.tiers[e].values[t];"point"==n.tiers[e].type?(a=Math.max(o.time-n.params.playingOffset,0),i=Math.min(o.time+n.params.playingOffset,r)):(a=0==t?0:n.tiers[e].values[t-1].time,i=o.time),n.wavesurfer.play(a,i)}))}},{key:"addTier",value:function(e,t,n){if(""!=e&&null!=e&&void 0!=e)if(e in this.tiers)this.wavesurfer.fireEvent("error",new Error("Duplicate tier name (".concat(e,")")));else{var r="interval"==t?[{text:"",time:this.wavesurfer.getDuration()}]:[];"interval"!=t&&"point"!=t||(this.tiers[e]={type:t,values:r,parent:n||null},this.render(),this.wavesurfer.fireEvent("tier-add",this.tiers))}else this.wavesurfer.fireEvent("error",new Error("No tier name"))}},{key:"deleteTier",value:function(e){var t=this;this.saveKeyInTier(e,(function(){for(var n in t.tiers)e==t.tiers[n].parent&&(t.tiers[n].parent=null);t.removeCanvas(e),delete t.tiers[e],t.render(),t.wavesurfer.fireEvent("tier-delete",t.tiers)}))}},{key:"updateTier",value:function(e,t){var n=this,r=this;this.saveKeyInTier(e,(function(){var a=r.tiers[e];if(t.name)if(e!=t.name){if(""==t.name||null==t.name||void 0==t.name)return void n.wavesurfer.fireEvent("error",new Error("No tier name"));if(t.name in n.tiers)return void n.wavesurfer.fireEvent("error",new Error("Duplicate tier name (".concat(e,")")));for(var i in r.tiers[t.name]={values:a.values||[],type:"type"in t?t.type:a.type,parent:"parent"in t?t.parent:a.parent},r.tiers)e==r.tiers[i].parent&&(r.tiers[i].parent=t.name);r.removeCanvas(e),delete r.tiers[e]}else r.tiers[e].type="type"in t?t.type:a.type,r.tiers[e].parent="parent"in t?t.parent:a.parent;else r.tiers[e].type="type"in t?t.type:a.type,r.tiers[e].parent="parent"in t?t.parent:a.parent;r.render(),r.wavesurfer.fireEvent("tier-update",r.tiers)}))}},{key:"copyTier",value:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(""!=t&&null!=t&&void 0!=t)if(t in this.tiers)this.wavesurfer.fireEvent("error",new Error("Duplicate tier name (".concat(t,")")));else{var i=this.tiers[e],o=i.values.map((function(e){return{time:e.time,text:a?e.text:""}}));"interval"!=n&&"point"!=n||(this.tiers[t]={type:n,values:o,parent:r||null},this.render(),this.wavesurfer.fireEvent("tier-add",this.tiers))}else this.wavesurfer.fireEvent("error",new Error("No tier name"))}},{key:"getParents",value:function(e){var t=[],n=e;while(null!==n)t.push(n),n=this.tiers[n].parent;return t}},{key:"hasChildren",value:function(e){var t=[];for(var n in this.tiers)e==this.tiers[n].parent&&t.push(n);return 0!=t.length}},{key:"addTierValue",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this;this.saveKeyInTier(e,(function(){var o=i.tiers[e].values.findIndex((function(e){return e.time==t.time}));-1==o&&function(){var o={time:t.time||null,text:t.text||""};for(var s in i.tiers[e].values.push(o),i.tiers)if(e==i.tiers[s].parent){var l=i.tiers[s].values.findIndex((function(e){return e.time==o.time}));-1==l&&i.addTierValue(s,o,!1,!1)}a&&i.render(),r&&(i.setCurrent(e,o),i.wavesurfer.fireEvent("textgrid-update",n.tiers))}()}))}},{key:"setTierValue",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=this;this.saveKeyIdxInTier(e,t,(function(){var o=i.tiers[e].values[t],s=i.hasChildren(e),l=null!==i.tiers[e].parent;if(o.time!=n.time)if(s)for(var c in i.tiers)e==i.tiers[c].parent&&function(){var r=i.tiers[e].values[t],a=i.tiers[c].values.findIndex((function(e){return e.time==r.time}));-1!=a&&i.setTierValue(c,a,n,!1,!1)}();else if(l){var u,d=i.getParents(i.tiers[e].parent),h=Object(_["a"])(d);try{for(h.s();!(u=h.n()).done;){var p=u.value,f=i.tiers[p].values.findIndex((function(e){return e.time==o.time}));-1!=f&&(i.tiers[p].values[f].time=n.time)}}catch(v){h.e(v)}finally{h.f()}i.tiers[e].values[t].time=n.time}else i.tiers[e].values[t].time=n.time;else i.tiers[e].values[t]=n;a&&i.render(),r&&i.wavesurfer.fireEvent("textgrid-update",i.tiers)}))}},{key:"deleteTierValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this,i=function(e,t){var n=e.values[t];if("interval"==e.type&&e.values.length!=t+1){var r=e.values[t+1];if(n.text&&r.text){var a="".concat(n.text,"/").concat(r.text);e.values[t+1].text=a}}e.values.splice(t,1)};this.saveKeyIdxInTier(e,t,(function(){var o=a.tiers[e].values[t],s=a.hasChildren(e),l=null!==a.tiers[e].parent;if(s){for(var c in a.tiers)if(e==a.tiers[c].parent){var u=a.tiers[c].values.findIndex((function(e){return e.time==o.time}));-1!=u&&a.deleteTierValue(c,u,!1,!1)}}else if(l){var d,h=a.getParents(a.tiers[e].parent),p=Object(_["a"])(h);try{for(p.s();!(d=p.n()).done;){var f=d.value,v=a.tiers[f].values.findIndex((function(e){return e.time==o.time}));-1!=v&&i(a.tiers[f],v)}}catch(m){p.e(m)}finally{p.f()}i(a.tiers[e],t)}else i(a.tiers[e],t);n&&a.render(),r&&a.wavesurfer.fireEvent("textgrid-update",a.tiers)}))}},{key:"splitTierValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.tiers[e];if("interval"==r.type){var a=r.values[t],i=t-1==0?r.values[0]:r.values[t-1];if(null==n){var o=a.time-i.time,s=[];for(var l in a.text)s.push(a.text[l]);for(var c=s.length,u=o/c,d=1;d<c+1;d++){var h=i.time+u*d,p=s[d-1];1==d?(this.tiers[e].values[t].text=p,this.tiers[e].values[t].time=h):this.tiers[e].values.push({text:p,time:h})}}else if(Number.isFinite(n)){var f=i.time;this.tiers[e].values[t].text="";while(f+n<a.time)f+=n,this.tiers[e].values.push({text:"",time:f})}else if("string"==typeof n||n instanceof String)for(var v=a.time-i.time,m=a.text.split(n),b=m.length,y=v/b,w=1;w<b+1;w++){var g=i.time+y*w,k=m[w-1];1==w?(this.tiers[e].values[t].text=k,this.tiers[e].values[t].time=g):this.tiers[e].values.push({text:k,time:g})}this.render(),this.wavesurfer.fireEvent("textgrid-update",this.tiers)}}},{key:"loadObj",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in this.tiers)this.removeCanvas(n);for(var r in this.tiers={},this.current={key:null,item:null,index:null},e){var a=e[r];if(a.type&&("interval"==a.type||"point"==a.type)){var i=[];if(a.values.length>0)for(var o in a.values||[]){var s=a.values[o],l=s.time;"number"===typeof l&&Number.isFinite(l)&&i.push({time:l,text:s.text||""}),o==a.values.length-1&&"interval"==a.type&&s.time!==this.wavesurfer.getDuration()&&i.push({text:"",time:this.wavesurfer.getDuration()})}else"interval"==a.type&&i.push({text:"",time:this.wavesurfer.getDuration()});this.tiers[r]={type:a.type,values:i,parent:a.parent||null}}}this.currentTime=this.wavesurfer.getCurrentTime(),this.setCursorTime(),this.render(),t&&this.wavesurfer.fireEvent("textgrid-update",this.tiers)}},{key:"loadJson",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=new FileReader;r.readAsText(e),r.addEventListener("load",(function(){var e=JSON.parse(r.result);n.loadObj(e,t)}))}},{key:"loadTextGrid",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new FileReader,r=this;n.readAsText(e),n.addEventListener("load",(function(){r.loadObj(dr.textgrid.load(n.result),t)}))}},{key:"dumpTextGrid",value:function(){var e=this.wavesurfer.backend.getDuration(),t=this.tiers,n=dr.textgrid.dump(e,t);return n}},{key:"downloadTextGrid",value:function(e){var t=this.dumpTextGrid(),n=new Blob([t],{type:"text/plain"}),r=document.createElement("a");r.download=e,r.href=URL.createObjectURL(n),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),r.click()}}],[{key:"create",value:function(t){return{name:"textgrid",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),e}(),Object(Sn["a"])(zn,"create",[_n],Object.getOwnPropertyDescriptor(zn,"create"),zn),Object(Sn["a"])(zn.prototype,"setCursorTime",[Dn],Object.getOwnPropertyDescriptor(zn.prototype,"setCursorTime"),zn.prototype),Object(Sn["a"])(zn.prototype,"render",[On],Object.getOwnPropertyDescriptor(zn.prototype,"render"),zn.prototype),Object(Sn["a"])(zn.prototype,"play",[Wn],Object.getOwnPropertyDescriptor(zn.prototype,"play"),zn.prototype),Object(Sn["a"])(zn.prototype,"addTier",[Mn],Object.getOwnPropertyDescriptor(zn.prototype,"addTier"),zn.prototype),Object(Sn["a"])(zn.prototype,"deleteTier",[Ln],Object.getOwnPropertyDescriptor(zn.prototype,"deleteTier"),zn.prototype),Object(Sn["a"])(zn.prototype,"updateTier",[jn],Object.getOwnPropertyDescriptor(zn.prototype,"updateTier"),zn.prototype),Object(Sn["a"])(zn.prototype,"copyTier",[Fn],Object.getOwnPropertyDescriptor(zn.prototype,"copyTier"),zn.prototype),Object(Sn["a"])(zn.prototype,"addTierValue",[Vn],Object.getOwnPropertyDescriptor(zn.prototype,"addTierValue"),zn.prototype),Object(Sn["a"])(zn.prototype,"setTierValue",[$n],Object.getOwnPropertyDescriptor(zn.prototype,"setTierValue"),zn.prototype),Object(Sn["a"])(zn.prototype,"deleteTierValue",[An],Object.getOwnPropertyDescriptor(zn.prototype,"deleteTierValue"),zn.prototype),Object(Sn["a"])(zn.prototype,"splitTierValue",[In],Object.getOwnPropertyDescriptor(zn.prototype,"splitTierValue"),zn.prototype),zn),fr=n("1da1");n("96cf"),n("6b93"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("cfc3"),n("fb2c");function vr(e,t,n,r){switch(this.bufferSize=e,this.sampleRate=t,this.bandwidth=2/e*(t/2),this.sinTable=new Float32Array(e),this.cosTable=new Float32Array(e),this.windowValues=new Float32Array(e),this.reverseTable=new Uint32Array(e),this.peakBand=0,this.peak=0,n){case"bartlett":for(a=0;a<e;a++)this.windowValues[a]=2/(e-1)*((e-1)/2-Math.abs(a-(e-1)/2));break;case"bartlettHann":for(a=0;a<e;a++)this.windowValues[a]=.62-.48*Math.abs(a/(e-1)-.5)-.38*Math.cos(2*Math.PI*a/(e-1));break;case"blackman":for(r=r||.16,a=0;a<e;a++)this.windowValues[a]=(1-r)/2-.5*Math.cos(2*Math.PI*a/(e-1))+r/2*Math.cos(4*Math.PI*a/(e-1));break;case"cosine":for(a=0;a<e;a++)this.windowValues[a]=Math.cos(Math.PI*a/(e-1)-Math.PI/2);break;case"gauss":for(r=r||.25,a=0;a<e;a++)this.windowValues[a]=Math.pow(Math.E,-.5*Math.pow((a-(e-1)/2)/(r*(e-1)/2),2));break;case"hamming":for(a=0;a<e;a++)this.windowValues[a]=.54-.46*Math.cos(2*Math.PI*a/(e-1));break;case"hann":case void 0:for(a=0;a<e;a++)this.windowValues[a]=.5*(1-Math.cos(2*Math.PI*a/(e-1)));break;case"lanczoz":for(a=0;a<e;a++)this.windowValues[a]=Math.sin(Math.PI*(2*a/(e-1)-1))/(Math.PI*(2*a/(e-1)-1));break;case"rectangular":for(a=0;a<e;a++)this.windowValues[a]=1;break;case"triangular":for(a=0;a<e;a++)this.windowValues[a]=2/e*(e/2-Math.abs(a-(e-1)/2));break;default:throw Error("No such window function '"+n+"'")}var a,i=1,o=e>>1;while(i<e){for(a=0;a<i;a++)this.reverseTable[a+i]=this.reverseTable[a]+o;i<<=1,o>>=1}for(a=0;a<e;a++)this.sinTable[a]=Math.sin(-Math.PI/a),this.cosTable[a]=Math.cos(-Math.PI/a);this.calculateSpectrum=function(e){var t,n,r,a=this.bufferSize,i=this.cosTable,o=this.sinTable,s=this.reverseTable,l=2/this.bufferSize,c=Math.sqrt,u=Math.floor(Math.log(a)/Math.LN2),d=new Float32Array(a),h=new Float32Array(a),p=new Float32Array(a/2);if(Math.pow(2,u)!==a)throw"Invalid buffer size, must be a power of 2.";if(a!==e.length){var f=["Supplied buffer is not the same size as defined FFT.","FFT Size: ".concat(a," Buffer Size: ").concat(e.length)].join(" ");throw f}for(var v,m,b,y,w,g,k,x,C=1,P=0;P<a;P++)h[P]=e[s[P]]*this.windowValues[s[P]],d[P]=0;while(C<a){b=i[C],y=o[C],w=1,g=0;for(var S=0;S<C;S++){var T=S;while(T<a)v=T+C,k=w*h[v]-g*d[v],x=w*d[v]+g*h[v],h[v]=h[T]-k,d[v]=d[T]-x,h[T]+=k,d[T]+=x,T+=C<<1;m=w,w=m*b-g*y,g=m*y+g*b}C<<=1}for(var E=0,R=a/2;E<R;E++)t=h[E],n=d[E],r=l*c(t*t+n*n),r>this.peak&&(this.peakBand=E,this.peak=r),p[E]=r;return p},this.async_calculateSpectrum=function(e){var t=this;return new Promise((function(n,r){var a,i,o,s=t.bufferSize,l=t.cosTable,c=t.sinTable,u=t.reverseTable,d=2/t.bufferSize,h=Math.sqrt,p=Math.floor(Math.log(s)/Math.LN2),f=new Float32Array(s),v=new Float32Array(s),m=new Float32Array(s/2);if(Math.pow(2,p)!==s&&r(new Error("Invalid buffer size, must be a power of 2.")),s!==e.length){var b=["Supplied buffer is not the same size as defined FFT.","FFT Size: ".concat(s," Buffer Size: ").concat(e.length)].join(" ");r(new Error(b))}for(var y,w,g,k,x,C,P,S,T=1,E=0;E<s;E++)v[E]=e[u[E]]*t.windowValues[u[E]],f[E]=0;while(T<s){g=l[T],k=c[T],x=1,C=0;for(var R=0;R<T;R++){var _=R;while(_<s)y=_+T,P=x*v[y]-C*f[y],S=x*f[y]+C*v[y],v[y]=v[_]-P,f[y]=f[_]-S,v[_]+=P,f[_]+=S,_+=T<<1;w=x,x=w*g-C*k,C=w*k+C*g}T<<=1}for(var D=0,O=s/2;D<O;D++)a=v[D],i=f[D],o=d*h(a*a+i*i),o>t.peak&&(t.peakBand=D,t.peak=o),m[D]=o;n(m)}))}}var mr=!1,br=(Hn=Rn("spectrogram.create",mr),Bn=Rn("spectrogram.init",mr),qn=Rn("spectrogram.destroy",mr),Nn=Rn("spectrogram.createWrapper",mr),Gn=Rn("spectrogram._wrapperClickHandler",mr),Un=Rn("spectrogram._wrapperScrollHandler",mr),Zn=Rn("spectrogram.createCanvas",mr),Xn=Rn("spectrogram.render",mr),Kn=Rn("spectrogram.updateCanvasStyle",mr),Yn=Rn("spectrogram.drawerSpectrogram",mr),Jn=Rn("spectrogram.getFrequencies",mr),Qn=Rn("spectrogram.loadLabels",mr),er=Rn("spectrogram.resample",mr),tr=Rn("spectrogram.setCursorTime",mr),nr=function(){function e(t,n){var r=this;Object(Et["a"])(this,e),this.params=t,this.wavesurfer=n,this.util=n.util,this.frequencies=[],this.frequenciesDataUrl=t.frequenciesDataUrl,this._onRender=function(){r.render()},this._onWrapperScroll=function(e){r._wrapperScrollHandler(e)},this._onWrapperClick=function(e){r._wrapperClickHandler(e,n)},this._onReady=function(){var e=r.drawer=n.drawer;if(r.container="string"==typeof t.container?document.querySelector(t.container):t.container,!r.container)throw Error("No container for WaveSurfer spectrogram");if(t.colorMap){if(t.colorMap.length<256)throw new Error("Colormap must contain 256 elements");for(var a=0;a<t.colorMap.length;a++){var i=t.colorMap[a];if(4!==i.length)throw new Error("ColorMap entries must contain 4 values")}r.colorMap=t.colorMap}else{r.colorMap=[];for(var o=0;o<256;o++){var s=(255-o)/256;r.colorMap.push([s,s,s,1])}}r.width=e.width,r.pixelRatio=r.params.pixelRatio||n.params.pixelRatio,r.fftSamples=r.params.fftSamples||n.params.fftSamples||512,r.height=r.fftSamples/2,r.canvasHeight=r.params.canvasHeight||r.height,r.noverlap=t.noverlap,r.windowFunc=t.windowFunc,r.alpha=t.alpha,r.currentTime=n.getCurrentTime()||0,r.createWrapper(),r.createCanvas(),r.render(),e.wrapper.addEventListener("scroll",r._onWrapperScroll),n.on("redraw",r._onRender),n.backend.on("audioprocess",(function(e){r.currentTime=e,r.setCursorTime()})),n.on("seek",(function(e){var t=e*r.wavesurfer.getDuration();r.currentTime=t,r.setCursorTime()}))}}return Object(Rt["a"])(e,[{key:"init",value:function(){this.wavesurfer.isReady?this._onReady():this.wavesurfer.once("ready",this._onReady)}},{key:"destroy",value:function(){this.unAll(),this.wavesurfer.un("ready",this._onReady),this.wavesurfer.un("redraw",this._onRender),this.drawer&&this.drawer.wrapper.removeEventListener("scroll",this._onScroll),this.wavesurfer=null,this.util=null,this.params=null,this.wrapper&&(this.wrapper.removeEventListener("click",this._onWrapperClick),this.wrapper.parentNode.removeChild(this.wrapper),this.wrapper=null)}},{key:"createWrapper",value:function(){var e=this.container.querySelector("spectrogram");e&&this.container.removeChild(e);var t=this.wavesurfer.params;this.wrapper=document.createElement("spectrogram");var n=this.canvasHeight||this.height/this.pixelRatio;if(this.params.labels){var r=this.labelsEl=document.createElement("canvas");r.classList.add("spec-labels"),this.drawer.style(r,{left:0,position:"absolute",zIndex:4,height:"".concat(n,"px"),width:"".concat(55/this.pixelRatio,"px")}),this.wrapper.appendChild(r)}var a=this.cursorEl=document.createElement("div");a.classList.add("spec-cursor");var i=this.wavesurfer.params.cursorWidth||1;this.drawer.style(a,{left:0,position:"absolute",zIndex:3,height:"".concat(n,"px"),width:"".concat(i,"px"),borderLeft:"".concat(i,"px dashed ").concat(this.wavesurfer.params.cursorColor)}),this.wrapper.appendChild(a),this.drawer.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:"".concat(n,"px")}),(t.fillParent||t.scrollParent)&&this.drawer.style(this.wrapper,{width:"100%",overflowX:"hidden",overflowY:"hidden"}),this.container.appendChild(this.wrapper),this.wrapper.addEventListener("click",this._onWrapperClick)}},{key:"_wrapperClickHandler",value:function(e,t){e.preventDefault();var n="offsetX"in e?e.offsetX:e.layerX,r=n/this.width||0;t.seekTo(r),this.fireEvent("click",r)}},{key:"_wrapperScrollHandler",value:function(e){this.wrapper&&(this.wrapper.scrollLeft=e.target.scrollLeft)}},{key:"createCanvas",value:function(){var e=this.canvas=this.wrapper.appendChild(document.createElement("canvas"));this.canvas=e,this.spectrCc=e.getContext("2d"),this.util.style(e,{position:"absolute",zIndex:2})}},{key:"render",value:function(){if(this.updateCanvasStyle(),this.wavesurfer.fireEvent("spectrogram-render-start"),this.frequenciesDataUrl)this.loadFrequenciesData(this.frequenciesDataUrl);else{var e=this;setTimeout((function(){e.getFrequencies(e.drawSpectrogram)}),0)}if(this.setCursorTime(),this.params.labels){var t=this.params.freqFontSize||12,n=this.params.unitFontSize||10;this.loadLabels("rgba(68,68,68,0.5)","".concat(t,"px"),"".concat(n,"px"),"","#fff","#f7f7f7","center","#specLabels")}}},{key:"updateCanvasStyle",value:function(){this.width=this.drawer.width;var e=Math.round(this.width/this.pixelRatio)+"px";this.canvas.width=this.width,this.canvas.height=this.canvasHeight||this.height,this.canvas.style.width=e}},{key:"drawSpectrogram",value:function(){var e=Object(fr["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=n.height,a=n.wavesurfer.params.minPxPerSec/100,i=n.resample(t),o=n.params.freqRate||1,s=4,n.buffer&&n.buffer.numberOfChannels&&(s=4/n.buffer.numberOfChannels),n.spectrCc.clearRect(0,0,n.width,r),l=0;l<i.length;l++)for(c=0;c<Math.round(i[l].length*o);c++)u=n.colorMap[i[l][c]],n.spectrCc.fillStyle="rgba(".concat(256*u[0],", ").concat(256*u[1],", ").concat(256*u[2],", ").concat(u[3],")"),n.spectrCc.fillRect(Math.round(l*a),Math.round(r-c*(s/o)),Math.round(a),Math.round(s/o));n.wavesurfer.fireEvent("spectrogram-render-end");case 9:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getFrequencies",value:function(){var e=Object(fr["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,c,u,d,h,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.fftSamples,r=this.buffer=this.wavesurfer.backend.buffer,r){e.next=5;break}return this.fireEvent("error","Web Audio buffer is not available"),e.abrupt("return");case 5:a=0,r&&(null!=r.numberOfChannels&&r.numberOfChannels>1&&(a=this.params.targetChannel||0),i=r.getChannelData(a),o=r.sampleRate),this.frequencies=[],s=this.noverlap,s||(l=r.length/this.canvas.width,s=Math.max(0,Math.round(n-l))),c=new vr(n,o,this.windowFunc,this.alpha),u=0;case 12:if(!(u+n<i.length)){e.next=22;break}return d=i.slice(u,u+n),e.next=16,c.async_calculateSpectrum(d);case 16:h=e.sent,p=h.slice(0,Math.round(n/2)).map((function(e){return Math.max(-255,45*Math.log10(e))})),this.frequencies.push(p),u+=n-s,e.next=12;break;case 22:t(this.frequencies,this);case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFrequenciesData",value:function(e){var t=this,n=this.util.fetchFile({url:e});return n.on("success",(function(e){return t.drawSpectrogram(JSON.parse(e),t)})),n.on("error",(function(e){return t.fireEvent("error",e)})),n}},{key:"freqType",value:function(e){return e>=1e3?(e/1e3).toFixed(1):Math.round(e)}},{key:"unitType",value:function(e){return e>=1e3?"KHz":"Hz"}},{key:"loadLabels",value:function(e,t,n,r,a,i,o){e=e||"rgba(68,68,68,0)",t=t||"12px",n=n||"10px",r=r||"Helvetica",a=a||"#fff",i=i||"#fff",o=o||"center";var s=this.params.freqRate||1,l=4;this.buffer&&this.buffer.numberOfChannels&&(l=2/this.buffer.numberOfChannels);var c,u=55,d=512,h=d/(256*s)*5,p=0,f=(this.wavesurfer.backend.ac.sampleRate/2-p)/h,v=this.labelsEl.getContext("2d");for(this.labelsEl.height=this.height,this.labelsEl.width=u,v.fillStyle=e,v.fillRect(0,0,u,d),v.fill(),c=0;c<=h;c++){v.textAlign=o,v.textBaseline="middle";var m=p+f*c,b=this.freqType(m/(2*l)),y=this.unitType(m),w=2,g=16,k=void 0;0==c?(k=d+c-10,v.fillStyle=i,v.font=n+" "+r,v.fillText(y,g+24,k),v.fillStyle=a,v.font=t+" "+r,v.fillText(b,g,k)):(k=d-50*c+w,v.fillStyle=i,v.font=n+" "+r,v.fillText(y,g+24,k),v.fillStyle=a,v.font=t+" "+r,v.fillText(b,g,k))}}},{key:"resample",value:function(e){var t,n=this.wavesurfer.params.minPxPerSec/100,r=this.width/n,a=[],i=1/e.length,o=1/r;for(t=0;t<r;t++){var s=new Array(e[0].length),l=void 0;for(l=0;l<e.length;l++){var c=l*i,u=c+i,d=t*o,h=d+o,p=u<=d||h<=c?0:Math.min(Math.max(u,d),Math.max(h,c))-Math.max(Math.min(u,d),Math.min(h,c)),f=void 0;if(p>0)for(f=0;f<e[0].length;f++)null==s[f]&&(s[f]=0),s[f]+=p/o*e[l][f]}var v=new Uint8Array(e[0].length),m=void 0;for(m=0;m<e[0].length;m++)v[m]=s[m];a.push(v)}return a}},{key:"setCursorTime",value:function(){if(this.cursorEl){var e=this.wavesurfer.getDuration(),t=this.canvas.width,n=this.currentTime*t/e,r=n?"".concat(n,"px"):this.cursorEl.style.left;this.cursorEl.style.left=r}}}],[{key:"create",value:function(t){return{name:"spectrogram",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,staticProps:{FFT:vr},instance:e}}}]),e}(),Object(Sn["a"])(nr,"create",[Hn],Object.getOwnPropertyDescriptor(nr,"create"),nr),Object(Sn["a"])(nr.prototype,"init",[Bn],Object.getOwnPropertyDescriptor(nr.prototype,"init"),nr.prototype),Object(Sn["a"])(nr.prototype,"destroy",[qn],Object.getOwnPropertyDescriptor(nr.prototype,"destroy"),nr.prototype),Object(Sn["a"])(nr.prototype,"createWrapper",[Nn],Object.getOwnPropertyDescriptor(nr.prototype,"createWrapper"),nr.prototype),Object(Sn["a"])(nr.prototype,"_wrapperClickHandler",[Gn],Object.getOwnPropertyDescriptor(nr.prototype,"_wrapperClickHandler"),nr.prototype),Object(Sn["a"])(nr.prototype,"_wrapperScrollHandler",[Un],Object.getOwnPropertyDescriptor(nr.prototype,"_wrapperScrollHandler"),nr.prototype),Object(Sn["a"])(nr.prototype,"createCanvas",[Zn],Object.getOwnPropertyDescriptor(nr.prototype,"createCanvas"),nr.prototype),Object(Sn["a"])(nr.prototype,"render",[Xn],Object.getOwnPropertyDescriptor(nr.prototype,"render"),nr.prototype),Object(Sn["a"])(nr.prototype,"updateCanvasStyle",[Kn],Object.getOwnPropertyDescriptor(nr.prototype,"updateCanvasStyle"),nr.prototype),Object(Sn["a"])(nr.prototype,"drawSpectrogram",[Yn],Object.getOwnPropertyDescriptor(nr.prototype,"drawSpectrogram"),nr.prototype),Object(Sn["a"])(nr.prototype,"getFrequencies",[Jn],Object.getOwnPropertyDescriptor(nr.prototype,"getFrequencies"),nr.prototype),Object(Sn["a"])(nr.prototype,"loadLabels",[Qn],Object.getOwnPropertyDescriptor(nr.prototype,"loadLabels"),nr.prototype),Object(Sn["a"])(nr.prototype,"resample",[er],Object.getOwnPropertyDescriptor(nr.prototype,"resample"),nr.prototype),Object(Sn["a"])(nr.prototype,"setCursorTime",[tr],Object.getOwnPropertyDescriptor(nr.prototype,"setCursorTime"),nr.prototype),nr),yr=function(){function e(t,n){var r=this;Object(Et["a"])(this,e),this.params=t,this.wavesurfer=n,this.active=!1,this.paused=!1,this.browser=this.detectBrowser(),this.reloadBufferFunction=function(e){return r.reloadBuffer(e)};var a=function(e,t,n){var r=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return r?new Promise((function(t,n){r.call(navigator,e,t,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))};void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=a),this.constraints=this.params.constraints||{video:!1,audio:!0},this.bufferSize=this.params.bufferSize||4096,this.numberOfInputChannels=this.params.numberOfInputChannels||1,this.numberOfOutputChannels=this.params.numberOfOutputChannels||1,this._onBackendCreated=function(){r.micContext=r.wavesurfer.backend.getAudioContext()}}return Object(Rt["a"])(e,[{key:"init",value:function(){this.wavesurfer.on("backend-created",this._onBackendCreated),this.wavesurfer.backend&&this._onBackendCreated()}},{key:"destroy",value:function(){this.paused=!0,this.wavesurfer.un("backend-created",this._onBackendCreated),this.stop()}},{key:"start",value:function(){var e=this;navigator.mediaDevices.getUserMedia(this.constraints).then((function(t){return e.gotStream(t)})).catch((function(t){return e.deviceError(t)}))}},{key:"togglePlay",value:function(){this.active?(this.paused=!this.paused,this.paused?this.pause():this.play()):this.start()}},{key:"play",value:function(){this.paused=!1,this.connect()}},{key:"pause",value:function(){this.paused=!0,this.disconnect()}},{key:"stop",value:function(){this.active&&(this.stopDevice(),this.wavesurfer.empty())}},{key:"stopDevice",value:function(){if(this.active=!1,this.disconnect(),this.stream){if(("chrome"===this.browser.browser&&this.browser.version>=45||"firefox"===this.browser.browser&&this.browser.version>=44||"edge"===this.browser.browser||"safari"===this.browser.browser)&&this.stream.getTracks)return void this.stream.getTracks().forEach((function(e){return e.stop()}));this.stream.stop()}}},{key:"connect",value:function(){void 0!==this.stream&&("edge"===this.browser.browser&&(this.localAudioBuffer=this.micContext.createBuffer(this.numberOfInputChannels,this.bufferSize,this.micContext.sampleRate)),this.mediaStreamSource=this.micContext.createMediaStreamSource(this.stream),this.levelChecker=this.micContext.createScriptProcessor(this.bufferSize,this.numberOfInputChannels,this.numberOfOutputChannels),this.mediaStreamSource.connect(this.levelChecker),this.levelChecker.connect(this.micContext.destination),this.levelChecker.onaudioprocess=this.reloadBufferFunction)}},{key:"disconnect",value:function(){void 0!==this.mediaStreamSource&&this.mediaStreamSource.disconnect(),void 0!==this.levelChecker&&(this.levelChecker.disconnect(),this.levelChecker.onaudioprocess=void 0),void 0!==this.localAudioBuffer&&(this.localAudioBuffer=void 0)}},{key:"reloadBuffer",value:function(e){if(!this.paused)if(this.wavesurfer.empty(),"edge"===this.browser.browser){var t,n;for(t=0,n=Math.min(this.localAudioBuffer.numberOfChannels,e.inputBuffer.numberOfChannels);t<n;t++)this.localAudioBuffer.getChannelData(t).set(e.inputBuffer.getChannelData(t));this.wavesurfer.loadDecodedBuffer(this.localAudioBuffer)}else this.wavesurfer.loadDecodedBuffer(e.inputBuffer)}},{key:"gotStream",value:function(e){this.stream=e,this.active=!0,this.play(),this.fireEvent("deviceReady",e)}},{key:"deviceError",value:function(e){this.fireEvent("deviceError",e)}},{key:"extractVersion",value:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}},{key:"detectBrowser",value:function(){var e={browser:null,version:null,minVersion:null};return"undefined"!==typeof window&&window.navigator?navigator.mozGetUserMedia?(e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/(\d+)\./,1),e.minVersion=31,e):navigator.webkitGetUserMedia?(e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/(\d+)\./,2),e.minVersion=38,e):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547,e):window.RTCPeerConnection&&navigator.userAgent.match(/AppleWebKit\/(\d+)\./)?(e.browser="safari",e.minVersion=11,e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/(\d+)\./,1),e):(e.browser="Not a supported browser.",e):(e.browser="Not a supported browser.",e)}}],[{key:"create",value:function(t){return{name:"microphone",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,instance:e}}}]),e}(),wr={name:"wave-surfer",data:function(){return{wavesurfer:null,timeline:null,pointline:null,spectrogram:null,textGrid:null,microphone:null,audioChunks:[],audioUrl:null,isSpectrogramRendering:!1,isMouseEntered:!1}},props:{flat:{type:Boolean,default:!1},tile:{type:Boolean,default:!1},source:{validator:function(e){var t=Object(kt["a"])(e);if("string"==t)return!0;if("object"==t){var n=toString.call(e);if("[object HTMLVideoElement]"==n)return!0;if("[object HTMLAudioElement]"==n)return!0}return!1},default:""},showTextGrid:{type:Boolean,default:!1},showTimeLine:{type:Boolean,default:!1},showPointLine:{type:Boolean,default:!1},showSpectrogram:{type:Boolean,default:!1},showFreqLabel:{type:Boolean,default:!1},rec:{type:Boolean,default:!1},audioRate:{type:Number,default:1},audioContext:{type:Object,default:function(){}},audioScriptProcessor:{type:Object,default:function(){}},autoCenter:{type:Boolean,default:!0},backend:{type:String,default:"WebAudio"},backgroundColor:{type:String,default:""},barGap:{validator:function(e){return"number"===typeof e||null===e},default:null},barHeight:{type:Number,default:1},barMinHeight:{validator:function(e){return"number"===typeof e||null===e},default:null},barRadius:{type:Number,default:0},barWidth:{validator:function(e){return"number"===typeof e||null===e},default:null},closeAudioContext:{type:Boolean,default:!1},cursorColor:{type:String,default:"#333"},cursorWidth:{type:Number,default:1},duration:{validator:function(e){return"number"===typeof e||null===e},default:null},drawingContextAttributes:{type:Object,default:function(){return{desynchronized:!0}}},fillParent:{type:Boolean,default:!0},forceDecode:{type:Boolean,default:!1},height:{type:Number,default:function(){return this.showSpectrogram?64:128}},hideScrollbar:{type:Boolean,default:!1},interact:{type:Boolean,default:!0},loopSelection:{type:Boolean,default:!0},maxCanvasWidth:{type:Number,default:4e3},mediaControls:{type:Boolean,default:!1},mediaType:{type:String,default:"audio"},minPxPerSec:{type:Number,default:50},normalize:{type:Boolean,default:!1},partialRender:{type:Boolean,default:!1},pixelRatio:{type:Number,default:1},progressColor:{type:String,default:"#555"},removeMediaElementOnDestroy:{type:Boolean,default:!0},responsive:{type:Boolean,default:!1},scrollParent:{type:Boolean,default:!1},skipLength:{type:Number,default:2},splitChannels:{type:Boolean,default:!1},targetChannel:{type:Number,default:0},waveColor:{type:String,default:"#999"},xhr:{type:Object,default:function(){return{}}},freqRate:{type:Number,default:1},freqFontSize:{type:Number,default:12},unitFontSize:{type:Number,default:10},spectrogramMaxHeight:{validator:function(e){if(null==e)return!0;if("string"==typeof e){if(~e.indexOf("px"))return!0;if(~e.indexOf("%"))return!0;if(~e.indexOf("vh"))return!0}return!1},default:"100%"},spectrogramHeight:{type:Number,default:256},pointWidth:{type:Number,default:1},points:{validator:function(e){if(Array.isArray(e)){var t,n=Object(_["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!("time"in r))return!1;if(!("value"in r))return!1}}catch(a){n.e(a)}finally{n.f()}return!0}return!1},default:function(){return[]}},textgridMaxHeight:{validator:function(e){if(null==e)return!0;if("string"==typeof e){if(~e.indexOf("px"))return!0;if(~e.indexOf("%"))return!0;if(~e.indexOf("vh"))return!0}return!1},default:"100%"},playingOffset:{type:Number,default:1}},watch:{source:function(e,t){e!=t&&this.load(e)},audioRate:function(e,t){e!=t&&this.updateDrawer("audioRate",e)},autoCenter:function(e,t){e!=t&&this.updateDrawer("autoCenter",e)},backgroundColor:function(e,t){e!=t&&this.updateDrawer("backgroundColor",e)},barGap:function(e,t){e!=t&&this.updateDrawer("barGap",e)},barHeight:function(e,t){e!=t&&this.updateDrawer("barHeight",e)},barMinHeight:function(e,t){e!=t&&this.updateDrawer("barMinHeight",e)},barRadius:function(e,t){e!=t&&(this.destroy(),this.initWaveSurfer())},barWidth:function(e,t){e!=t&&this.updateDrawer("barWidth",e)},closeAudioContext:function(e,t){e!=t&&this.updateDrawer("closeAudioContext",e)},cursorColor:function(e,t){e!=t&&this.updateDrawer("cursorColor",e)},cursorWidth:function(e,t){e!=t&&(this.destroy(),this.initWaveSurfer())},fillParent:function(e,t){e!=t&&this.updateDrawer("fillParent",e)},forceDecode:function(e,t){e!=t&&this.updateDrawer("forceDecode",e)},freqRate:function(e,t){this.showSpectrogram&&e!=t&&(this.spectrogram.params.freqRate=e,this.wavesurfer.fireEvent("redraw"))},height:function(e,t){e!=t&&(this.destroy(),this.initWaveSurfer())},hideScrollbar:function(e,t){e!=t&&this.updateDrawer("hideScrollbar",e)},interact:function(e,t){e!=t&&this.updateDrawer("interact",e)},loopSelection:function(e,t){e!=t&&this.updateDrawer("loopSelection",e)},maxCanvasWidth:function(e,t){e!=t&&this.updateDrawer("maxCanvasWidth",e)},mediaControls:function(e,t){e!=t&&this.updateDrawer("mediaControls",e)},mediaType:function(e,t){e!=t&&this.updateDrawer("mediaType",e)},minPxPerSec:function(e,t){e!=t&&this.updateDrawer("minPxPerSec",e)},normalize:function(e,t){e!=t&&this.updateDrawer("normalize",e)},partialRender:function(e,t){e!=t&&this.updateDrawer("partialRender",e)},playingOffset:function(e,t){e!=t&&this.wavesurfer&&this.wavesurfer&&(this.wavesurfer.textgrid.params.playingOffset=e)},pixelRatio:function(e,t){e!=t&&this.updateDrawer("pixelRatio",e)},progressColor:function(e,t){e!=t&&this.updateDrawer("progressColor",e)},removeMediaElementOnDestroy:function(e,t){e!=t&&this.updateDrawer("removeMediaElementOnDestroy",e)},responsive:function(e,t){e!=t&&this.updateDrawer("responsive",e)},scrollParent:function(e,t){e!=t&&this.updateDrawer("scrollParent",e)},skipLength:function(e,t){e!=t&&this.updateDrawer("skipLength",e)},splitChannels:function(e,t){e!=t&&this.updateDrawer("splitChannels",e)},targetChannel:function(e,t){this.showSpectrogram&&e!=t&&(this.spectrogram.params.targetChannel=e,this.wavesurfer.fireEvent("redraw"))},waveColor:function(e,t){e!=t&&this.updateDrawer("waveColor",e)},showSpectrogram:function(e,t){var n=this;e!=t&&(e?this.$nextTick((function(){setTimeout(n.initSpectrogramPlugin,0)})):this.wavesurfer.destroyPlugin(this.spectrogram.name))}},methods:{initWaveSurferEvent:function(){this.wavesurfer&&(this.wavesurfer.on("audioprocess",this.onAudioprocess),this.wavesurfer.on("dblclick",this.onDblClick),this.wavesurfer.on("error",this.onError),this.wavesurfer.on("finish",this.onFinish),this.wavesurfer.on("interaction",this.onInteraction),this.wavesurfer.on("loading",this.onLoading),this.wavesurfer.on("mute",this.onMute),this.wavesurfer.on("pause",this.onPause),this.wavesurfer.on("play",this.onPlay),this.wavesurfer.on("ready",this.onReady),this.wavesurfer.on("scroll",this.onScroll),this.wavesurfer.on("seek",this.onSeek),this.wavesurfer.on("volume",this.onVolume),this.wavesurfer.on("waveform-ready",this.onWaveformReady),this.wavesurfer.on("zoom",this.onZoom))},initRecOptions:function(e){if(this.rec){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(t){var n=window.AudioContext||window.webkitAudioContext;e.audioContext=new n,e.audioScriptProcessor=this.audioContext.createScriptProcessor(1024,1,1)}e.cursorWidth=0,e.interact=!1}return e},initTileLinePlugin:function(){this.showTimeLine&&(this.timeline=Pn.create({container:this.$refs.timeline}),this.wavesurfer.addPlugin(this.timeline).initPlugin("timeline"))},initSpectrogramPlugin:function(){this.showSpectrogram&&(this.spectrogram=br.create({labels:this.showFreqLabel,canvasHeight:this.spectrogramHeight,freqRate:this.freqRate,freqFontSize:this.freqFontSize,unitFontSize:this.unitFontSize,targetChannel:this.targetChannel,container:this.$refs.spectrogram}),this.wavesurfer.addPlugin(this.spectrogram).initPlugin("spectrogram"),this.wavesurfer.on("spectrogram-render-start",this.onSpectrogramRenderStart),this.wavesurfer.on("spectrogram-render-end",this.onSpectrogramRenderEnd))},initTextGridPlugin:function(){var e=this;this.showTextGrid&&(this.textgrid=pr.create({container:this.$refs.textgrid,playingOffset:this.playingOffset}),this.wavesurfer.addPlugin(this.textgrid).initPlugin("textgrid"),this.wavesurfer.on("textgrid-dblclick",this.onTextGridDblClick),this.wavesurfer.on("textgrid-click",this.onTextGridClick),this.wavesurfer.on("textgrid-update",this.onTextGridUpdate),this.wavesurfer.on("tier-update",this.onTierUpdate),this.wavesurfer.on("tier-add",this.onTierAdd),this.wavesurfer.on("tier-delete",this.onTierDelete),this.wavesurfer.on("textgrid-current-update",this.onTextGridCurrentUpdate),this.wavesurfer.on("textgrid-keydown",(function(t){e.$emit("textgrid-keydown",t)})),this.wavesurfer.on("textgrid-keyup",(function(t){e.$emit("textgrid-keyup",t)})))},initPointLinePlugin:function(){var e=this;this.showPointLine&&(this.pointline=ar.create({container:this.$refs.pointline,points:this.points,pointWidth:this.pointWidth}),this.wavesurfer.addPlugin(this.pointline).initPlugin("pointline"),this.wavesurfer.pointline.on("addPoint",(function(t){e.$emit("addPoint",t)})),this.wavesurfer.pointline.on("updatePoint",(function(t){e.$emit("updatePoint",t)})),this.wavesurfer.pointline.on("deletePoint",(function(t){e.$emit("deletePoint",t)})))},initRecPlugin:function(){var e=this;this.rec?(this.microphone=yr.create({bufferSize:4096,numberOfInputChannels:1,numberOfOutputChannels:1,constraints:{video:!1,audio:!0}}),this.wavesurfer.addPlugin(this.microphone).initPlugin("microphone"),this.wavesurfer.microphone.on("deviceReady",(function(t){var n=new MediaRecorder(t);n.start(),n.addEventListener("dataavailable",(function(t){e.audioChunks.push(t.data)})),n.addEventListener("stop",(function(){var t=new Blob(e.audioChunks);e.audioUrl=URL.createObjectURL(t),e.downloadWave()}))})),this.wavesurfer.microphone.on("deviceError",(function(t){e.$emit("deviceError",t)}))):this.source&&this.load(this.source)},initWaveSurfer:function(){var e=this;null===this.wavesurfer&&this.$nextTick((function(){var t={container:e.$refs.waveform,audioRate:e.audioRate,audioContext:e.audioContext,audioScriptProcessor:e.audioScriptProcessor,autoCenter:e.autoCenter,backend:e.backend,backgroundColor:e.backgroundColor,barGap:e.barGap,barHeight:e.barHeight,barMinHeight:e.barMinHeight,barRadius:e.barRadius,barWidth:e.barWidth,closeAudioContext:e.closeAudioContext,cursorColor:e.cursorColor,cursorWidth:e.cursorWidth,duration:e.duration,drawingContextAttributes:e.drawingContextAttributes,fillParent:e.fillParent,forceDecode:e.forceDecode,height:e.height,hideScrollbar:e.hideScrollbar,interact:e.interact,loopSelection:e.loopSelection,maxCanvasWidth:e.maxCanvasWidth,mediaControls:e.mediaControls,mediaType:e.mediaType,minPxPerSec:e.minPxPerSec,normalize:e.normalize,partialRender:e.partialRender,pixelRatio:e.pixelRatio,progressColor:e.progressColor,removeMediaElementOnDestroy:e.removeMediaElementOnDestroy,responsive:e.responsive,scrollParent:e.scrollParent,skipLength:e.skipLength,splitChannels:e.splitChannels,waveColor:e.waveColor,xhr:e.xhr};t=e.initRecOptions(t),e.$refs.waveform&&(e.wavesurfer=nn.create(t),e.initWaveSurferEvent(),e.initTileLinePlugin(),e.initSpectrogramPlugin(),e.initTextGridPlugin(),e.initPointLinePlugin(),e.initRecPlugin())}))},updateDrawer:function(e,t){this.wavesurfer&&(this.wavesurfer.params[e]=t,this.wavesurfer.drawer.fireEvent("redraw"))},runWaveSurfer:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.wavesurfer?n?(t=this.wavesurfer)[e].apply(t,Object(gt["a"])(n)):this.wavesurfer[e]():null},addPoint:function(e){this.wavesurfer.pointline.addPoint(e)},deletePoint:function(e){this.wavesurfer.pointline.deletePoint(e)},updatePoint:function(e,t){this.wavesurfer.pointline.updatePoint(e,t)},addTier:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.wavesurfer.textgrid.addTier(e,t,n)},updateTier:function(e,t){this.wavesurfer.textgrid.updateTier(e,t)},deleteTier:function(e){this.wavesurfer.textgrid.deleteTier(e)},copyTier:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.wavesurfer.textgrid.copyTier(e,t,n,r,a)},addTierValue:function(e,t){this.wavesurfer.textgrid.addTierValue(e,t)},setTierValue:function(e,t,n){this.wavesurfer.textgrid.setTierValue(e,t,n)},deleteTierValue:function(e,t){this.wavesurfer.textgrid.deleteTierValue(e,t)},splitTierValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.wavesurfer.textgrid.splitTierValue(e,t,n)},playTextGrid:function(e,t){this.wavesurfer.textgrid.play(e,t)},loadTextGrid:function(e){this.wavesurfer.textgrid.loadTextGrid(e)},loadJson:function(e){this.wavesurfer.textgrid.loadJson(e)},setTextGrid:function(e){this.wavesurfer.textgrid.loadObj(e)},getFrequencies:function(){return this.wavesurfer.spectrogram.frequencies},downloadTextGrid:function(e){this.wavesurfer.textgrid.downloadTextGrid(e)},onAudioprocess:function(e){this.$emit("audioprocess",e)},onDblclick:function(e){this.$emit("dblclick",e)},onDestroy:function(e){this.$emit("destroy",e)},onError:function(e){this.$emit("error",e)},onFinish:function(e){this.$emit("finish",e)},onInteraction:function(e){this.$emit("interaction",e)},onLoading:function(e){this.$emit("loading",e)},onMute:function(e){this.$emit("mute",e)},onPause:function(e){this.$emit("pause",e)},onPlay:function(e){this.$emit("play",e)},onReady:function(e){this.$emit("ready",e)},onScroll:function(e){this.$emit("scroll",e)},onSeek:function(e){this.$emit("seek",e)},onTextGridClick:function(e){this.$emit("textgrid-click",e)},onTextGridDblClick:function(e){this.$emit("textgrid-dblclick",e)},onTierAdd:function(e){this.$emit("tier-add",e)},onTierDelete:function(e){this.$emit("tier-delete",e)},onTierUpdate:function(e){this.$emit("tier-update",e)},onTextGridUpdate:function(e){this.$emit("textgrid-update",e)},onTextGridCurrentUpdate:function(e){this.$emit("textgrid-current-update",e)},onSpectrogramRenderStart:function(e){this.isSpectrogramRendering=!0,this.$emit("spectrogram-render-start",e)},onSpectrogramRenderEnd:function(e){this.isSpectrogramRendering=!1,this.$emit("spectrogram-render-end",e)},onVolume:function(e){this.$emit("volume",e)},onZoom:function(e){this.$emit("zoom",e)},onWaveformReady:function(e){this.$emit("waveform-ready",e)},cancelAjax:function(){return this.runWaveSurfer("cancelAjax")},destroy:function(){var e=this.runWaveSurfer("destroy");return this.wavesurfer=null,this.onDestroy(),e},empty:function(){return this.runWaveSurfer("empty")},getActivePlugins:function(){return this.runWaveSurfer("getActivePlugins")},getBackgroundColor:function(){return this.runWaveSurfer("getBackgroundColor")},getCurrentTime:function(){return this.runWaveSurfer("getCurrentTime")},getCursorColor:function(){return this.runWaveSurfer("getCursorColor")},getDuration:function(){return this.runWaveSurfer("getDuration")},getPlaybackRate:function(){return this.runWaveSurfer("getPlaybackRate")},getProgressColor:function(){return this.runWaveSurfer("getProgressColor")},getVolume:function(){return this.runWaveSurfer("getVolume")},getMute:function(){return this.runWaveSurfer("getMute")},getFilters:function(){return this.runWaveSurfer("getFilters")},getWaveColor:function(){return this.runWaveSurfer("getWaveColor")},exportPCM:function(e,t,n,r){var a=[e,t,n,r];return this.runWaveSurfer("exportPCM",a)},isPlaying:function(){return this.runWaveSurfer("isPlaying")},load:function(e,t,n){var r=[e,t,n],a=this;setTimeout((function(){a.runWaveSurfer("load",r)}),1)},loadBlob:function(e){var t=[e];return this.runWaveSurfer("loadBlob",t)},on:function(e,t){var n=[e,t];return this.runWaveSurfer("on",n)},un:function(e,t){var n=[e,t];return this.runWaveSurfer("un",n)},unAll:function(){return this.runWaveSurfer("unAll")},pause:function(){return this.runWaveSurfer("pause")},play:function(e,t){var n=[e,t];return this.runWaveSurfer("play",n)},playPause:function(e,t){var n=[e,t];return this.runWaveSurfer("playPause",n)},seekAndCenter:function(e){return this.runWaveSurfer("seekAndCenter",[e])},seekTo:function(e){return this.runWaveSurfer("seekTo",[e])},setBackgroundColor:function(e){return this.runWaveSurfer("setBackgroundColor",[e])},setCursorColor:function(e){return this.runWaveSurfer("setCursorColor",[e])},setHeight:function(e){return this.runWaveSurfer("setHeight",[e])},setFilter:function(e){return this.runWaveSurfer("setFilter",[e])},setPlaybackRate:function(e){return this.runWaveSurfer("setPlaybackRate",[e])},setPlayEnd:function(e){return this.runWaveSurfer("setPlayEnd",[e])},setVolume:function(e){return this.runWaveSurfer("setVolume",[e])},setMute:function(e){return this.runWaveSurfer("mute",[e])},setProgressColor:function(e){return this.runWaveSurfer("setProgressColor",[e])},setWaveColor:function(e){return this.runWaveSurfer("setWaveColor",[e])},skip:function(e){return this.runWaveSurfer("skip",[e])},skipBackward:function(){return this.runWaveSurfer("skipBackward")},skipForward:function(){return this.runWaveSurfer("skipForward")},setSinkId:function(e){return this.runWaveSurfer("setSinkId",[e])},stop:function(){return this.runWaveSurfer("stop")},toggleMute:function(){return this.runWaveSurfer("toggleMute")},toggleInteraction:function(){return this.runWaveSurfer("toggleInteraction")},toggleScroll:function(){return this.runWaveSurfer("toggleScroll")},zoom:function(e){return this.runWaveSurfer("zoom",[e])},recStart:function(){this.rec&&this.wavesurfer&&this.wavesurfer.microphone.start()},recStop:function(){this.rec&&this.wavesurfer&&this.wavesurfer.microphone.active&&this.wavesurfer.microphone.stop()},downloadWave:function(){var e=document.createElement("a");e.href=this.audioUrl,e.download="rec.wav",e.click()}},mounted:function(){this.initWaveSurfer()},beforeDestroy:function(){this.destroy()}},gr=wr,kr=(n("65d1"),Object(d["a"])(gr,yt,wt,!1,null,"79a03d8c",null)),xr=kr.exports,Cr="audio-element",Pr="$vuetify.example.audioElement",Sr={name:Cr,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:Pr,title:"wavesurfer.vue>example>".concat(Cr),card_title:"".concat(Cr," demo"),desc:"How to load the audio.",snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        :source="source"\n        responsive\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n      />\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        }\n      }\n    };\n    ',source:null,isReady:!1}},methods:{onFileChange:function(e){var t=this;if(this.source=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},Tr=Sr,Er=n("23a7"),Rr=n("2db4"),_r=Object(d["a"])(Tr,Fe,Ve,!1,null,"6ee2395d",null),Dr=_r.exports;p()(_r,{VFileInput:Er["a"],VSnackbar:Rr["a"]});var Or=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"video/*",label:"video file"},on:{change:e.onFileChange}})]},proxy:!0}])},[e.source?n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("video",{ref:"video",attrs:{src:e.source},on:{loadeddata:e.onLoadedData}})])],1)],1):e._e(),e.videoSource?n("wave-surfer",{ref:"wavesurfer",attrs:{backend:"MediaElement",source:e.videoSource,responsive:!0},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady}}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},Wr=[],Mr="video-element",Lr="$vuetify.example.videoElement",jr={name:Mr,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:Lr,title:"wavesurfer.vue>example>".concat(Mr),card_title:"".concat(Mr," demo"),desc:"How to load the video.",snackbar:{show:!1,text:""},source:null,videoSource:null,template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="video/*"\n          label="video file"\n          @change="onFileChange"\n        />\n      </v-card-text>\n      <video\n        ref="video"\n        :src="source"\n        @loadeddata="onLoadedData"\n        v-if="source"\n      />\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="videoSource"\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n        backend="MediaElement"\n        :source="videoSource"\n        :responsive="true"\n      />\n      <v-card-actions v-if="videoSource">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        videoSource: null,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          this.videoSource = null;\n          if (file) {\n            const fr = new FileReader();\n            fr.readAsDataURL(file);\n            fr.addEventListener("load", () => {\n              this.source = fr.result;\n            });\n          }\n        },\n        onLoadedData: function() {\n          this.videoSource = this.$refs.video;\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        }\n      }\n    };\n    ',isReady:!1}},methods:{onFileChange:function(e){var t=this;if(this.source=null,this.videoSource=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onLoadedData:function(){this.videoSource=this.$refs.video},onReady:function(){this.isReady=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},Fr=jr,Vr=(n("fa0a"),Object(d["a"])(Fr,Or,Wr,!1,null,"753021ee",null)),$r=Vr.exports;p()(Vr,{VCardText:st["b"],VCol:ue["a"],VFileInput:Er["a"],VRow:he["a"],VSnackbar:Rr["a"]});var Ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}}),n("v-row",[n("v-col",{attrs:{col:"4"}},[n("label",[e._v("wave color: "+e._s(e.waveColor))]),n("v-color-picker",{model:{value:e.waveColor,callback:function(t){e.waveColor=t},expression:"waveColor"}})],1),n("v-col",{attrs:{col:"4"}},[n("label",[e._v("progress color: "+e._s(e.progressColor))]),n("v-color-picker",{model:{value:e.progressColor,callback:function(t){e.progressColor=t},expression:"progressColor"}})],1),n("v-col",{attrs:{col:"4"}},[n("label",[e._v("cursor color: "+e._s(e.cursorColor))]),n("v-color-picker",{model:{value:e.cursorColor,callback:function(t){e.cursorColor=t},expression:"cursorColor"}})],1)],1),n("v-row",[n("v-slider",{attrs:{label:"bar width",min:"1",max:"5",step:"1",ticks:"always","tick-size":"4"},model:{value:e.barWidth,callback:function(t){e.barWidth=t},expression:"barWidth"}})],1),n("v-row",[n("v-slider",{attrs:{label:"bar Radius",min:"0",max:"5",step:"1",ticks:"always","tick-size":"4"},model:{value:e.barRadius,callback:function(t){e.barRadius=t},expression:"barRadius"}})],1),n("v-row",[n("v-slider",{attrs:{label:"bar Gap",min:"1",max:"5",step:"1",ticks:"always","tick-size":"4"},model:{value:e.barGap,callback:function(t){e.barGap=t},expression:"barGap"}})],1),n("v-row",[n("v-slider",{attrs:{label:"cursor width",min:"1",max:"5",step:"1",ticks:"always","tick-size":"4"},model:{value:e.cursorWidth,callback:function(t){e.cursorWidth=t},expression:"cursorWidth"}})],1),n("v-row",[n("v-slider",{attrs:{label:"height",min:"100",max:"500",step:"100",ticks:"always","tick-size":"4"},model:{value:e.height,callback:function(t){e.height=t},expression:"height"}})],1)]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{source:e.source,waveColor:e.waveColor,progressColor:e.progressColor,barWidth:e.barWidth,barRadius:e.barRadius,barGap:e.barGap,cursorColor:e.cursorColor,cursorWidth:e.cursorWidth,height:e.height,responsive:""},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady}}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},Ir=[],zr="bars",Hr="$vuetify.example.bars",Br={name:zr,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:Hr,title:"wavesurfer.vue>example>".concat(zr),card_title:"".concat(zr," demo"),desc:"How to change the wave form shape.",waveColor:"#D9DCFF",progressColor:"#4353FF",cursorColor:"#4353FF",barWidth:3,barRadius:3,cursorWidth:1,height:200,barGap:3,snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n        <v-row>\n          <v-col col="4">\n            <label>wave color: {{ waveColor }}</label>\n            <v-color-picker v-model="waveColor"></v-color-picker>\n          </v-col>\n          <v-col col="4">\n            <label>progress color: {{ progressColor }}</label>\n            <v-color-picker v-model="progressColor"></v-color-picker>\n          </v-col>\n          <v-col col="4">\n            <label>cursor color: {{ cursorColor }}</label>\n            <v-color-picker v-model="cursorColor"></v-color-picker>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-slider\n            v-model="barWidth"\n            label="bar width"\n            min="1"\n            max="5"\n            step="1"\n            ticks="always"\n            tick-size="4"\n          />\n        </v-row>\n        <v-row>\n          <v-slider\n            v-model="barRadius"\n            label="bar Radius"\n            min="0"\n            max="5"\n            step="1"\n            ticks="always"\n            tick-size="4"\n          />\n        </v-row>\n        <v-row>\n          <v-slider\n            v-model="barGap"\n            label="bar Gap"\n            min="1"\n            max="5"\n            step="1"\n            ticks="always"\n            tick-size="4"\n          />\n        </v-row>\n        <v-row>\n          <v-slider\n            v-model="cursorWidth"\n            label="cursor width"\n            min="1"\n            max="5"\n            step="1"\n            ticks="always"\n            tick-size="4"\n          />\n        </v-row>\n        <v-row>\n          <v-slider\n            v-model="height"\n            label="height"\n            min="100"\n            max="500"\n            step="100"\n            ticks="always"\n            tick-size="4"\n          />\n        </v-row>\n\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n        :source="source"\n        :waveColor="waveColor"\n        :progressColor="progressColor"\n        :barWidth="barWidth"\n        :barRadius="barRadius"\n        :barGap="barGap"\n        :cursorColor="cursorColor"\n        :cursorWidth="cursorWidth"\n        :height="height"\n        responsive\n      />\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        waveColor: "#D9DCFF",\n        progressColor: "#4353FF",\n        cursorColor: "#4353FF",\n        barWidth: 3,\n        barRadius: 3,\n        cursorWidth: 1,\n        height: 200,\n        barGap: 3,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) this.$refs.wavesurfer.pause();\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) this.$refs.wavesurfer.playPause();\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) this.$refs.wavesurfer.skipBackward();\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) this.$refs.wavesurfer.skipForward();\n        }\n      }\n    };\n    ',source:null,isReady:!1}},methods:{onFileChange:function(e){var t=this;if(this.source=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},qr=Br,Nr=n("03a4"),Gr=n("ba0d"),Ur=Object(d["a"])(qr,Ar,Ir,!1,null,"19017304",null),Zr=Ur.exports;p()(Ur,{VCol:ue["a"],VColorPicker:Nr["a"],VFileInput:Er["a"],VRow:he["a"],VSlider:Gr["a"],VSnackbar:Rr["a"]});var Xr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}})]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{source:e.source,responsive:"",splitChannels:""},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady}}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},Kr=[],Yr="split-channel",Jr="$vuetify.example.splitChannels",Qr={name:Yr,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:Jr,title:"wavesurfer.vue>example>".concat(Yr),card_title:"".concat(Yr," demo"),desc:"How to load the stereo audio.",snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        :source="source"\n        responsive\n        splitChannels\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n      />\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        }\n      }\n    };\n    ',source:null,isReady:!1}},methods:{onFileChange:function(e){var t=this;if(this.source=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},ea=Qr,ta=Object(d["a"])(ea,Xr,Kr,!1,null,"2dde8e8c",null),na=ta.exports;p()(ta,{VFileInput:Er["a"],VSnackbar:Rr["a"]});var ra=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}})]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{source:e.source,responsive:!0,showTimeLine:""},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady}}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},aa=[],ia="timeline",oa="$vuetify.example.timeline",sa={name:ia,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:oa,title:"wavesurfer.vue>example>".concat(ia),card_title:"".concat(ia," demo"),desc:"How to show the audio time line.",snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        :source="source"\n        :responsive="true"\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n        showTimeLine\n      />\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        }\n      }\n    };\n    ',source:null,isReady:!1}},methods:{onFileChange:function(e){var t=this;if(this.source=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},la=sa,ca=Object(d["a"])(la,ra,aa,!1,null,"ecb3615a",null),ua=ca.exports;p()(ca,{VFileInput:Er["a"],VSnackbar:Rr["a"]});var da=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.cardTitle},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}}),e.source?n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",step:"100",min:0,max:500,label:"Zoom"},on:{end:e.onZoomEnd},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" × "+e._s((n/100).toFixed(0))+" ")]}}],null,!1,193971533),model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}}):e._e()]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{showPointLine:"",showTimeLine:"",pointWidth:3,points:e.points,source:e.source,responsive:!0},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady,addPoint:e.onAddPoint,updatePoint:e.onUpdatePoint,deletePoint:e.onDeletePoint}}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),e.source?n("v-data-table",{attrs:{headers:e.headers,items:e.points,"sort-by":"time"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("POINTS")]),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",a,!1),r),[e._v(" New Points ")])]}}],null,!1,2200747665),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-text",[n("v-container",[e.source?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",min:1,max:20,"thumb-size":24,label:"Point Size"},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" "+e._s(n)+" px ")]}}],null,!1,2708000671),model:{value:e.point.size,callback:function(t){e.$set(e.point,"size",t)},expression:"point.size"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"time",required:""},model:{value:e.point.time,callback:function(t){e.$set(e.point,"time",t)},expression:"point.time"}})],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-text-field",{attrs:{label:"value",required:""},model:{value:e.point.value,callback:function(t){e.$set(e.point,"value",t)},expression:"point.value"}})],1),n("v-col",{attrs:{cols:"12"}},[n("label",[e._v("point color")]),n("v-color-picker",{model:{value:e.point.color,callback:function(t){e.$set(e.point,"color",t)},expression:"point.color"}})],1)],1):e._e()],1)],1),n("v-card-actions",[n("v-btn",{attrs:{rounded:"",block:"",color:"primary",dark:""},on:{click:e.updatePoint}},[e._v(" Save ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editPoint(r)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deletePoint(r)}}},[e._v(" mdi-delete ")])]}}],null,!1,2804536356)}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},ha=[],pa="pointline",fa="$vuetify.example.pointline",va={name:pa,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:fa,title:"wavesurfer.vue>example>".concat(pa),cardTitle:"".concat(pa," demo"),desc:"How to show the audio point line.",zoom:0,point:{size:3,color:"#4353FF",time:0,value:0},points:[{size:3,color:"#4353FF",time:0,value:0},{size:3,color:"#4353FF",time:.1,value:10},{size:3,color:"#4353FF",time:.2,value:5}],headers:[{text:"id",value:"id"},{text:"time",value:"time"},{text:"value",value:"value"},{text:"color",value:"color"},{text:"size",value:"size"},{text:"Actions",value:"actions",sortable:!1}],snackbar:{show:!1,text:""},dialog:!1,template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n        <v-slider\n          v-if="source"\n          v-model="zoom"\n          @end="onZoomEnd"\n          append-icon="mdi-magnify-plus-cursor"\n          prepend-icon="mdi-magnify-minus-cursor"\n          step="100"\n          :min="0"\n          :max="500"\n          label="Zoom"\n        >\n          <template v-slot:thumb-label="{ value }">\n            &times; {{ (value / 100).toFixed(0) }}\n          </template>\n        </v-slider>\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        @addPoint="onAddPoint"\n        @updatePoint="onUpdatePoint"\n        @deletePoint="onDeletePoint"\n        showPointLine\n        showTimeLine\n        responsive\n        :points="points"\n        :source="source"\n      />\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-data-table\n        v-if="source"\n        :headers="headers"\n        :items="points"\n        sort-by="time"\n      >\n        <template v-slot:top>\n          <v-toolbar flat color="white">\n            <v-toolbar-title>POINTS</v-toolbar-title>\n            <v-spacer></v-spacer>\n            <v-dialog v-model="dialog" max-width="500px">\n              <template v-slot:activator="{ on, attrs }">\n                <v-btn\n                  color="primary"\n                  dark\n                  class="mb-2"\n                  v-bind="attrs"\n                  v-on="on"\n                >\n                  New Points\n                </v-btn>\n              </template>\n              <v-card>\n                <v-card-text>\n                  <v-container>\n                    <v-row v-if="source">\n                      <v-col cols="12">\n                        <v-slider\n                          v-model="point.size"\n                          append-icon="mdi-magnify-plus-cursor"\n                          prepend-icon="mdi-magnify-minus-cursor"\n                          :min="1"\n                          :max="20"\n                          :thumb-size="24"\n                          label="Point Size"\n                        >\n                          <template v-slot:thumb-label="{ value }">\n                            {{ value }} px\n                          </template>\n                        </v-slider>\n                      </v-col>\n                      <v-col cols="12" md="6">\n                        <v-text-field\n                          v-model="point.time"\n                          label="time"\n                          required\n                        />\n                      </v-col>\n                      <v-col cols="12" md="6">\n                        <v-text-field\n                          v-model="point.value"\n                          label="value"\n                          required\n                        />\n                      </v-col>\n                      <v-col cols="12">\n                        <label>point color</label>\n                        <v-color-picker v-model="point.color" />\n                      </v-col>\n                    </v-row>\n                  </v-container>\n                </v-card-text>\n                <v-card-actions>\n                  <v-btn\n                    @click="updatePoint"\n                    color="primary"\n                    rounded\n                    block\n                    dark\n                  >\n                    Save\n                  </v-btn>\n                </v-card-actions>\n              </v-card>\n            </v-dialog>\n          </v-toolbar>\n          </template>\n          <template v-slot:item.actions="{ item }">\n            <v-icon small class="mr-2" @click="editPoint(item)">\n              mdi-pencil\n            </v-icon>\n            <v-icon small @click="deletePoint(item)">\n              mdi-delete\n            </v-icon>\n          </template>\n      </v-data-table>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        zoom: 0,\n        point: {\n          size: 3,\n          color: "#4353FF",\n          time: 0,\n          value: 0\n        },\n        points: [],\n        headers: [\n          { text: "id", value: "id" },\n          { text: "time", value: "time" },\n          { text: "value", value: "value" },\n          { text: "color", value: "color" },\n          { text: "size", value: "size" },\n          { text: "Actions", value: "actions", sortable: false }\n        ],\n        snackbar: {\n          show: false,\n          text: ""\n        },\n        dialog: false,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onZoomEnd: function(val) {\n          this.$refs.wavesurfer.zoom(Number(val));\n        },\n        onAddPoint: function(point) {\n          this.points.push(point);\n          this.isReady = true;\n          this.snackbar.text = "on added point.";\n          this.snackbar.show = true;\n        },\n        onUpdatePoint: function(point) {\n          const idx = this.points.findIndex(x => x.id == point.id);\n          this.points[idx] = point;\n          this.isReady = true;\n          this.snackbar.text = "on updated point.";\n          this.snackbar.show = true;\n        },\n        onDeletePoint: function(point) {\n          const idx = this.points.findIndex(x => x.id == point.id);\n          if (idx > -1) {\n            this.points.splice(idx, 1);\n          }\n          this.isReady = true;\n          this.snackbar.text = "on deleted point.";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        },\n        editPoint(item) {\n          this.point = Object.assign({}, item);\n          this.dialog = true;\n        },\n        deletePoint(item) {\n          this.$refs.wavesurfer.deletePoint(item.id);\n        },\n        updatePoint() {\n          if (this.point.id) {\n            this.$refs.wavesurfer.updatePoint(this.point.id, this.point);\n          } else {\n            this.$refs.wavesurfer.addPoint(this.point);\n          }\n          this.close();\n        },\n        close() {\n          this.dialog = false;\n          this.$nextTick(() => {\n            this.point = Object.assign(\n              {},\n              {\n                size: 3,\n                color: "#4353FF",\n                time: 0,\n                value: 0\n              }\n            );\n          });\n        },\n      }\n    };\n    ',source:null,isReady:!1}},methods:{editPoint:function(e){this.point=Object.assign({},e),this.dialog=!0},deletePoint:function(e){this.$refs.wavesurfer.deletePoint(e.id)},updatePoint:function(){this.point.id?this.$refs.wavesurfer.updatePoint(this.point.id,this.point):this.addPoint(),this.close()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.point=Object.assign({},{size:3,color:"#4353FF",time:0,value:0})}))},onFileChange:function(e){var t=this;if(this.source=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onZoomEnd:function(e){this.$refs.wavesurfer.zoom(Number(e))},addPoint:function(){this.$refs.wavesurfer.addPoint(this.point)},onAddPoint:function(e){this.points.push(e),this.isReady=!0,this.snackbar.text="on added point. id = ".concat(e.id),this.snackbar.show=!0},onUpdatePoint:function(e){var t=this.points.findIndex((function(t){return t.id==e.id}));this.points[t]=e,this.isReady=!0,this.snackbar.text="on updated point. id = ".concat(e.id),this.snackbar.show=!0},onDeletePoint:function(e){var t=this.points.findIndex((function(t){return t.id==e.id}));t>-1&&this.points.splice(t,1),this.isReady=!0,this.snackbar.text="on deleted point. id = ".concat(e.id),this.snackbar.show=!0},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},ma=va,ba=n("169a"),ya=Object(d["a"])(ma,da,ha,!1,null,"1df89f51",null),wa=ya.exports;p()(ya,{VBtn:m["a"],VCard:ot["a"],VCardActions:st["a"],VCardText:st["b"],VCol:ue["a"],VColorPicker:Nr["a"],VContainer:de["a"],VDataTable:ye["a"],VDialog:ba["a"],VFileInput:Er["a"],VIcon:b["a"],VRow:he["a"],VSlider:Gr["a"],VSnackbar:Rr["a"],VSpacer:x["a"],VTextField:C["a"],VToolbar:ct["a"],VToolbarTitle:P["b"]});var ga=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"toolbar",fn:function(){return[n("v-switch",{staticClass:"mt-4",attrs:{label:"show Spectrogram"},model:{value:e.showSpectrogram,callback:function(t){e.showSpectrogram=t},expression:"showSpectrogram"}}),n("v-switch",{staticClass:"ml-2 mt-4",attrs:{label:"scroll"},model:{value:e.isScroll,callback:function(t){e.isScroll=t},expression:"isScroll"}})]},proxy:!0},{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}}),n("v-row",[n("v-col",[n("v-select",{attrs:{items:[0,1],label:"target channel"},model:{value:e.targetChannel,callback:function(t){e.targetChannel=t},expression:"targetChannel"}})],1)],1),n("v-row",[n("v-col",[n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",min:1,max:5,label:"Zoom"},on:{end:e.onZoomEnd},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" "+e._s("x "+n)+" ")]}}]),model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}})],1),n("v-col",[n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",min:50,max:256,label:"MaxHeight"},model:{value:e.spectrogramMaxHeight,callback:function(t){e.spectrogramMaxHeight=t},expression:"spectrogramMaxHeight"}})],1)],1),n("v-row",[n("v-col",[n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",step:"0.25",min:.25,max:1,hint:"モノラル音源の場合: "+12*e.freqRateVal+" kHz,\n              ステレオ音源の場合: "+24*e.freqRateVal+" kHz までを表示します",label:"MaxFreq"},on:{end:e.onFreqRateEnd},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" "+e._s(n)+" ")]}}]),model:{value:e.freqRateVal,callback:function(t){e.freqRateVal=t},expression:"freqRateVal"}})],1)],1)]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{source:e.source,minPxPerSec:e.minPxPerSec,scrollParent:e.scrollParent,freqRate:e.freqRate,targetChannel:e.targetChannel,showSpectrogram:e.showSpectrogram,showFreqLabel:"",splitChannels:"",normalize:"",responsive:"",spectrogramMaxHeight:e.spectrogramMaxHeight+"px"},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady,"spectrogram-render-start":e.onSpectrogramRenderStart,"spectrogram-render-end":e.onSpectrogramRenderEnd}},[e.isLoading?n("v-progress-linear",{attrs:{color:"light-blue",height:"10",indeterminate:""}}):e._e()],1):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},ka=[],xa="spectrogram",Ca="$vuetify.example.spectrogram",Pa={name:xa,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:Ca,title:"wavesurfer.vue>example>".concat(xa),card_title:"".concat(xa," demo"),desc:"How to show the spectrogram of audio file.",isScroll:!0,isLoading:!1,showSpectrogram:!0,spectrogramMaxHeight:"100",zoom:1,freqRate:1,freqRateVal:1,targetChannel:0,snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n        <v-row>\n          <v-col>\n            <v-switch class="mt-4" v-model="isScroll" label="scroll" />\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-select\n              v-model="targetChannel"\n              :items="[0, 1]"\n              label="target channel"\n            ></v-select>\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-slider\n              v-model="zoom"\n              @end="onZoomEnd"\n              append-icon="mdi-magnify-plus-cursor"\n              prepend-icon="mdi-magnify-minus-cursor"\n              step="1"\n              :min="1"\n              :max="5"\n              label="Zoom"\n            />\n          </v-col>\n        </v-row>\n        <v-row>\n          <v-col>\n            <v-slider\n              v-model="freqRate"\n              @end="onFreqRateEnd"\n              append-icon="mdi-magnify-plus-cursor"\n              prepend-icon="mdi-magnify-minus-cursor"\n              step="0.25"\n              :min="0.25"\n              :max="1"\n              label="MaxFreq"\n            />\n          </v-col>\n        </v-row>\n\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        :source="source"\n        :minPxPerSec="minPxPerSec"\n        :scrollParent="scrollParent"\n        :freqRate="freqRate"\n        :targetChannel="targetChannel"\n        showSpectrogram\n        splitChannels\n        normalize\n        responsive\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n        @spectrogram-render-start="onSpectrogramRenderStart"\n        @spectrogram-render-end="onSpectrogramRenderEnd"\n      >\n        <v-progress-linear\n          v-if="isLoading"\n          color="light-blue"\n          height="10"\n          indeterminate\n        />\n      </wave-surfer>\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        isScroll: true,\n        isLoading: false,\n        zoom: 100,\n        freqRate: 1,\n        freqRateVal: 1,\n        targetChannel: 0,\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      computed: {\n        minPxPerSec: function() {\n          if (this.isScroll) {\n            return 100;\n          }\n          return 50;\n        },\n        scrollParent: function() {\n          return this.isScroll;\n        }\n      },\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onFreqRateEnd: function(val) {\n          const vm = this;\n          setTimeout(function() {\n            vm.freqRate = val\n          }, 1);\n        },\n        onZoomEnd: function(val) {\n          const vm = this;\n          setTimeout(function() {\n            if (vm.$refs.wavesurfer){\n              vm.$refs.wavesurfer.zoom(Number(val) * 100);\n            }\n          }, 1);\n        },\n        onSpectrogramRenderEnd() {\n          this.isLoading = false;\n        },\n        onSpectrogramRenderStart() {\n          this.isLoading = true;\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        }\n      }\n    };\n    ',source:null,isReady:!1}},computed:{minPxPerSec:function(){return this.isScroll?100:50},scrollParent:function(){return this.isScroll}},methods:{onFileChange:function(e){var t=this;if(this.source=null,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onFreqRateEnd:function(e){var t=this;setTimeout((function(){t.freqRate=e}),1)},onZoomEnd:function(e){var t=this;setTimeout((function(){t.$refs.wavesurfer?t.$refs.wavesurfer.zoom(100*Number(e)):(t.snackbar.text="sound file is not readed.",t.snackbar.show=!0)}),1)},onSpectrogramRenderEnd:function(){this.isLoading=!1},onSpectrogramRenderStart:function(){this.isLoading=!0},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},Sa=Pa,Ta=n("8e36"),Ea=n("b974"),Ra=n("b73d"),_a=Object(d["a"])(Sa,ga,ka,!1,null,"57d38da8",null),Da=_a.exports;p()(_a,{VCol:ue["a"],VFileInput:Er["a"],VProgressLinear:Ta["a"],VRow:he["a"],VSelect:Ea["a"],VSlider:Gr["a"],VSnackbar:Rr["a"],VSwitch:Ra["a"]});var Oa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title},scopedSlots:e._u([{key:"toolbar",fn:function(){return[n("v-switch",{staticClass:"mt-4",attrs:{label:"scroll"},model:{value:e.isScroll,callback:function(t){e.isScroll=t},expression:"isScroll"}})]},proxy:!0},{key:"input-form",fn:function(){return[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-file-input",{attrs:{accept:"video/*",label:"video file"},on:{change:e.onFileChange}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{items:[0,1],label:"target channel"},model:{value:e.targetChannel,callback:function(t){e.targetChannel=t},expression:"targetChannel"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",step:"1",min:1,max:5,"thumb-size":24,label:"Zoom"},on:{end:e.onZoomEnd},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" "+e._s("x "+n)+" ")]}}]),model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",step:"0.25",min:.25,max:1,hint:"モノラル音源の場合: "+12*e.freqRateVal+" kHz,\n              ステレオ音源の場合: "+24*e.freqRateVal+" kHz までを表示します",label:"MaxFreq"},on:{end:e.onFreqRateEnd},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" "+e._s(n)+" ")]}}]),model:{value:e.freqRateVal,callback:function(t){e.freqRateVal=t},expression:"freqRateVal"}})],1)],1)]},proxy:!0}])},[e.source?n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("video",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:"video",attrs:{src:e.source},on:{loadeddata:e.onLoadedData}})])],1)],1):e._e(),e.videoSource?n("wave-surfer",{ref:"wavesurfer",attrs:{showSpectrogram:"",showFreqLabel:"",splitChannels:"",normalize:"",responsive:"",backend:"MediaElement",source:e.videoSource,minPxPerSec:e.minPxPerSec,scrollParent:e.scrollParent,freqRate:e.freqRate,targetChannel:e.targetChannel},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,"spectrogram-render-start":e.onSpectrogramRenderStart,"spectrogram-render-end":e.onSpectrogramRenderEnd}},[e.isLoading?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e()],1):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},Wa=[],Ma="spectrogram",La="$vuetify.example.spectrogram",ja={name:Ma,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WaveSurfer:xr},data:function(){return{locale:La,title:"wavesurfer.vue>example>".concat(Ma),card_title:"".concat(Ma," demo"),desc:"How to show the spectrogram of audio file.",isScroll:!0,isLoading:!1,zoom:1,freqRateVal:.5,freqRate:.5,targetChannel:0,snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-row>\n          <v-col cols="12">\n            <v-file-input\n              accept="video/*"\n              label="video file"\n              @change="onFileChange"\n            />\n          </v-col>\n          <v-col cols="12">\n            <v-select\n              v-model="targetChannel"\n              :items="[0, 1]"\n              label="target channel"\n            ></v-select>\n          </v-col>\n          <v-col cols="12">\n            <v-slider\n              v-model="zoom"\n              @end="onZoomEnd"\n              append-icon="mdi-magnify-plus-cursor"\n              prepend-icon="mdi-magnify-minus-cursor"\n              step="1"\n              :min="0"\n              :max="5"\n              :thumb-size="24"\n              label="Zoom"\n            >\n              <template v-slot:thumb-label="{ value }">\n              x {{ value }}\n              </template>\n            </v-slider>\n          </v-col>\n          <v-col cols="12">\n            <v-slider\n              v-model="freqRateVal"\n              @end="onFreqRateEnd"\n              append-icon="mdi-magnify-plus-cursor"\n              prepend-icon="mdi-magnify-minus-cursor"\n              step="0.25"\n              :min="0.25"\n              :max="1"\n              label="MaxFreq"\n            >\n              <template v-slot:thumb-label="{ value }">\n                {{ value }}\n              </template>\n            </v-slider>\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <v-card-text v-if="source">\n        <v-row>\n          <v-col cols="3">\n            <video ref="video" v-show="!isLoading" :src="source" @loadeddata="onLoadedData" />\n          </v-col>\n        </v-row>\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="videoSource"\n        showSpectrogram\n        showFreqLabel\n        splitChannels\n        normalize\n        responsive\n        backend="MediaElement"\n        @play="onPlay"\n        @pause="onPause"\n        @destroy="onDestroy"\n        @spectrogram-render-start="onSpectrogramRenderStart"\n        @spectrogram-render-end="onSpectrogramRenderEnd"\n        :source="videoSource"\n        :minPxPerSec="minPxPerSec"\n        :scrollParent="scrollParent"\n        :freqRate="freqRate"\n        :targetChannel="targetChannel"\n      >\n        <v-progress-linear v-if="isLoading" indeterminate />\n      </wave-surfer>\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        videoSource: null,\n        isLoading: false,\n        zoom: 1,\n        freqRate: 0.5,\n        freqRateVal: 0.5,\n        targetChannel: 0,\n        isScroll: true,\n        snackbar: {\n          show: false,\n          text: ""\n        }\n      }),\n      computed: {\n        minPxPerSec: function() {\n          if (this.isScroll) {\n            return 100;\n          }\n          return 50;\n        },\n        scrollParent: function() {\n          return this.isScroll;\n        }\n      },\n      methods: {\n        onFileChange: function(file) {\n          this.source = null;\n          if (file) {\n            const fr = new FileReader();\n            fr.readAsDataURL(file);\n            fr.addEventListener("load", () => {\n              this.isLoading = true\n              this.source = fr.result;\n            });\n          }\n        },\n        onLoadedData: function() {\n          const vm = this;\n          setTimeout(function() {\n            vm.videoSource = vm.$refs.video;\n          }, 1);\n        },\n        onFreqRateEnd: function(val) {\n          const vm = this;\n          setTimeout(function() {\n            vm.freqRate = val\n          }, 1);\n        },\n        onZoomEnd: function(val) {\n          const vm = this;\n          setTimeout(function() {\n            if (vm.$refs.wavesurfer){\n              vm.$refs.wavesurfer.zoom(Number(val) * 100);\n            }\n          }, 1);\n        },\n        onSpectrogramRenderEnd() {\n          this.isLoading = false;\n          this.onReady();\n        },\n        onReady: function() {\n          this.isReady = true;\n          this.snackbar.text = "on ready";\n          this.snackbar.show = true;\n        },\n        onPlay: function() {\n          this.snackbar.text = "on play";\n          this.snackbar.show = true;\n        },\n        onPause: function() {\n          this.snackbar.text = "on pause";\n          this.snackbar.show = true;\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        }\n      }\n    };\n    ',source:null,videoSource:null,isReady:!1}},computed:{minPxPerSec:function(){return this.isScroll?100:50},scrollParent:function(){return this.isScroll}},methods:{onFileChange:function(e){var t=this;if(this.source=null,this.videoSource=null,this.showVideo=!1,e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.isLoading=!0,t.source=n.result}))}},onLoadedData:function(){var e=this;setTimeout((function(){e.videoSource=e.$refs.video}),1)},onFreqRateEnd:function(e){var t=this;setTimeout((function(){t.freqRate=e}),1)},onZoomEnd:function(e){var t=this;setTimeout((function(){t.$refs.wavesurfer&&t.$refs.wavesurfer.zoom(100*Number(e))}),1)},onSpectrogramRenderStart:function(){this.isLoading=!0},onSpectrogramRenderEnd:function(){this.isLoading=!1,this.onReady()},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}},mounted:function(){this.source=null,this.videoSource=null,this.zoom=1,this.freqRateVal=.5,this.freqRate=.5,this.targetChannel=0}},Fa=ja,Va=Object(d["a"])(Fa,Oa,Wa,!1,null,"009439df",null),$a=Va.exports;p()(Va,{VCardText:st["b"],VCol:ue["a"],VFileInput:Er["a"],VProgressLinear:Ta["a"],VRow:he["a"],VSelect:Ea["a"],VSlider:Gr["a"],VSnackbar:Rr["a"],VSwitch:Ra["a"]});var Aa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.$vuetify.lang.t(e.locale+".headline"),template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.cardTitle},scopedSlots:e._u([{key:"input-form",fn:function(){return[n("v-file-input",{attrs:{accept:"audio/*",label:"audio file"},on:{change:e.onFileChange}}),e.source?n("v-file-input",{attrs:{accept:".TextGrid",label:"textgrid"},on:{change:e.onTextGridFileChange}}):e._e(),e.source?n("v-slider",{attrs:{"append-icon":"mdi-magnify-plus-cursor","prepend-icon":"mdi-magnify-minus-cursor",step:"1",min:1,max:5,label:"Zoom"},on:{end:e.onZoomEnd},scopedSlots:e._u([{key:"thumb-label",fn:function(t){var n=t.value;return[e._v(" × "+e._s(n)+" ")]}}],null,!1,880521920),model:{value:e.zoom,callback:function(t){e.zoom=t},expression:"zoom"}}):e._e(),n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{"item-text":"text","item-value":"val",items:e.textgridMaxHeightChoices,label:"textgrid max height"},model:{value:e.textgridMaxHeight,callback:function(t){e.textgridMaxHeight=t},expression:"textgridMaxHeight"}})],1)]},proxy:!0},{key:"toolbar",fn:function(){return[n("w-example-help-dialog",[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".help"))}})])]},proxy:!0}])},[e.source?n("wave-surfer",{ref:"wavesurfer",attrs:{showTimeLine:"",showTextGrid:"",responsive:"","textgrid-max-height":e.textgridMaxHeight,source:e.source},on:{play:e.onPlay,pause:e.onPause,destroy:e.onDestroy,ready:e.onReady,error:e.onError,"textgrid-dblclick":e.onDblclick,"textgrid-click":e.onClick,"textgrid-update":e.onTextGridUpdate,"textgrid-current-update":e.onTextGridCurrentUpdate},scopedSlots:e._u([{key:"textform",fn:function(){return[e.current.key?n("v-text-field",{staticClass:"ma-0",attrs:{label:"text",outline:"","hide-details":"",disabled:null==e.current.key},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveTierValue.apply(null,arguments)}},model:{value:e.current.text,callback:function(t){e.$set(e.current,"text",t)},expression:"current.text"}}):e._e()]},proxy:!0}],null,!1,1598026600)}):e._e(),e.isReady?n("w-example-demo-card-actions",{attrs:{ws:e.$refs.wavesurfer}}):e._e(),e.isReady?n("v-tabs",{attrs:{"background-color":"primary",dark:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e._l(e.tabs,(function(t,r){return n("v-tab",{key:r},[e._v(" "+e._s(t)+" ")])})),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"align-self-center mr-4",attrs:{icon:""}},"v-btn",a,!1),r),[n("v-icon",{attrs:{right:""}},[e._v("mdi-plus")])],1)]}}],null,!1,1641706287),model:{value:e.tierDialog.show,callback:function(t){e.$set(e.tierDialog,"show",t)},expression:"tierDialog.show"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(" New Tier ")])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"Tier name*",required:""},model:{value:e.tierDialog.name,callback:function(t){e.$set(e.tierDialog,"name",t)},expression:"tierDialog.name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-select",{attrs:{items:["interval","point"],label:"tier type*",required:""},model:{value:e.tierDialog.type,callback:function(t){e.$set(e.tierDialog,"type",t)},expression:"tierDialog.type"}})],1)],1)],1),n("small",[e._v("*indicates required field")])],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeTierDialog}},[e._v(" Close ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveTierDialog}},[e._v(" Save ")])],1)],1)],1)],2):e._e(),e.current.key?n("v-tabs-items",[n("v-data-table",{attrs:{headers:e.headers,items:e.current.values,"sort-by":"time"},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[e._v("TIER: "+e._s(e.current.key))]),n("v-spacer"),n("v-btn",{staticClass:"mb-2 mx-2",attrs:{color:"error",dark:""},on:{click:function(t){return e.deleteTier(e.current.key)}}},[e._v(" Delete Tier ")]),n("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",a,!1),r),[e._v(" New Item ")])]}}],null,!1,269893243),model:{value:e.valueDialog.show,callback:function(t){e.$set(e.valueDialog,"show",t)},expression:"valueDialog.show"}},[n("v-card",[n("v-card-title",[e._v(" Value in "+e._s(e.current.key)+" ")]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"text"},model:{value:e.valueDialog.text,callback:function(t){e.$set(e.valueDialog,"text",t)},expression:"valueDialog.text"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"time"},model:{value:e.valueDialog.time,callback:function(t){e.$set(e.valueDialog,"time",t)},expression:"valueDialog.time"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeValueDialog}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveValueDialog}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.playTextGrid(r)}}},[e._v(" mdi-play ")]),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editValue(r)}}},[e._v(" mdi-pencil ")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteTierValue(r)}}},[e._v(" mdi-delete ")])]}}],null,!1,903370172)})],1):e._e(),e.tabs.length>0?n("v-card-actions",[n("v-btn",{attrs:{color:"primary",block:"",rounded:"",dark:""},on:{click:e.downloadTextGrid}},[e._v(" Download TextGrid ")])],1):e._e(),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},Ia=[],za=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:e.width},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",{attrs:{icon:e.icon}},[e.icon?n("v-icon",e._g(e._b({},"v-icon",a,!1),r),[e._v("mdi-help")]):e._e()],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline",domProps:{textContent:e._s(e.$vuetify.lang.t("$vuetify.wExampleHelpDialog.headline"))}})]),n("v-card-text",[e._t("default")],2),n("v-card-actions",[n("v-spacer"),e._t("actions"),n("v-btn",{attrs:{text:"",color:"primary"},domProps:{textContent:e._s(e.$vuetify.lang.t("$vuetify.close"))},on:{click:function(t){e.dialog=!1}}})],2)],1)],1)},Ha=[],Ba={name:"w-example-help-dialog",data:function(){return{dialog:!1}},props:{icon:{type:Boolean,default:!0},width:{type:String,default:"600px"}}},qa=Ba,Na=Object(d["a"])(qa,za,Ha,!1,null,"126501be",null),Ga=Na.exports;p()(Na,{VBtn:m["a"],VCard:ot["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VDialog:ba["a"],VIcon:b["a"],VSpacer:x["a"]});var Ua="textgrid",Za="$vuetify.example.textgrid",Xa={name:Ua,components:{WExampleLayout:tt,WExampleDemoCard:dt,WExampleDemoCardActions:bt,WExampleHelpDialog:Ga,WaveSurfer:xr},data:function(){return{source:null,textgrid:{},current:{key:null,text:null,time:null,idx:null,values:[]},isReady:!1,zoom:1,tab:null,textgridMaxHeight:null,textgridMaxHeightChoices:[{text:"",val:null},{text:"100px",val:"100px"},{text:"30%",val:"30%"},{text:"30vh",val:"30vh"}],valueDialog:{show:!1,text:"",time:0},tierDialog:{show:!1,name:"",type:"interval"},tabs:[],headers:[{text:"time",value:"time"},{text:"text",value:"text"},{text:"Actions",value:"actions",sortable:!1}],snackbar:{show:!1,text:""},locale:Za,title:"wavesurfer.vue>example>".concat(Ua),cardTitle:"".concat(Ua," demo"),template:'\n    <v-card class="mx-auto">\n      <v-card-text>\n        <v-file-input\n          accept="audio/*"\n          label="audio file"\n          @change="onFileChange"\n        />\n        <v-file-input\n          accept=".TextGrid"\n          v-if="source"\n          label="textgrid"\n          @change="onTextGridFileChange"\n        />\n        <v-slider\n          v-if="source"\n          v-model="zoom"\n          @end="onZoomEnd"\n          append-icon="mdi-magnify-plus-cursor"\n          prepend-icon="mdi-magnify-minus-cursor"\n          step="1"\n          :min="0"\n          :max="5"\n          label="Zoom"\n        >\n          <template v-slot:thumb-label="{ value }">\n            &times; {{ value }}\n          </template>\n        </v-slider>\n        <v-col cols="12">\n          <v-select\n            v-if="source"\n            v-model="textgridMaxHeight"\n            item-text="text"\n            item-value="val"\n            :items="textgridMaxHeightChoices"\n            label="textgrid max height"\n          />\n        </v-col>\n      </v-card-text>\n      <wave-surfer\n        ref="wavesurfer"\n        v-if="source"\n        responsive\n        showTimeLine\n        showTextGrid\n        @ready="onReady"\n        @textgrid-dblclick="onDblclick"\n        @textgrid-click="onClick"\n        @textgrid-update="onTextGridUpdate"\n        @textgrid-current-update="onTextGridCurrentUpdate"\n        :source="source"\n        :textgrid-max-height="textgridMaxHeight.val"\n      >\n        <template v-slot:textform>\n          <v-text-field\n            v-if="current.key"\n            v-model="current.text"\n            class="ma-0"\n            label="text"\n            outline\n            hide-details\n            :disabled="current.key == null"\n            @keydown.enter="saveTierValue"\n          />\n        </template>\n      </wave-surfer>\n      <v-card-actions v-if="source">\n        <v-btn dark icon color="primary" @click="skipBackward">\n          <v-icon dark>mdi-skip-backward</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="playPause">\n          <v-icon dark>mdi-play-pause</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="play">\n          <v-icon dark>mdi-play</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="pause">\n          <v-icon dark>mdi-pause</v-icon>\n        </v-btn>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="skipForward">\n          <v-icon dark>mdi-skip-forward</v-icon>\n        </v-btn>\n      </v-card-actions>\n      <v-tabs v-if="isReady" v-model="tab" background-color="primary" dark>\n        <v-tab v-for="(tier, key) in tabs" :key="key">\n          {{ tier }}\n        </v-tab>\n        <v-dialog v-model="tierDialog.show" persistent max-width="600px">\n          <template v-slot:activator="{ on, attrs }">\n            <v-btn icon class="align-self-center mr-4" v-bind="attrs" v-on="on">\n              <v-icon right>mdi-plus</v-icon>\n            </v-btn>\n          </template>\n          <v-card>\n            <v-card-title>\n              <span class="headline">\n                New Tier\n              </span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols="12" sm="6">\n                    <v-text-field\n                      v-model="tierDialog.name"\n                      label="Tier name*"\n                      required\n                    />\n                  </v-col>\n                  <v-col cols="12" sm="6">\n                    <v-select\n                      :items="[\'interval\', \'point\']"\n                      label="tier type*"\n                      v-model="tierDialog.type"\n                      required\n                    />\n                  </v-col>\n                </v-row>\n              </v-container>\n              <small>*indicates required field</small>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer />\n              <v-btn color="blue darken-1" text @click="closeTierDialog">\n                Close\n              </v-btn>\n              <v-btn color="blue darken-1" text @click="saveTierDialog">\n                Save\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-tabs>\n      <v-tabs-items v-if="current.key">\n        <v-data-table :headers="headers" :items="current.values" sort-by="time">\n          <template v-slot:top>\n            <v-toolbar flat color="white">\n              <v-toolbar-title>TIER: {{ current.key }}</v-toolbar-title>\n              <v-spacer />\n              <v-btn\n                color="error"\n                dark\n                class="mb-2 mx-2"\n                @click="deleteTier(current.key)"\n              >\n                Delete Tier\n              </v-btn>\n\n              <v-dialog v-model="valueDialog.show" max-width="500px">\n                <template v-slot:activator="{ on, attrs }">\n                  <v-btn\n                    color="primary"\n                    dark\n                    class="mb-2"\n                    v-bind="attrs"\n                    v-on="on"\n                  >\n                    New Item\n                  </v-btn>\n                </template>\n                <v-card>\n                  <v-card-title> Value in {{ current.key }} </v-card-title>\n                  <v-card-text>\n                    <v-container>\n                      <v-row>\n                        <v-col cols="12" sm="6">\n                          <v-text-field\n                            v-model="valueDialog.text"\n                            label="text"\n                          />\n                        </v-col>\n                        <v-col cols="12" sm="6">\n                          <v-text-field\n                            v-model="valueDialog.time"\n                            label="time"\n                          />\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color="blue darken-1" text @click="closeValueDialog">\n                      Cancel\n                    </v-btn>\n                    <v-btn color="blue darken-1" text @click="saveValueDialog">\n                      Save\n                    </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-toolbar>\n          </template>\n          <template v-slot:item.actions="{ item }">\n            <v-icon small class="mr-2" @click="editValue(item)">\n              mdi-pencil\n            </v-icon>\n            <v-icon small @click="deleteTierValue(item)">\n              mdi-delete\n            </v-icon>\n          </template>\n        </v-data-table>\n      </v-tabs-items>\n      <v-card-actions v-if="tabs.length > 0">\n        <v-btn @click="downloadTextGrid" color="primary" block rounded dark>\n          Download TextGrid\n        </v-btn>\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        source: null,\n        textgrid: {},\n        current: {\n          key: null,\n          text: null,\n          time: null,\n          idx: null,\n          values: []\n        },\n        isReady: false,\n        zoom: 1,\n        tab: null,\n        textgridMaxHeight: { text: "", val: null },\n        textgridMaxHeightChoices: [\n          { text: "", val: null },\n          { text: "100px", val: "100px" },\n          { text: "30%", val: "30%" },\n          { text: "30vh", val: "30vh" }\n        ],\n        valueDialog: {\n          show: false,\n          text: "",\n          time: 0\n        },\n        tierDialog: {\n          show: false,\n          name: "",\n          type: "interval"\n        },\n        tabs: [],\n        headers: [\n          { text: "time", value: "time" },\n          { text: "text", value: "text" },\n          { text: "Actions", value: "actions", sortable: false }\n        ],\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      watch: {\n        tab: function(val) {\n          if (val === null) {\n            this.current.key = "";\n            this.current.values = [];\n          } else {\n            this.current.key = Object.keys(this.textgrid)[val];\n            if (this.textgrid[this.current.key]) {\n              this.current.values = this.textgrid[this.current.key].values;\n            }\n          }\n        }\n      },\n      methods: {\n        closeTierDialog: function() {\n          this.tierDialog.show = false;\n          this.tierDialog.name = "";\n          this.tierDialog.type = "interval";\n        },\n        saveTierDialog: function() {\n          this.$refs.wavesurfer.addTier(this.tierDialog.name, this.tierDialog.type);\n          this.closeTierDialog();\n          if (this.tab !== null) {\n            this.tab++;\n          }\n        },\n        deleteTier: function(key) {\n          this.$refs.wavesurfer.deleteTier(key);\n          if (this.tab == 0) {\n            this.tab = null;\n          } else {\n            this.tab = this.tab - 1;\n          }\n        },\n        closeValueDialog: function() {\n          this.valueDialog.show = false;\n          this.valueDialog.text = "";\n          this.valueDialog.time = 0;\n        },\n        saveValueDialog: function() {\n          const key = this.current.key;\n          const item = {\n            time: this.valueDialog.time,\n            text: this.valueDialog.text\n          };\n          this.current.time = item.time;\n          this.current.text = item.text;\n          if (this.textgrid[key].values.findIndex(x => x.time == item.time) > -1) {\n            this.saveTierValue();\n          } else {\n            this.$refs.wavesurfer.addTierValue(key, item);\n          }\n          this.closeValueDialog();\n        },\n        editValue(value) {\n          const idx = this.textgrid[this.current.key].values.findIndex(\n            x => x.time == value.time\n          );\n          if (idx > -1){\n            this.current.idx = idx;\n            this.valueDialog.text = value.text;\n            this.valueDialog.time = value.time;\n            this.valueDialog.show = true;\n          }\n        },\n        saveTierValue: function() {\n          const key = this.current.key;\n          const item = {\n            time: this.current.time,\n            text: this.current.text\n          }\n          const idx = this.current.idx\n          this.$refs.wavesurfer.setTierValue(key, idx, item);\n        },\n        deleteTierValue(item) {\n          const key = this.current.key;\n          const idx = this.textgrid.values.findIndex(x=>x.time==item.time)\n          if (idx > -1){\n            this.$refs.wavesurfer[key].deleteTierValue(key, idx);\n          }\n        },\n        downloadTextGrid: function() {\n          const filename = "test.TextGrid";\n          this.$refs.wavesurfer.downloadTextGrid(filename);\n        },\n        play: function() {\n          this.$refs.wavesurfer.play();\n        },\n        pause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.pause();\n          }\n        },\n        playPause: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.playPause();\n          }\n        },\n        skipBackward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipBackward();\n          }\n        },\n        skipForward: function() {\n          if (this.$refs.wavesurfer) {\n            this.$refs.wavesurfer.skipForward();\n          }\n        },\n        onTextGridFileChange: function(file) {\n          if (file) {\n            this.$refs.wavesurfer.loadTextGrid(file);\n          }\n        },\n        onFileChange: function(file) {\n          this.source = null\n          this.textgrid = {}\n          this.current = {\n            key: null,\n            text: null,\n            time: null,\n            idx: null,\n            values: []\n          },\n          this.isReady = false\n          this.tab = null\n          this.valueDialog = {\n            show: false,\n            text: "",\n            time: 0\n          }\n          this.tierDialog: {\n            show: false,\n            name: "",\n            type: "interval"\n          }\n          this.tabs: [],\n          const fr = new FileReader();\n          fr.readAsDataURL(file);\n          fr.addEventListener("load", () => {\n            this.source = fr.result;\n          });\n        },\n        onZoomEnd: function(val) {\n          this.$refs.wavesurfer.zoom(Number(val) * 100);\n        },\n        onReady: function() {\n          this.isReady = true;\n        },\n        onDblclick: function(obj) {\n          const key = obj.key;\n          const item = {\n            time: obj.time,\n            text: ""\n          };\n          this.$refs.wavesurfer.addTierValue(key, item);\n        },\n        onClick: function(obj) {\n          if (obj.item) {\n            this.current.key = obj.key;\n            this.current.text = obj.item.text;\n            this.current.time = obj.item.time;\n          }\n        },\n        onTextGridUpdate: function(textgrid) {\n          this.textgrid = textgrid;\n          this.tabs = Object.keys(this.textgrid);\n        },\n        onTextGridCurrentUpdate: function(current) {\n          this.current.key = current.key;\n          this.current.idx = current.index;\n\n          // update tab\n          const tabIdx = this.tabs.findIndex(x => {\n            return x == current.key;\n          });\n          if (tabIdx > -1) {\n            this.tab = tabIdx;\n          }\n\n          if (current.item) {\n            this.current.time = current.item.time;\n            this.current.text = current.item.text;\n          } else {\n            this.current.time = 0;\n            this.current.text = "";\n          }\n        }\n      }\n    };\n    '}},watch:{tab:function(e){null===e?(this.current.key="",this.current.values=[]):(this.current.key=Object.keys(this.textgrid)[e],this.textgrid[this.current.key]&&(this.current.values=this.textgrid[this.current.key].values))}},methods:{closeTierDialog:function(){this.tierDialog.show=!1,this.tierDialog.name="",this.tierDialog.type="interval"},saveTierDialog:function(){this.$refs.wavesurfer.addTier(this.tierDialog.name,this.tierDialog.type),this.closeTierDialog(),null!==this.tab&&this.tab++},deleteTier:function(e){this.$refs.wavesurfer.deleteTier(e),0==this.tab?this.tab=null:this.tab=this.tab-1},closeValueDialog:function(){this.valueDialog.show=!1,this.valueDialog.text="",this.valueDialog.time=0},saveValueDialog:function(){var e=this.current.key,t={time:this.valueDialog.time,text:this.valueDialog.text};this.current.time=t.time,this.current.text=t.text;var n=this.textgrid[e].values.findIndex((function(e){return e.time==t.time}));n>-1?this.saveTierValue():this.$refs.wavesurfer.addTierValue(e,t),this.closeValueDialog()},playTextGrid:function(e){var t=this.current.key,n=this.textgrid[this.current.key].values.findIndex((function(t){return t.time==e.time}));n>-1&&this.$refs.wavesurfer.playTextGrid(t,n)},editValue:function(e){var t=this.textgrid[this.current.key].values.findIndex((function(t){return t.time==e.time}));t>-1&&(this.current.idx=t,this.valueDialog.text=e.text,this.valueDialog.time=e.time,this.valueDialog.show=!0)},saveTierValue:function(){var e=this.current.key,t={time:this.current.time,text:this.current.text},n=this.current.idx;this.$refs.wavesurfer.setTierValue(e,n,t)},deleteTierValue:function(e){var t=this.current.key,n=this.textgrid[t].values.findIndex((function(t){return t.time==e.time}));this.$refs.wavesurfer.deleteTierValue(t,n)},downloadTextGrid:function(){var e="test.TextGrid";this.$refs.wavesurfer.downloadTextGrid(e)},onTextGridFileChange:function(e){e&&this.$refs.wavesurfer.loadTextGrid(e)},onFileChange:function(e){var t=this;if(this.source=null,this.textgrid={},this.isReady=!1,this.zoom=1,this.tab=null,this.current={key:null,text:null,time:null,idx:null,values:[]},this.valueDialog={show:!1,text:"",time:0},this.tierDialog={show:!1,name:"",type:"interval"},this.tabs=[],e){var n=new FileReader;n.readAsDataURL(e),n.addEventListener("load",(function(){t.source=n.result}))}},onZoomEnd:function(e){this.$refs.wavesurfer.zoom(100*Number(e))},onReady:function(){this.isReady=!0,this.snackbar.text="on ready",this.snackbar.show=!0},onError:function(e){this.snackbar.text="error: ".concat(e.message),this.snackbar.show=!0},onPlay:function(){this.snackbar.text="on play",this.snackbar.show=!0},onPause:function(){this.snackbar.text="on pause",this.snackbar.show=!0},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0},onDblclick:function(e){var t=e.key,n={time:e.time,text:""};this.$refs.wavesurfer.addTierValue(t,n)},onClick:function(e){e.item&&(this.current.key=e.key,this.current.text=e.item.text,this.current.time=e.item.time)},onTextGridUpdate:function(e){this.textgrid=e,this.tabs=Object.keys(this.textgrid)},onTextGridCurrentUpdate:function(e){this.current.key=e.key;var t=this.tabs.findIndex((function(t){return t==e.key}));t>-1&&(this.tab=t),this.current.idx=e.index,e.item?(this.current.time=e.item.time,this.current.text=e.item.text):(this.current.time=0,this.current.text="")}},mounted:function(){this.source=null,this.textgrid={},this.isReady=!1,this.zoom=1,this.tab=null,this.current={key:null,text:null,time:null,idx:null,values:[]},this.valueDialog={show:!1,text:"",time:0},this.tierDialog={show:!1,name:"",type:"interval"},this.tabs=[]}},Ka=Xa,Ya=Object(d["a"])(Ka,Aa,Ia,!1,null,"33885bb0",null),Ja=Ya.exports;p()(Ya,{VBtn:m["a"],VCard:ot["a"],VCardActions:st["a"],VCardText:st["b"],VCardTitle:st["c"],VCol:ue["a"],VContainer:de["a"],VDataTable:ye["a"],VDialog:ba["a"],VFileInput:Er["a"],VIcon:b["a"],VRow:he["a"],VSelect:Ea["a"],VSlider:Gr["a"],VSnackbar:Rr["a"],VSpacer:x["a"],VTab:Ke["a"],VTabs:Je["a"],VTabsItems:Qe["a"],VTextField:C["a"],VToolbar:ct["a"],VToolbarTitle:P["b"]});var Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("w-example-layout",{attrs:{heading:e.title,desc:e.desc,template_code:e.template,script_code:e.code},scopedSlots:e._u([{key:"desc",fn:function(){return[n("span",{staticClass:"font-weight-light subtitle-1",domProps:{innerHTML:e._s(e.$vuetify.lang.t(e.locale+".desc"))}})]},proxy:!0}])},[n("w-example-demo-card",{attrs:{title:e.card_title}},[n("wave-surfer",{ref:"wavesurfer",attrs:{rec:"",responsive:"",waveColor:e.waveColor,barWidth:e.barWidth,barRadius:e.barRadius},on:{destroy:e.onDestroy}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.recStart}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-record-circle")])],1),n("v-btn",{attrs:{dark:"",icon:"",color:"primary"},on:{click:e.recStop}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-stop-circle")])],1),n("v-spacer")],1),n("v-snackbar",{model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)],1)},ei=[],ti="recording",ni="$vuetify.example.recording",ri={name:ti,components:{WExampleLayout:tt,WExampleDemoCard:dt,WaveSurfer:xr},data:function(){return{locale:ni,title:"wavesurfer.vue>example>".concat(ti),card_title:"".concat(ti," demo"),desc:"How to record the audio.",barWidth:3,barRadius:3,waveColor:"black",snackbar:{show:!1,text:""},template:'\n    <v-card class="mx-auto">\n      <wave-surfer\n        ref="wavesurfer"\n        rec\n        responsive\n        :waveColor="waveColor"\n        :barWidth="barWidth"\n        :barRadius="barRadius"\n        @destroy="onDestroy"\n      />\n      <v-card-actions>\n        <v-spacer />\n        <v-btn dark icon color="primary" @click="recStart">\n          <v-icon dark>mdi-record-circle</v-icon>\n        </v-btn>\n        <v-btn dark icon color="primary" @click="recStop">\n          <v-icon dark>mdi-stop-circle</v-icon>\n        </v-btn>\n        <v-spacer />\n      </v-card-actions>\n      <v-snackbar v-model="snackbar.show">\n        {{ snackbar.text }}\n      </v-snackbar>\n    </v-card>\n    ',code:'\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: { WaveSurfer },\n      data: () => ({\n        barWidth: 3,\n        barRadius: 3,\n        waveColor: "black",\n        snackbar: {\n          show: false,\n          text: ""\n        },\n      }),\n      methods: {\n        recStart: function() {\n          if (this.$refs.wavesurfer) this.$refs.wavesurfer.recStart();\n        },\n        recStop: function() {\n          if (this.$refs.wavesurfer) this.$refs.wavesurfer.recStop();\n        },\n        onDestroy: function() {\n          this.snackbar.text = "on destroy";\n          this.snackbar.show = true;\n        }\n      }\n    };\n    ',source:null,isReady:!1}},methods:{recStart:function(){this.$refs.wavesurfer&&this.$refs.wavesurfer.recStart()},recStop:function(){this.$refs.wavesurfer&&this.$refs.wavesurfer.recStop()},onDestroy:function(){this.snackbar.text="on destroy",this.snackbar.show=!0}}},ai=ri,ii=Object(d["a"])(ai,Qa,ei,!1,null,"06075e3e",null),oi=ii.exports;p()(ii,{VBtn:m["a"],VCardActions:st["a"],VIcon:b["a"],VSnackbar:Rr["a"],VSpacer:x["a"]});var si="example",li=[{path:"/".concat(si,"/audio-element"),name:"".concat(si,"-audio-element"),text:"Audio-Element",component:Dr},{path:"/".concat(si,"/bars"),name:"".concat(si,"-bars"),text:"Bars",component:Zr},{path:"/".concat(si,"/split-cannels"),name:"".concat(si,"-split-cannels"),text:"SplitChannels",component:na},{path:"/".concat(si,"/timeline"),name:"".concat(si,"-timeline"),text:"Timeline",component:ua},{path:"/".concat(si,"/pointline"),name:"".concat(si,"-pointline"),text:"Pointline",component:wa},{path:"/".concat(si,"/textgrid"),name:"".concat(si,"-textgrid"),text:"TextGrid",component:Ja},{path:"/".concat(si,"/spectrogram"),name:"".concat(si,"-spectrogram"),text:"Spectrogram",component:Da},{path:"/".concat(si,"/video-element"),name:"".concat(si,"-video-element"),text:"Video-Element",component:$r},{path:"/".concat(si,"/video-spectrogram"),name:"".concat(si,"-video-spectrogram"),text:"Video-Spectrogram",component:$a},{path:"/".concat(si,"/recording"),name:"".concat(si,"-recording"),text:"Recording",component:oi}],ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"grey lighten-2 fill-height",attrs:{fluid:""}},[n("v-row",[n("v-col",[n("w-jumbotron",{attrs:{heading:"wavesurfer.vue/home"}})],1)],1),n("v-row",[n("v-col",{staticClass:"text-center"},[n("span",{staticClass:"font-weight-light subtitle-1 my-0",domProps:{innerHTML:e._s(e.$vuetify.lang.t("$vuetify.home.desc"))}})])],1),n("h3",[e._v("Quick start")]),n("v-row",[n("v-col",[n("span",{staticClass:"font-weight-light subtitle-1 my-0",domProps:{innerHTML:e._s(e.$vuetify.lang.t("$vuetify.home.quickStart.install"))}}),n("w-code-heighlight",[e._v(" $ yarn add https://github.com/qh73xe/wavesurfer.vue.git ")]),n("span",{staticClass:"font-weight-light subtitle-1 my-0",domProps:{innerHTML:e._s(e.$vuetify.lang.t("$vuetify.home.quickStart.example"))}}),n("w-code-heighlight",[e._v(" "+e._s(e.code_string)+" ")]),n("span",{staticClass:"font-weight-light subtitle-1 my-0",domProps:{innerHTML:e._s(e.$vuetify.lang.t("$vuetify.home.quickStart.result"))}}),n("v-card",[n("wave-surfer",{attrs:{source:e.source}})],1)],1)],1)],1)},ui=[],di={name:"Home",components:{WJumbotron:se,WaveSurfer:xr,WCodeHeighlight:Ge},data:function(){return{source:"https://github.com/qh73xe/wavesurfer.vue/blob/master/misc/demo.wav",code:'\n    <template>\n      <wave-surfer :source="source" />\n    </template>\n\n    <script>\n    import WaveSurfer from "wavesurfer.vue";\n    export default {\n      components: {\n        WaveSurfer\n      },\n      data: () => ({\n        source: "https://raw.githubusercontent.com/qh73xe/wavesurfer.vue/master/misc/demo.wav"\n      }),\n    };\n    <\/script>\n    '}},computed:{routes:function(){var e,t={main:{icon:"mdi-apps",items:[]},documents:{icon:"mdi-file-document",items:[]},examples:{icon:"mdi-xml",items:[]}},n=Object(_["a"])(this.$router.options.routes);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.name.match(/docs-/)?t.documents.items.push(r):r.name.match(/example-/)?t.examples.items.push(r):t.main.items.push(r)}}catch(a){n.e(a)}finally{n.f()}return t},code_string:function(){var e,t=[],n=Object(_["a"])(this.code.split("\n"));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(a){n.e(a)}finally{n.f()}return"".concat(t.join("\n"))}}},hi=di,pi=Object(d["a"])(hi,ci,ui,!1,null,null,null),fi=pi.exports;p()(pi,{VCard:ot["a"],VCol:ue["a"],VContainer:de["a"],VRow:he["a"]});var vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{tile:""}},[n("s-tool-bar",{on:{click:e.onToolBarClick}}),e.source?n("wave-surfer",{ref:"ws",attrs:{normalize:"",responsive:"",scrollParent:"",splitChannels:"",showTextGrid:"",showSpectrogram:"",showFreqLabel:"",backend:"MediaElement","textgrid-max-height":"80px",source:e.source,freqRate:e.freqRate,minPxPerSec:e.minPxPerSec},scopedSlots:e._u([{key:"textform",fn:function(){return[e.current.key?n("v-text-field",{staticClass:"ma-0",attrs:{outline:"","hide-details":"",label:"text",disabled:null==e.current.key},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}):e._e()]},proxy:!0}],null,!1,3396206128)}):n("v-alert",{staticClass:"mb-0",attrs:{tile:"",type:"warning"}},[e._v(" 音声が登録されていません. Open > Read From Audio File ... から音声ファイルを設定してください. ")])],1)},mi=[],bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{attrs:{dense:"",dark:"",color:"primary lighten-1"}},[n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[n("v-menu",{attrs:{tile:"",bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",small:"",text:""}},"v-btn",a,!1),r),[e._v("open")])]}}])},[n("s-upload-list",{on:{click:function(t){return e.$emit("click",t)}}})],1),n("v-menu",{attrs:{tile:"",bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",small:"",text:""}},"v-btn",a,!1),r),[e._v("save")])]}}])},[n("s-download-list",{on:{click:function(t){return e.$emit("click",t)}}})],1)],1),n("v-spacer"),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[n("v-menu",{attrs:{tile:"",bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",small:"",text:""}},"v-btn",a,!1),r),[e._v(" View ")])]}}])},[n("s-view-list",{on:{click:function(t){return e.$emit("click",t)}}})],1),n("v-menu",{attrs:{tile:"",bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",small:"",text:""}},"v-btn",a,!1),r),[e._v(" Tier ")])]}}])},[n("s-m-tier-list",{on:{click:function(t){return e.$emit("click",t)}}})],1),n("v-menu",{attrs:{tile:"",bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",small:"",text:""}},"v-btn",a,!1),r),[e._v(" Record ")])]}}])},[n("s-m-record-list",{on:{click:function(t){return e.$emit("click",t)}}})],1)],1)],1)},yi=[],wi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{attrs:{dense:""}},[n("input",{ref:"input",staticStyle:{display:"none"},attrs:{accept:e.clicked.accept,type:"file"},on:{change:e.onChange}}),e._l(e.items,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.onClick(t)}}},[n("v-list-item-title",[e._v(e._s(t.text))])],1)}))],2)},gi=[],ki={name:"s-upload-list",data:function(){return{clicked:{text:"",val:"",accept:""}}},computed:{items:function(){return[{text:"Read From Audio File ...",val:"AUDIO",accept:"audio/*"},{text:"Read From Textgrid File ...",val:"TEXTGRID",accept:".TextGrid,.textgrid,.Textgrid"}]}},methods:{init:function(){this.clicked={text:"",val:"",accept:""}},open:function(e){var t=this,n=this.items.findIndex((function(t){return t.val==e}));-1!==n&&(this.clicked=this.items[n],this.$nextTick((function(){t.$refs.input.click()})))},onClick:function(e){var t=this;this.clicked=e,this.$nextTick((function(){t.$refs.input.click()}))},onChange:function(){var e={type:"OPEN",click:this.clicked.val,files:this.$refs.input.files};this.$emit("click",e),this.init()}}},xi=ki,Ci=Object(d["a"])(xi,wi,gi,!1,null,"6ba5c079",null),Pi=Ci.exports;p()(Ci,{VList:y["a"],VListItem:w["a"],VListItemTitle:g["c"]});var Si=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("s-click-list",{attrs:{items:e.items,type:"open"},on:{click:function(t){return e.$emit("click",t)}}})},Ti=[],Ei=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{attrs:{dense:""}},e._l(e.items,(function(t,r){return n("v-list-item",{key:r,on:{click:function(n){return e.onClick(t)}}},[n("v-list-item-title",[e._v(e._s(t.text))])],1)})),1)},Ri=[],_i={name:"s-view-list",props:{items:{type:Array,required:!0},type:{type:String,required:!0}},methods:{onClick:function(e){var t={type:this.type,click:e.val};this.$emit("click",t)}}},Di=_i,Oi=Object(d["a"])(Di,Ei,Ri,!1,null,"201bdc9a",null),Wi=Oi.exports;p()(Oi,{VList:y["a"],VListItem:w["a"],VListItemTitle:g["c"]});var Mi={name:"s-download-list",components:{SClickList:Wi},computed:{items:function(){return[{text:"Save as Textgrid File ...",val:"TEXTGRID"},{text:"Save as Json File ...",val:"TEXTGRID"}]}}},Li=Mi,ji=Object(d["a"])(Li,Si,Ti,!1,null,"7ba576f8",null),Fi=ji.exports,Vi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("s-click-list",{attrs:{items:e.items,type:"view"},on:{click:function(t){return e.$emit("click",t)}}})},$i=[],Ai={name:"s-view-list",components:{SClickList:Wi},computed:{items:function(){return[{text:"Zoom in",val:"ZOOM:IN"},{text:"Zoom out",val:"ZOOM:OUT"},{text:"Zoom to Selection",val:"ZOOM:SELECTED"}]}}},Ii=Ai,zi=Object(d["a"])(Ii,Vi,$i,!1,null,"eb4c4b9c",null),Hi=zi.exports,Bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("s-click-list",{attrs:{items:e.items,type:"tier"},on:{click:function(t){return e.$emit("click",t)}}})},qi=[],Ni={name:"s-m-tier-list",components:{SClickList:Wi},computed:{items:function(){return[{text:"Add tier ...",val:"ADD"},{text:"Duplicate tier ...",val:"Duplicate"},{text:"Edit tier ...",val:"Edit"},{text:"Remove tier ...",val:"Remove"},{text:"Remove all text from tier",val:"Remove:text"}]}}},Gi=Ni,Ui=Object(d["a"])(Gi,Bi,qi,!1,null,"06b7784e",null),Zi=Ui.exports,Xi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("s-click-list",{attrs:{items:e.items,type:"record"},on:{click:function(t){return e.$emit("click",t)}}})},Ki=[],Yi={name:"s-m-tier-list",components:{SClickList:Wi},computed:{items:function(){return[{text:"Add record ...",val:"ADD"},{text:"Edit record ...",val:"Edit"},{text:"Remove record ...",val:"Remove"}]}}},Ji=Yi,Qi=Object(d["a"])(Ji,Xi,Ki,!1,null,"e3aa0242",null),eo=Qi.exports,to={name:"s-tool-bar",components:{SUploadList:Pi,SDownloadList:Fi,SViewList:Hi,SMTierList:Zi,SMRecordList:eo}},no=to,ro=Object(d["a"])(no,bi,yi,!1,null,"c3d32a3c",null),ao=ro.exports;p()(ro,{VBtn:m["a"],VMenu:k["a"],VSpacer:x["a"],VToolbar:ct["a"],VToolbarItems:P["a"]});var io={name:"surfer",components:{SToolBar:ao,WaveSurfer:xr},data:function(){return{isReady:!1,source:null,textgrid:{},text:"",freqRate:.25,minPxPerSec:100,current:{key:"",record:{text:"",time:0,idx:0},tier:{values:[]}},zoom:1,tab:null}},methods:{initCurrent:function(){this.current.key="",this.current.record.text="",this.current.record.time=0,this.current.record.idx=0,this.current.tier.values=[]},initData:function(){this.source=null,this.textgrid={},this.isReady=!1,this.zoom=1,this.tab=null,this.text="",this.initCurrent()},loadAudio:function(e){var t=this;this.source=null;var n=new FileReader;n.addEventListener("load",(function(){t.source=n.result})),n.readAsDataURL(e)},onToolBarClick:function(e){console.log(e.click,e.type),"OPEN"==e.type&&"AUDIO"==e.click&&this.loadAudio(e.files[0])}}},oo=io,so=Object(d["a"])(oo,vi,mi,!1,null,"afc93bf0",null),lo=so.exports;p()(so,{VAlert:Xe["a"],VCard:ot["a"],VTextField:C["a"]}),a["a"].use(Y["a"]);var co=[{path:"/",name:"Home",text:"Home",component:fi},{path:"/surfer",name:"Surfer",text:"Surfer",component:lo}];co=co.concat(je),co=co.concat(li);var uo=new Y["a"]({mode:"history",base:"/",routes:co});a["a"].config.productionTip=!1,new a["a"]({vuetify:U,store:K,router:uo,render:function(e){return e(H)}}).$mount("#app")},6469:function(e,t,n){},"65d1":function(e,t,n){"use strict";n("966a")},"966a":function(e,t,n){},d4c37:function(e,t,n){"use strict";n("6469")},fa0a:function(e,t,n){"use strict";n("3cac")}});
//# sourceMappingURL=app.8a86a4ec.js.map